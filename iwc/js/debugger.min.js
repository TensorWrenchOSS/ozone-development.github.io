var ozpIwc=ozpIwc||{};ozpIwc.Event=function(){this.events={}},ozpIwc.Event.prototype.on=function(a,b,c){var d=b;return c&&(d=function(){b.apply(c,arguments)},d.ozpIwcDelegateFor=b),this.events[a]=this.events[a]||[],this.events[a].push(d),d},ozpIwc.Event.prototype.off=function(a,b){this.events[a]=(this.events[a]||[]).filter(function(a){return a!==b&&a.ozpIwcDelegateFor!==b})},ozpIwc.Event.prototype.trigger=function(a,b){b=b||new ozpIwc.CancelableEvent;var c=this.events[a]||[];return c.forEach(function(a){a(b)}),b},ozpIwc.Event.prototype.mixinOnOff=function(a){var b=this;a.on=function(){return b.on.apply(b,arguments)},a.off=function(){return b.off.apply(b,arguments)}},ozpIwc.CancelableEvent=function(a){a=a||{};for(var b in a)this[b]=a[b];this.canceled=!1,this.cancelReason=null},ozpIwc.CancelableEvent.prototype.cancel=function(a){return a=a||"Unknown",this.canceled=!0,this.cancelReason=a,this},"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){function a(a){try{return a.sentinel=0,0===Object.getOwnPropertyDescriptor(a,"sentinel").value}catch(b){}}function b(a){try{return Object.defineProperty(a,"sentinel",{}),"sentinel"in a}catch(b){}}var c,d,e,f,g=Function.prototype.call,h=Object.prototype,i=g.bind(h.hasOwnProperty),j=i(h,"__defineGetter__");if(j&&(c=g.bind(h.__defineGetter__),d=g.bind(h.__defineSetter__),e=g.bind(h.__lookupGetter__),f=g.bind(h.__lookupSetter__)),Object.getPrototypeOf||(Object.getPrototypeOf=function(a){var b=a.__proto__;return b||null===b?b:a.constructor?a.constructor.prototype:h}),Object.defineProperty){var k=a({}),l="undefined"==typeof document||a(document.createElement("div"));if(!l||!k)var m=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||m){var n="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(a,b){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError(n+a);if(m)try{return m.call(Object,a,b)}catch(c){}if(i(a,b)){var d={enumerable:!0,configurable:!0};if(j){var g=a.__proto__,k=a!==h;k&&(a.__proto__=h);var l=e(a,b),o=f(a,b);if(k&&(a.__proto__=g),l||o)return l&&(d.get=l),o&&(d.set=o),d}return d.value=a[b],d.writable=!0,d}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(a){return Object.keys(a)}),!Object.create){var o,p=!({__proto__:null}instanceof Object);o=p||"undefined"==typeof document?function(){return{__proto__:null}}:function(){function a(){}var b=document.createElement("iframe"),c=document.body||document.documentElement;b.style.display="none",c.appendChild(b),b.src="javascript:";var d=b.contentWindow.Object.prototype;return c.removeChild(b),b=null,delete d.constructor,delete d.hasOwnProperty,delete d.propertyIsEnumerable,delete d.isPrototypeOf,delete d.toLocaleString,delete d.toString,delete d.valueOf,d.__proto__=null,a.prototype=d,o=function(){return new a},new a},Object.create=function(a,b){function c(){}var d;if(null===a)d=o();else{if("object"!=typeof a&&"function"!=typeof a)throw new TypeError("Object prototype may only be an Object or null");c.prototype=a,d=new c,d.__proto__=a}return void 0!==b&&Object.defineProperties(d,b),d}}if(Object.defineProperty){var q=b({}),r="undefined"==typeof document||b(document.createElement("div"));if(!q||!r)var s=Object.defineProperty,t=Object.defineProperties}if(!Object.defineProperty||s){var u="Property description must be an object: ",v="Object.defineProperty called on non-object: ",w="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(a,b,g){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError(v+a);if("object"!=typeof g&&"function"!=typeof g||null===g)throw new TypeError(u+g);if(s)try{return s.call(Object,a,b,g)}catch(i){}if("value"in g)if(j&&(e(a,b)||f(a,b))){var k=a.__proto__;a.__proto__=h,delete a[b],a[b]=g.value,a.__proto__=k}else a[b]=g.value;else{if(!j)throw new TypeError(w);"get"in g&&c(a,b,g.get),"set"in g&&d(a,b,g.set)}return a}}(!Object.defineProperties||t)&&(Object.defineProperties=function(a,b){if(t)try{return t.call(Object,a,b)}catch(c){}for(var d in b)i(b,d)&&"__proto__"!==d&&Object.defineProperty(a,d,b[d]);return a}),Object.seal||(Object.seal=function(a){if(Object(a)!==a)throw new TypeError("Object.seal can only be called on Objects.");return a}),Object.freeze||(Object.freeze=function(a){if(Object(a)!==a)throw new TypeError("Object.freeze can only be called on Objects.");return a});try{Object.freeze(function(){})}catch(x){Object.freeze=function(a){return function(b){return"function"==typeof b?b:a(b)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(a){if(Object(a)!==a)throw new TypeError("Object.preventExtensions can only be called on Objects.");return a}),Object.isSealed||(Object.isSealed=function(a){if(Object(a)!==a)throw new TypeError("Object.isSealed can only be called on Objects.");return!1}),Object.isFrozen||(Object.isFrozen=function(a){if(Object(a)!==a)throw new TypeError("Object.isFrozen can only be called on Objects.");return!1}),Object.isExtensible||(Object.isExtensible=function(a){if(Object(a)!==a)throw new TypeError("Object.isExtensible can only be called on Objects.");for(var b="";i(a,b);)b+="?";a[b]=!0;var c=i(a,b);return delete a[b],c})}),function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){function a(a){var b=+a;return b!==b?b=0:0!==b&&b!==1/0&&b!==-(1/0)&&(b=(b>0||-1)*Math.floor(Math.abs(b))),b}function b(a){var b=typeof a;return null===a||"undefined"===b||"boolean"===b||"number"===b||"string"===b}function c(a){var c,d,e;if(b(a))return a;if(d=a.valueOf,p(d)&&(c=d.call(a),b(c)))return c;if(e=a.toString,p(e)&&(c=e.call(a),b(c)))return c;throw new TypeError}var d,e=Array.prototype,f=Object.prototype,g=Function.prototype,h=String.prototype,i=Number.prototype,j=e.slice,k=e.splice,l=e.push,m=e.unshift,n=g.call,o=f.toString,p=function(a){return"[object Function]"===o.call(a)},q=function(a){return"[object RegExp]"===o.call(a)},r=function(a){return"[object Array]"===o.call(a)},s=function(a){return"[object String]"===o.call(a)},t=function(a){var b=o.call(a),c="[object Arguments]"===b;return c||(c=!r(a)&&null!==a&&"object"==typeof a&&"number"==typeof a.length&&a.length>=0&&p(a.callee)),c},u=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(a){return!1}}();d=u?function(a,b,c,d){!d&&b in a||Object.defineProperty(a,b,{configurable:!0,enumerable:!1,writable:!0,value:c})}:function(a,b,c,d){!d&&b in a||(a[b]=c)};var v=function(a,b,c){for(var e in b)f.hasOwnProperty.call(b,e)&&d(a,e,b[e],c)},w={ToObject:function(a){if(null==a)throw new TypeError("can't convert "+a+" to object");return Object(a)},ToUint32:function(a){return a>>>0}},x=function(){};v(g,{bind:function(a){var b=this;if(!p(b))throw new TypeError("Function.prototype.bind called on incompatible "+b);for(var c,d=j.call(arguments,1),e=function(){if(this instanceof c){var e=b.apply(this,d.concat(j.call(arguments)));return Object(e)===e?e:this}return b.apply(a,d.concat(j.call(arguments)))},f=Math.max(0,b.length-d.length),g=[],h=0;f>h;h++)g.push("$"+h);return c=Function("binder","return function ("+g.join(",")+"){ return binder.apply(this, arguments); }")(e),b.prototype&&(x.prototype=b.prototype,c.prototype=new x,x.prototype=null),c}});var y=n.bind(f.hasOwnProperty),z=function(){var a=[1,2],b=a.splice();return 2===a.length&&r(b)&&0===b.length}();v(e,{splice:function(){return 0===arguments.length?[]:k.apply(this,arguments)}},z);var A=function(){var a={};return e.splice.call(a,0,0,1),1===a.length}();v(e,{splice:function(b,c){if(0===arguments.length)return[];var d=arguments;return this.length=Math.max(a(this.length),0),arguments.length>0&&"number"!=typeof c&&(d=j.call(arguments),d.length<2?d.push(this.length-b):d[1]=a(c)),k.apply(this,d)}},!A);var B=1!==[].unshift(0);v(e,{unshift:function(){return m.apply(this,arguments),this.length}},B),v(Array,{isArray:r});var C=Object("a"),D="a"!==C[0]||!(0 in C),E=function(a){var b=!0,c=!0;return a&&(a.call("foo",function(a,c,d){"object"!=typeof d&&(b=!1)}),a.call([1],function(){"use strict";c="string"==typeof this},"x")),!!a&&b&&c};v(e,{forEach:function(a){var b=w.ToObject(this),c=D&&s(this)?this.split(""):b,d=arguments[1],e=-1,f=c.length>>>0;if(!p(a))throw new TypeError;for(;++e<f;)e in c&&a.call(d,c[e],e,b)}},!E(e.forEach)),v(e,{map:function(a){var b=w.ToObject(this),c=D&&s(this)?this.split(""):b,d=c.length>>>0,e=Array(d),f=arguments[1];if(!p(a))throw new TypeError(a+" is not a function");for(var g=0;d>g;g++)g in c&&(e[g]=a.call(f,c[g],g,b));return e}},!E(e.map)),v(e,{filter:function(a){var b,c=w.ToObject(this),d=D&&s(this)?this.split(""):c,e=d.length>>>0,f=[],g=arguments[1];if(!p(a))throw new TypeError(a+" is not a function");for(var h=0;e>h;h++)h in d&&(b=d[h],a.call(g,b,h,c)&&f.push(b));return f}},!E(e.filter)),v(e,{every:function(a){var b=w.ToObject(this),c=D&&s(this)?this.split(""):b,d=c.length>>>0,e=arguments[1];if(!p(a))throw new TypeError(a+" is not a function");for(var f=0;d>f;f++)if(f in c&&!a.call(e,c[f],f,b))return!1;return!0}},!E(e.every)),v(e,{some:function(a){var b=w.ToObject(this),c=D&&s(this)?this.split(""):b,d=c.length>>>0,e=arguments[1];if(!p(a))throw new TypeError(a+" is not a function");for(var f=0;d>f;f++)if(f in c&&a.call(e,c[f],f,b))return!0;return!1}},!E(e.some));var F=!1;e.reduce&&(F="object"==typeof e.reduce.call("es5",function(a,b,c,d){return d})),v(e,{reduce:function(a){var b=w.ToObject(this),c=D&&s(this)?this.split(""):b,d=c.length>>>0;if(!p(a))throw new TypeError(a+" is not a function");if(!d&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var e,f=0;if(arguments.length>=2)e=arguments[1];else for(;;){if(f in c){e=c[f++];break}if(++f>=d)throw new TypeError("reduce of empty array with no initial value")}for(;d>f;f++)f in c&&(e=a.call(void 0,e,c[f],f,b));return e}},!F);var G=!1;e.reduceRight&&(G="object"==typeof e.reduceRight.call("es5",function(a,b,c,d){return d})),v(e,{reduceRight:function(a){var b=w.ToObject(this),c=D&&s(this)?this.split(""):b,d=c.length>>>0;if(!p(a))throw new TypeError(a+" is not a function");if(!d&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var e,f=d-1;if(arguments.length>=2)e=arguments[1];else for(;;){if(f in c){e=c[f--];break}if(--f<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>f)return e;do f in c&&(e=a.call(void 0,e,c[f],f,b));while(f--);return e}},!G);var H=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);v(e,{indexOf:function(b){var c=D&&s(this)?this.split(""):w.ToObject(this),d=c.length>>>0;if(!d)return-1;var e=0;for(arguments.length>1&&(e=a(arguments[1])),e=e>=0?e:Math.max(0,d+e);d>e;e++)if(e in c&&c[e]===b)return e;return-1}},H);var I=Array.prototype.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);v(e,{lastIndexOf:function(b){var c=D&&s(this)?this.split(""):w.ToObject(this),d=c.length>>>0;if(!d)return-1;var e=d-1;for(arguments.length>1&&(e=Math.min(e,a(arguments[1]))),e=e>=0?e:d-Math.abs(e);e>=0;e--)if(e in c&&b===c[e])return e;return-1}},I);var J=!{toString:null}.propertyIsEnumerable("toString"),K=function(){}.propertyIsEnumerable("prototype"),L=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],M=L.length;v(Object,{keys:function(a){var b=p(a),c=t(a),d=null!==a&&"object"==typeof a,e=d&&s(a);if(!d&&!b&&!c)throw new TypeError("Object.keys called on a non-object");var f=[],g=K&&b;if(e||c)for(var h=0;h<a.length;++h)f.push(String(h));else for(var i in a)g&&"prototype"===i||!y(a,i)||f.push(String(i));if(J)for(var j=a.constructor,k=j&&j.prototype===a,l=0;M>l;l++){var m=L[l];k&&"constructor"===m||!y(a,m)||f.push(m)}return f}});var N=Object.keys&&function(){return 2===Object.keys(arguments).length}(1,2),O=Object.keys;v(Object,{keys:function(a){return O(t(a)?e.slice.call(a):a)}},!N);var P=-621987552e5,Q="-000001",R=Date.prototype.toISOString&&-1===new Date(P).toISOString().indexOf(Q);v(Date.prototype,{toISOString:function(){var a,b,c,d,e;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(d=this.getUTCFullYear(),e=this.getUTCMonth(),d+=Math.floor(e/12),e=(e%12+12)%12,a=[e+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],d=(0>d?"-":d>9999?"+":"")+("00000"+Math.abs(d)).slice(d>=0&&9999>=d?-4:-6),b=a.length;b--;)c=a[b],10>c&&(a[b]="0"+c);return d+"-"+a.slice(0,2).join("-")+"T"+a.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}},R);var S=!1;try{S=Date.prototype.toJSON&&null===new Date(0/0).toJSON()&&-1!==new Date(P).toJSON().indexOf(Q)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(T){}S||(Date.prototype.toJSON=function(){var a,b=Object(this),d=c(b);if("number"==typeof d&&!isFinite(d))return null;if(a=b.toISOString,"function"!=typeof a)throw new TypeError("toISOString property is not callable");return a.call(b)});var U=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),V=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z")),W=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));(!Date.parse||W||V||!U)&&(Date=function(a){function b(c,d,e,f,g,h,i){var j=arguments.length;if(this instanceof a){var k=1===j&&String(c)===c?new a(b.parse(c)):j>=7?new a(c,d,e,f,g,h,i):j>=6?new a(c,d,e,f,g,h):j>=5?new a(c,d,e,f,g):j>=4?new a(c,d,e,f):j>=3?new a(c,d,e):j>=2?new a(c,d):j>=1?new a(c):new a;return k.constructor=b,k}return a.apply(this,arguments)}function c(a,b){var c=b>1?1:0;return f[b]+Math.floor((a-1969+c)/4)-Math.floor((a-1901+c)/100)+Math.floor((a-1601+c)/400)+365*(a-1970)}function d(b){return Number(new a(1970,0,1,0,0,0,b))}var e=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),f=[0,31,59,90,120,151,181,212,243,273,304,334,365];for(var g in a)b[g]=a[g];return b.now=a.now,b.UTC=a.UTC,b.prototype=a.prototype,b.prototype.constructor=b,b.parse=function(b){var f=e.exec(b);if(f){var g,h=Number(f[1]),i=Number(f[2]||1)-1,j=Number(f[3]||1)-1,k=Number(f[4]||0),l=Number(f[5]||0),m=Number(f[6]||0),n=Math.floor(1e3*Number(f[7]||0)),o=Boolean(f[4]&&!f[8]),p="-"===f[9]?1:-1,q=Number(f[10]||0),r=Number(f[11]||0);return(l>0||m>0||n>0?24:25)>k&&60>l&&60>m&&1e3>n&&i>-1&&12>i&&24>q&&60>r&&j>-1&&j<c(h,i+1)-c(h,i)&&(g=60*(24*(c(h,i)+j)+k+q*p),g=1e3*(60*(g+l+r*p)+m)+n,o&&(g=d(g)),g>=-864e13&&864e13>=g)?g:0/0}return a.parse.apply(this,arguments)},b}(Date)),Date.now||(Date.now=function(){return(new Date).getTime()});var X=i.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0)),Y={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(a,b){for(var c=-1;++c<Y.size;)b+=a*Y.data[c],Y.data[c]=b%Y.base,b=Math.floor(b/Y.base)},divide:function(a){for(var b=Y.size,c=0;--b>=0;)c+=Y.data[b],Y.data[b]=Math.floor(c/a),c=c%a*Y.base},numToString:function(){for(var a=Y.size,b="";--a>=0;)if(""!==b||0===a||0!==Y.data[a]){var c=String(Y.data[a]);""===b?b=c:b+="0000000".slice(0,7-c.length)+c}return b},pow:function ib(a,b,c){return 0===b?c:b%2===1?ib(a,b-1,c*a):ib(a*a,b/2,c)},log:function(a){for(var b=0;a>=4096;)b+=12,a/=4096;for(;a>=2;)b+=1,a/=2;return b}};v(i,{toFixed:function(a){var b,c,d,e,f,g,h,i;if(b=Number(a),b=b!==b?0:Math.floor(b),0>b||b>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(c=Number(this),c!==c)return"NaN";if(-1e21>=c||c>=1e21)return String(c);if(d="",0>c&&(d="-",c=-c),e="0",c>1e-21)if(f=Y.log(c*Y.pow(2,69,1))-69,g=0>f?c*Y.pow(2,-f,1):c/Y.pow(2,f,1),g*=4503599627370496,f=52-f,f>0){for(Y.multiply(0,g),h=b;h>=7;)Y.multiply(1e7,0),h-=7;for(Y.multiply(Y.pow(10,h,1),0),h=f-1;h>=23;)Y.divide(1<<23),h-=23;Y.divide(1<<h),Y.multiply(1,1),Y.divide(2),e=Y.numToString()}else Y.multiply(0,g),Y.multiply(1<<-f,0),e=Y.numToString()+"0.00000000000000000000".slice(2,2+b);return b>0?(i=e.length,e=b>=i?d+"0.0000000000000000000".slice(0,b-i+2)+e:d+e.slice(0,i-b)+"."+e.slice(i-b)):e=d+e,e}},X);var Z=h.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var a="undefined"==typeof/()??/.exec("")[1];h.split=function(b,c){var d=this;if("undefined"==typeof b&&0===c)return[];if("[object RegExp]"!==o.call(b))return Z.call(this,b,c);var e,f,g,h,i=[],j=(b.ignoreCase?"i":"")+(b.multiline?"m":"")+(b.extended?"x":"")+(b.sticky?"y":""),k=0;for(b=new RegExp(b.source,j+"g"),d+="",a||(e=new RegExp("^"+b.source+"$(?!\\s)",j)),c="undefined"==typeof c?-1>>>0:w.ToUint32(c);(f=b.exec(d))&&(g=f.index+f[0].length,!(g>k&&(i.push(d.slice(k,f.index)),!a&&f.length>1&&f[0].replace(e,function(){for(var a=1;a<arguments.length-2;a++)"undefined"==typeof arguments[a]&&(f[a]=void 0)}),f.length>1&&f.index<d.length&&l.apply(i,f.slice(1)),h=f[0].length,k=g,i.length>=c)));)b.lastIndex===f.index&&b.lastIndex++;return k===d.length?(h||!b.test(""))&&i.push(""):i.push(d.slice(k)),i.length>c?i.slice(0,c):i}}():"0".split(void 0,0).length&&(h.split=function(a,b){return"undefined"==typeof a&&0===b?[]:Z.call(this,a,b)});var $=h.replace,_=function(){var a=[];return"x".replace(/x(.)?/g,function(b,c){a.push(c)}),1===a.length&&"undefined"==typeof a[0]}();_||(h.replace=function(a,b){var c=p(b),d=q(a)&&/\)[*?]/.test(a.source);if(c&&d){var e=function(c){var d=arguments.length,e=a.lastIndex;a.lastIndex=0;var f=a.exec(c)||[];return a.lastIndex=e,f.push(arguments[d-2],arguments[d-1]),b.apply(this,f)};return $.call(this,a,e)}return $.call(this,a,b)});var ab=h.substr,bb="".substr&&"b"!=="0b".substr(-1);v(h,{substr:function(a,b){return ab.call(this,0>a&&(a=this.length+a)<0?0:a,b)}},bb);var cb="	\n\f\r   ᠎             　\u2028\u2029﻿",db="​",eb="["+cb+"]",fb=new RegExp("^"+eb+eb+"*"),gb=new RegExp(eb+eb+"*$"),hb=h.trim&&(cb.trim()||!db.trim());v(h,{trim:function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(fb,"").replace(gb,"")}},hb),(8!==parseInt(cb+"08")||22!==parseInt(cb+"0x16"))&&(parseInt=function(a){var b=/^0[xX]/;return function(c,d){return c=String(c).trim(),Number(d)||(d=b.test(c)?16:10),a(c,d)}}(parseInt))}),window.console&&console.log||(console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){}}),function(){function a(a,b){B[y]=a,B[y+1]=b,y+=2,2===y&&w()}function b(a){return"function"==typeof a}function c(){return function(){process.nextTick(g)}}function d(){var a=0,b=new A(g),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function e(){var a=new MessageChannel;return a.port1.onmessage=g,function(){a.port2.postMessage(0)}}function f(){return function(){setTimeout(g,1)}}function g(){for(var a=0;y>a;a+=2)B[a](B[a+1]),B[a]=void 0,B[a+1]=void 0;y=0}function h(){}function i(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}function j(b,c,d){a(function(a){var b=!1,e=i(d,c,function(d){b||(b=!0,c!==d?l(a,d):n(a,d))},function(c){b||(b=!0,o(a,c))});!b&&e&&(b=!0,o(a,e))},b)}function k(a,b){1===b.a?n(a,b.b):2===a.a?o(a,b.b):p(b,void 0,function(b){l(a,b)},function(b){o(a,b)})}function l(a,c){if(a===c)o(a,new TypeError("You cannot resolve a promise with itself"));else if("function"==typeof c||"object"==typeof c&&null!==c)if(c.constructor===a.constructor)k(a,c);else{var d;try{d=c.then}catch(e){C.error=e,d=C}d===C?o(a,C.error):void 0===d?n(a,c):b(d)?j(a,c,d):n(a,c)}else n(a,c)}function m(a){a.f&&a.f(a.b),q(a)}function n(b,c){void 0===b.a&&(b.b=c,b.a=1,0!==b.e.length&&a(q,b))}function o(b,c){void 0===b.a&&(b.a=2,b.b=c,a(m,b))}function p(b,c,d,e){var f=b.e,g=f.length;b.f=null,f[g]=c,f[g+1]=d,f[g+2]=e,0===g&&b.a&&a(q,b)}function q(a){var b=a.e,c=a.a;if(0!==b.length){for(var d,e,f=a.b,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?s(c,d,e,f):e(f);a.e.length=0}}function r(){this.error=null}function s(a,c,d,e){var f,g,h,i,j=b(d);if(j){try{f=d(e)}catch(k){D.error=k,f=D}if(f===D?(i=!0,g=f.error,f=null):h=!0,c===f)return void o(c,new TypeError("A promises callback cannot return that same promise."))}else f=e,h=!0;void 0===c.a&&(j&&h?l(c,f):i?o(c,g):1===a?n(c,f):2===a&&o(c,f))}function t(a,b){try{b(function(b){l(a,b)},function(b){o(a,b)})}catch(c){o(a,c)}}function u(a,b,c,d){this.n=a,this.c=new a(h,d),this.i=c,this.o(b)?(this.m=b,this.d=this.length=b.length,this.l(),0===this.length?n(this.c,this.b):(this.length=this.length||0,this.k(),0===this.d&&n(this.c,this.b))):o(this.c,this.p())}function v(a){if(E++,this.b=this.a=void 0,this.e=[],h!==a){if(!b(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof v))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");t(this,a)}}var w,x=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},y=0,z="undefined"!=typeof window?window:{},A=z.MutationObserver||z.WebKitMutationObserver,z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,B=Array(1e3);w="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?c():A?d():z?e():f();var C=new r,D=new r;u.prototype.o=function(a){return x(a)},u.prototype.p=function(){return Error("Array Methods must be provided an Array")},u.prototype.l=function(){this.b=Array(this.length)},u.prototype.k=function(){for(var a=this.length,b=this.c,c=this.m,d=0;void 0===b.a&&a>d;d++)this.j(c[d],d)},u.prototype.j=function(a,b){var c=this.n;"object"==typeof a&&null!==a?a.constructor===c&&void 0!==a.a?(a.f=null,this.g(a.a,b,a.b)):this.q(c.resolve(a),b):(this.d--,this.b[b]=this.h(a))},u.prototype.g=function(a,b,c){var d=this.c;void 0===d.a&&(this.d--,this.i&&2===a?o(d,c):this.b[b]=this.h(c)),0===this.d&&n(d,this.b)},u.prototype.h=function(a){return a},u.prototype.q=function(a,b){var c=this;p(a,void 0,function(a){c.g(1,b,a)},function(a){c.g(2,b,a)})};var E=0;v.all=function(a,b){return new u(this,a,!0,b).c},v.race=function(a,b){function c(a){l(e,a)}function d(a){o(e,a)}var e=new this(h,b);if(!x(a))return o(e,new TypeError("You must pass an array to race.")),e;for(var f=a.length,g=0;void 0===e.a&&f>g;g++)p(this.resolve(a[g]),void 0,c,d);return e},v.resolve=function(a,b){if(a&&"object"==typeof a&&a.constructor===this)return a;var c=new this(h,b);return l(c,a),c},v.reject=function(a,b){var c=new this(h,b);return o(c,a),c},v.prototype={constructor:v,then:function(b,c){var d=this.a;if(1===d&&!b||2===d&&!c)return this;var e=new this.constructor(h),f=this.b;if(d){var g=arguments[d-1];a(function(){s(d,e,g,f)})}else p(this,e,b,c);return e},"catch":function(a){return this.then(null,a)}};var F={Promise:v,polyfill:function(){var a;a="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self,"Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var c;return new a.Promise(function(a){c=a}),b(c)}()||(a.Promise=v)}};"function"==typeof define&&define.amd?define(function(){return F}):"undefined"!=typeof module&&module.exports?module.exports=F:"undefined"!=typeof this&&(this.ES6Promise=F)}.call(this);var ozpIwc=ozpIwc||{};ozpIwc.util=ozpIwc.util||{},ozpIwc.util.now=function(){return(new Date).getTime()},ozpIwc.util.extend=function(a,b){if(!a||!a.prototype)throw ozpIwc.log.error("Cannot create a new class for ",b," due to invalid baseclass:",a),new Error("Cannot create a new class due to invalid baseClass.  Dependency not loaded first?");return b.prototype=Object.create(a.prototype),b.prototype.constructor=b,b},ozpIwc.util.safePostMessage=function(a,b,c){try{var d=b;ozpIwc.util.structuredCloneSupport()||"string"==typeof d||(d=JSON.stringify(b)),a.postMessage(d,c)}catch(e){try{a.postMessage(JSON.stringify(b),c)}catch(e){ozpIwc.util.log("Invalid call to window.postMessage: "+e.message)}}},ozpIwc.util.structuredCloneSupport=function(){if(ozpIwc.util=ozpIwc.util||{},void 0!==ozpIwc.util.structuredCloneSupportCache)return ozpIwc.util.structuredCloneSupportCache;var a="postMessage"in window;try{window.postMessage({toString:function(){a=!1}},"*")}catch(b){}return ozpIwc.util.structuredCloneSupportCache=a,ozpIwc.util.structuredCloneSupportCache},ozpIwc.util.structuredCloneSupport.cache=void 0,ozpIwc.util.clone=function(a){if(!Array.isArray(a)&&"object"!=typeof a)return a;try{return JSON.parse(JSON.stringify(a))}catch(b){ozpIwc.log.log(b)}},ozpIwc.util.parseQueryParams=function(a){a=a||window.location.search;for(var b,c={},d=/\??([^&=]+)=?([^&]*)/g;null!==(b=d.exec(a));)c[b[1]]=decodeURIComponent(b[2]);return c},ozpIwc.util.determineOrigin=function(a){var b=document.createElement("a");b.href=a;var c=b.protocol+"//"+b.hostname;return b.port&&(c+=":"+b.port),c},ozpIwc.util.escapeRegex=function(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},ozpIwc.util.parseOzpUrl=function(a){var b=/^(?:(?:web\+ozp|ozp):\/\/)?([0-9a-zA-Z](?:[-.\w])*)(\/[^?#]*)(\?[^#]*)?(#.*)?$/.exec(decodeURIComponent(a));if(b){var c={dst:b[1],resource:b[2],action:"get"};return c}return null},ozpIwc.util.isIWCPacket=function(a){return"string"!=typeof a.src||"string"!=typeof a.dst||"number"!=typeof a.ver||"string"!=typeof a.msgId?!1:!0},function(){var a,b,c,d;!function(){var e={},f={};a=function(a,b,c){e[a]={deps:b,callback:c}},d=c=b=function(a){function c(b){if("."!==b.charAt(0))return b;for(var c=b.split("/"),d=a.split("/").slice(0,-1),e=0,f=c.length;f>e;e++){var g=c[e];if(".."===g)d.pop();else{if("."===g)continue;d.push(g)}}return d.join("/")}if(d._eak_seen=e,f[a])return f[a];if(f[a]={},!e[a])throw new Error("Could not find module "+a);for(var g,h=e[a],i=h.deps,j=h.callback,k=[],l=0,m=i.length;m>l;l++)k.push("exports"===i[l]?g={}:b(c(i[l])));var n=j.apply(this,k);return f[a]=g||n}}(),a("promise/all",["./utils","exports"],function(a,b){"use strict";function c(a){var b=this;if(!d(a))throw new TypeError("You must pass an array to all.");return new b(function(b,c){function d(a){return function(b){f(a,b)}}function f(a,c){h[a]=c,0===--i&&b(h)}var g,h=[],i=a.length;0===i&&b([]);for(var j=0;j<a.length;j++)g=a[j],g&&e(g.then)?g.then(d(j),c):f(j,g)})}var d=a.isArray,e=a.isFunction;b.all=c}),a("promise/asap",["exports"],function(a){"use strict";function b(){return function(){process.nextTick(e)}}function c(){var a=0,b=new i(e),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function d(){return function(){j.setTimeout(e,1)}}function e(){for(var a=0;a<k.length;a++){var b=k[a],c=b[0],d=b[1];c(d)}k=[]}function f(a,b){var c=k.push([a,b]);1===c&&g()}var g,h="undefined"!=typeof window?window:{},i=h.MutationObserver||h.WebKitMutationObserver,j="undefined"!=typeof global?global:void 0===this?window:this,k=[];g="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?b():i?c():d(),a.asap=f}),a("promise/config",["exports"],function(a){"use strict";function b(a,b){return 2!==arguments.length?c[a]:void(c[a]=b)}var c={instrument:!1};a.config=c,a.configure=b}),a("promise/polyfill",["./promise","./utils","exports"],function(a,b,c){"use strict";function d(){var a;a="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var b="Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var b;return new a.Promise(function(a){b=a}),f(b)}();b||(a.Promise=e)}var e=a.Promise,f=b.isFunction;c.polyfill=d}),a("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){if(!v(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof i))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],j(a,this)}function j(a,b){function c(a){o(b,a)}function d(a){q(b,a)}try{a(c,d)}catch(e){d(e)}}function k(a,b,c,d){var e,f,g,h,i=v(c);if(i)try{e=c(d),g=!0}catch(j){h=!0,f=j}else e=d,g=!0;n(b,e)||(i&&g?o(b,e):h?q(b,f):a===D?o(b,e):a===E&&q(b,e))}function l(a,b,c,d){var e=a._subscribers,f=e.length;e[f]=b,e[f+D]=c,e[f+E]=d}function m(a,b){for(var c,d,e=a._subscribers,f=a._detail,g=0;g<e.length;g+=3)c=e[g],d=e[g+b],k(b,c,d,f);a._subscribers=null}function n(a,b){var c,d=null;try{if(a===b)throw new TypeError("A promises callback cannot return that same promise.");if(u(b)&&(d=b.then,v(d)))return d.call(b,function(d){return c?!0:(c=!0,void(b!==d?o(a,d):p(a,d)))},function(b){return c?!0:(c=!0,void q(a,b))}),!0}catch(e){return c?!0:(q(a,e),!0)}return!1}function o(a,b){a===b?p(a,b):n(a,b)||p(a,b)
}function p(a,b){a._state===B&&(a._state=C,a._detail=b,t.async(r,a))}function q(a,b){a._state===B&&(a._state=C,a._detail=b,t.async(s,a))}function r(a){m(a,a._state=D)}function s(a){m(a,a._state=E)}var t=a.config,u=(a.configure,b.objectOrFunction),v=b.isFunction,w=(b.now,c.all),x=d.race,y=e.resolve,z=f.reject,A=g.asap;t.async=A;var B=void 0,C=0,D=1,E=2;i.prototype={constructor:i,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(a,b){var c=this,d=new this.constructor(function(){});if(this._state){var e=arguments;t.async(function(){k(c._state,d,e[c._state-1],c._detail)})}else l(this,d,a,b);return d},"catch":function(a){return this.then(null,a)}},i.all=w,i.race=x,i.resolve=y,i.reject=z,h.Promise=i}),a("promise/race",["./utils","exports"],function(a,b){"use strict";function c(a){var b=this;if(!d(a))throw new TypeError("You must pass an array to race.");return new b(function(b,c){for(var d,e=0;e<a.length;e++)d=a[e],d&&"function"==typeof d.then?d.then(b,c):b(d)})}var d=a.isArray;b.race=c}),a("promise/reject",["exports"],function(a){"use strict";function b(a){var b=this;return new b(function(b,c){c(a)})}a.reject=b}),a("promise/resolve",["exports"],function(a){"use strict";function b(a){if(a&&"object"==typeof a&&a.constructor===this)return a;var b=this;return new b(function(b){b(a)})}a.resolve=b}),a("promise/utils",["exports"],function(a){"use strict";function b(a){return c(a)||"object"==typeof a&&null!==a}function c(a){return"function"==typeof a}function d(a){return"[object Array]"===Object.prototype.toString.call(a)}var e=Date.now||function(){return(new Date).getTime()};a.objectOrFunction=b,a.isFunction=c,a.isArray=d,a.now=e}),b("promise/polyfill").polyfill()}();var ozpIwc=ozpIwc||{};ozpIwc.metricsStats=ozpIwc.metricsStats||{},ozpIwc.metricsStats.DEFAULT_POOL_SIZE=1028,ozpIwc.metricsStats.Sample=function(){this.clear()},ozpIwc.metricsStats.Sample.prototype.update=function(a){this.values.push(a)},ozpIwc.metricsStats.Sample.prototype.clear=function(){this.values=[],this.count=0},ozpIwc.metricsStats.Sample.prototype.size=function(){return this.values.length},ozpIwc.metricsStats.Sample.prototype.getValues=function(){return this.values},ozpIwc.metricsStats.UniformSample=ozpIwc.util.extend(ozpIwc.metricsStats.Sample,function(a){ozpIwc.metricsStats.Sample.apply(this),this.limit=a||ozpIwc.metricsStats.DEFAULT_POOL_SIZE}),ozpIwc.metricsStats.UniformSample.prototype.update=function(a){if(this.count++,this.size()<this.limit)this.values.push(a);else{var b=parseInt(Math.random()*this.count);b<this.limit&&(this.values[b]=a)}};var ozpIwc=ozpIwc||{};ozpIwc.metricsStats=ozpIwc.metricsStats||{},ozpIwc.metricsStats.BinaryHeap=function(a){this.content=[],this.scoreFunction=a},ozpIwc.metricsStats.BinaryHeap.prototype={clone:function(){var a=new ozpIwc.metricsStats.BinaryHeap(this.scoreFunction);return a.content=JSON.parse(JSON.stringify(this.content)),a},push:function(a){this.content.push(a),this.bubbleUp(this.content.length-1)},peek:function(){return this.content[0]},pop:function(){var a=this.content[0],b=this.content.pop();return this.content.length>0&&(this.content[0]=b,this.sinkDown(0)),a},remove:function(a){for(var b=this.content.length,c=0;b>c;c++)if(this.content[c]===a){var d=this.content.pop();return c!==b-1&&(this.content[c]=d,this.scoreFunction(d)<this.scoreFunction(a)?this.bubbleUp(c):this.sinkDown(c)),!0}throw new Error("Node not found.")},size:function(){return this.content.length},bubbleUp:function(a){for(var b=this.content[a];a>0;){var c=Math.floor((a+1)/2)-1,d=this.content[c];if(!(this.scoreFunction(b)<this.scoreFunction(d)))break;this.content[c]=b,this.content[a]=d,a=c}},sinkDown:function(a){for(var b=this.content.length,c=this.content[a],d=this.scoreFunction(c);;){var e=2*(a+1),f=e-1,g=null,h=null;if(b>f){var i=this.content[f];h=this.scoreFunction(i),d>h&&(g=f)}if(b>e){var j=this.content[e],k=this.scoreFunction(j);(null===g?d:h)>k&&(g=e)}if(null===g)break;this.content[a]=this.content[g],this.content[g]=c,a=g}}};var ozpIwc=ozpIwc||{};ozpIwc.metricsStats=ozpIwc.metricsStats||{},ozpIwc.metricsStats.DEFAULT_RESCALE_THRESHOLD=36e5,ozpIwc.metricsStats.DEFAULT_DECAY_ALPHA=.015,ozpIwc.metricsStats.ExponentiallyDecayingSample=ozpIwc.util.extend(ozpIwc.metricsStats.Sample,function(a,b){ozpIwc.metricsStats.Sample.apply(this),this.limit=a||ozpIwc.metricsStats.DEFAULT_POOL_SIZE,this.alpha=b||ozpIwc.metricsStats.DEFAULT_DECAY_ALPHA,this.rescaleThreshold=ozpIwc.metricsStats.DEFAULT_RESCALE_THRESHOLD}),ozpIwc.metricsStats.ExponentiallyDecayingSample.prototype.getValues=function(){for(var a,b=[],c=this.values.clone();void 0!==(a=c.pop());)b.push(a.val);return b},ozpIwc.metricsStats.ExponentiallyDecayingSample.prototype.size=function(){return this.values.size()},ozpIwc.metricsStats.ExponentiallyDecayingSample.prototype.newHeap=function(){return new ozpIwc.metricsStats.BinaryHeap(function(a){return a.priority})},ozpIwc.metricsStats.ExponentiallyDecayingSample.prototype.now=function(){return ozpIwc.util.now()},ozpIwc.metricsStats.ExponentiallyDecayingSample.prototype.tick=function(){return this.now()/1e3},ozpIwc.metricsStats.ExponentiallyDecayingSample.prototype.clear=function(){this.values=this.newHeap(),this.count=0,this.startTime=this.tick(),this.nextScaleTime=this.now()+this.rescaleThreshold},ozpIwc.metricsStats.ExponentiallyDecayingSample.prototype.update=function(a,b){void 0===b?b=this.tick():b/=1e3;var c=this.weight(b-this.startTime)/Math.random(),d={val:a,priority:c};if(this.count<this.limit)this.count+=1,this.values.push(d);else{var e=this.values.peek();e.priority<c&&(this.values.push(d),this.values.pop())}this.now()>this.nextScaleTime&&this.rescale()},ozpIwc.metricsStats.ExponentiallyDecayingSample.prototype.weight=function(a){return Math.exp(this.alpha*a)},ozpIwc.metricsStats.ExponentiallyDecayingSample.prototype.rescale=function(){this.nextScaleTime=this.now()+this.rescaleThreshold;var a=this.values.content,b=[],c=this.startTime;this.startTime=this.tick();for(var d=0;d<a.length;d++)b.push({val:a[d].val,priority:a[d].priority*Math.exp(-this.alpha*(this.startTime-c))});this.values.content=b};var ozpIwc=ozpIwc||{};ozpIwc.metricsStats=ozpIwc.metricsStats||{},ozpIwc.metricsStats.M1_ALPHA=1-Math.exp(-5/60),ozpIwc.metricsStats.M5_ALPHA=1-Math.exp(-5/60/5),ozpIwc.metricsStats.M15_ALPHA=1-Math.exp(-5/60/15),ozpIwc.metricsStats.ExponentiallyWeightedMovingAverage=function(a,b){this.alpha=a,this.interval=b||5e3,this.currentRate=null,this.uncounted=0,this.lastTick=ozpIwc.util.now()},ozpIwc.metricsStats.ExponentiallyWeightedMovingAverage.prototype.update=function(a){this.uncounted+=a||1,this.tick()},ozpIwc.metricsStats.ExponentiallyWeightedMovingAverage.prototype.tick=function(){var a=ozpIwc.util.now(),b=a-this.lastTick;if(b>this.interval){this.lastTick=a-b%this.interval;for(var c=Math.floor(b/this.interval),d=0;c>d;++d){var e=this.uncounted/this.interval;this.uncounted=0,null!==this.currentRate?this.currentRate+=this.alpha*(e-this.currentRate):this.currentRate=e}}},ozpIwc.metricsStats.ExponentiallyWeightedMovingAverage.prototype.rate=function(){return 1e3*this.currentRate};var ozpIwc=ozpIwc||{};ozpIwc.metricTypes=ozpIwc.metricTypes||{},ozpIwc.metricTypes.BaseMetric=function(){this.value=0,this.name="",this.unitName=""},ozpIwc.metricTypes.BaseMetric.prototype.get=function(){return this.value},ozpIwc.metricTypes.BaseMetric.prototype.unit=function(a){return a?(this.unitName=a,this):this.unitName},ozpIwc.metricTypes.Counter=ozpIwc.util.extend(ozpIwc.metricTypes.BaseMetric,function(){ozpIwc.metricTypes.BaseMetric.apply(this,arguments),this.value=0}),ozpIwc.metricTypes.Counter.prototype.inc=function(a){return this.value+=a?a:1},ozpIwc.metricTypes.Counter.prototype.dec=function(a){return this.value-=a?a:1},ozpIwc.metricTypes=ozpIwc.metricTypes||{},ozpIwc.metricTypes.Gauge=ozpIwc.util.extend(ozpIwc.metricTypes.BaseMetric,function(a){ozpIwc.metricTypes.BaseMetric.apply(this,arguments),this.callback=a}),ozpIwc.metricTypes.Gauge.prototype.set=function(a){return this.callback=a,this},ozpIwc.metricTypes.Gauge.prototype.get=function(){return this.callback?this.callback():void 0},ozpIwc.metricTypes.Histogram=ozpIwc.util.extend(ozpIwc.metricTypes.BaseMetric,function(){ozpIwc.metricTypes.BaseMetric.apply(this,arguments),this.sample=new ozpIwc.metricsStats.ExponentiallyDecayingSample,this.clear()}),ozpIwc.metricTypes.Histogram.prototype.clear=function(){this.sample.clear(),this.min=this.max=null,this.varianceMean=0,this.varianceM2=0,this.sum=0,this.count=0},ozpIwc.metricTypes.Histogram.prototype.mark=function(a,b){b=b||ozpIwc.util.now(),this.sample.update(a,b),this.max=null===this.max?a:Math.max(this.max,a),this.min=null===this.min?a:Math.min(this.min,a),this.sum+=a,this.count++;var c=a-this.varianceMean;return this.varianceMean+=c/this.count,this.varianceM2+=c*(a-this.varianceMean),this.count},ozpIwc.metricTypes.Histogram.prototype.get=function(){var a=this.sample.getValues().map(function(a){return parseFloat(a)}).sort(function(a,b){return a-b}),b=function(b){var c=b*a.length;if(c>=a.length)return a[a.length-1];c=Math.max(0,c),c=Math.min(c,a.length+1);var d=a[Math.floor(c)-1],e=a[Math.floor(c)];return d+(c-Math.floor(c))*(e-d)};return{percentile10:b(.1),percentile25:b(.25),median:b(.5),percentile75:b(.75),percentile90:b(.9),percentile95:b(.95),percentile99:b(.99),percentile999:b(.999),variance:this.count<1?null:this.varianceM2/(this.count-1),mean:0===this.count?null:this.varianceMean,stdDev:this.count<1?null:Math.sqrt(this.varianceM2/(this.count-1)),count:this.count,sum:this.sum,max:this.max,min:this.min}},ozpIwc.metricTypes.Meter=ozpIwc.util.extend(ozpIwc.metricTypes.BaseMetric,function(){ozpIwc.metricTypes.BaseMetric.apply(this,arguments),this.m1Rate=new ozpIwc.metricsStats.ExponentiallyWeightedMovingAverage(ozpIwc.metricsStats.M1_ALPHA),this.m5Rate=new ozpIwc.metricsStats.ExponentiallyWeightedMovingAverage(ozpIwc.metricsStats.M5_ALPHA),this.m15Rate=new ozpIwc.metricsStats.ExponentiallyWeightedMovingAverage(ozpIwc.metricsStats.M15_ALPHA),this.startTime=ozpIwc.util.now(),this.value=0}),ozpIwc.metricTypes.Meter.prototype.mark=function(a){return a=a||1,this.value+=a,this.m1Rate.update(a),this.m5Rate.update(a),this.m15Rate.update(a),this.value},ozpIwc.metricTypes.Meter.prototype.get=function(){return{rate1m:this.m1Rate.rate(),rate5m:this.m5Rate.rate(),rate15m:this.m15Rate.rate(),rateMean:this.value/(ozpIwc.util.now()-this.startTime)*1e3,count:this.value}},ozpIwc.metricTypes.Meter.prototype.tick=function(){this.m1Rate.tick(),this.m5Rate.tick(),this.m15Rate.tick()},ozpIwc.metricTypes.Timer=ozpIwc.util.extend(ozpIwc.metricTypes.BaseMetric,function(){ozpIwc.metricTypes.BaseMetric.apply(this,arguments),this.meter=new ozpIwc.metricTypes.Meter,this.histogram=new ozpIwc.metricTypes.Histogram}),ozpIwc.metricTypes.Timer.prototype.mark=function(a,b){this.meter.mark(),this.histogram.mark(a,b)},ozpIwc.metricTypes.Timer.prototype.start=function(){var a=this,b=ozpIwc.util.now();return function(){var c=ozpIwc.util.now();a.mark(c-b,c)}},ozpIwc.metricTypes.Timer.prototype.time=function(a){var b=ozpIwc.util.now();try{a()}finally{var c=ozpIwc.util.now();this.mark(c-b,c)}},ozpIwc.metricTypes.Timer.prototype.get=function(){var a=this.histogram.get(),b=this.meter.get();for(var c in b)a[c]=b[c];return a};var ozpIwc=ozpIwc||{};ozpIwc.MetricsRegistry=function(){this.metrics={};var a=this;this.gauge("registry.metrics.types").set(function(){return Object.keys(a.metrics).length})},ozpIwc.MetricsRegistry.prototype.findOrCreateMetric=function(a,b){var c=this.metrics[a];return c?c instanceof b?c:null:(c=this.metrics[a]=new b,c.name=a,c)},ozpIwc.MetricsRegistry.prototype.makeName=function(a){return Array.prototype.slice.call(a).join(".")},ozpIwc.MetricsRegistry.prototype.counter=function(){return this.findOrCreateMetric(this.makeName(arguments),ozpIwc.metricTypes.Counter)},ozpIwc.MetricsRegistry.prototype.meter=function(){return this.findOrCreateMetric(this.makeName(arguments),ozpIwc.metricTypes.Meter)},ozpIwc.MetricsRegistry.prototype.gauge=function(){return this.findOrCreateMetric(this.makeName(arguments),ozpIwc.metricTypes.Gauge)},ozpIwc.MetricsRegistry.prototype.histogram=function(){return this.findOrCreateMetric(this.makeName(arguments),ozpIwc.metricTypes.Histogram)},ozpIwc.MetricsRegistry.prototype.timer=function(){return this.findOrCreateMetric(this.makeName(arguments),ozpIwc.metricTypes.Timer)},ozpIwc.MetricsRegistry.prototype.register=function(a,b){return this.metrics[this.makeName(a)]=b,b},ozpIwc.MetricsRegistry.prototype.toJson=function(){var a={};for(var b in this.metrics){for(var c=b.split("."),d=a;c.length>1;){var e=c.shift();d=d[e]=d[e]||{}}d[c[0]]=this.metrics[b].get()}return a},ozpIwc.MetricsRegistry.prototype.allMetrics=function(){var a=[];for(var b in this.metrics)a.push(this.metrics[b]);return a},ozpIwc.metrics=new ozpIwc.MetricsRegistry;var ozpIwc=ozpIwc||{};ozpIwc.util=ozpIwc.util||{},ozpIwc.util.ajax=function(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.open(a.method,a.href,!0),Array.isArray(a.headers)&&a.headers.forEach(function(a){d.setRequestHeader(a.name,a.value)});var e=getProtocol(a.href);ozpIwc.basicAuthUsername&&ozpIwc.basicAuthPassword&&"https:"===e&&d.setRequestHeader("Authorization","Basic "+btoa(ozpIwc.basicAuthUsername+":"+ozpIwc.basicAuthPassword)),d.onload=function(){try{b({response:JSON.parse(this.responseText),header:ozpIwc.util.ajaxResponseHeaderToJSON(this.getAllResponseHeaders())})}catch(a){204!==this.status||this.responseText?c(this):b({response:{},header:ozpIwc.util.ajaxResponseHeaderToJSON(this.getAllResponseHeaders())})}},d.onerror=function(){c(this)};try{"POST"===a.method||"PUT"===a.method?d.send(a.data):d.send()}catch(f){c(f)}})},ozpIwc.util.ajaxResponseHeaderToJSON=function(a){var b={};return a.split("\n").forEach(function(a){var c=a.split(":");2===c.length&&(b[c[0].trim()]=c[1].trim())}),b};var getProtocol=function(a){var b=document.createElement("a");return b.href=a,b.protocol},ozpIwc=ozpIwc||{};ozpIwc.AsyncAction=function(){this.callbacks={}},ozpIwc.AsyncAction.prototype.when=function(a,b,c){return c=c||this,this.resolution===a?b.apply(c,this.value):this.callbacks[a]=function(){return b.apply(c,arguments)},this},ozpIwc.AsyncAction.prototype.resolve=function(a){if(this.resolution)throw"Cannot resolve an already resolved AsyncAction";var b=this.callbacks[a];return this.resolution=a,this.value=Array.prototype.slice.call(arguments,1),b&&b.apply(this,this.value),this},ozpIwc.AsyncAction.prototype.success=function(a,b){return this.when("success",a,b)},ozpIwc.AsyncAction.prototype.failure=function(a,b){return this.when("failure",a,b)};var ozpIwc=ozpIwc||{},getStackTrace=function(){var a={};return Error.captureStackTrace(a,getStackTrace),a.stack};ozpIwc.log=ozpIwc.log||{log:function(){window.console&&"function"==typeof window.console.log&&window.console.log.apply(window.console,arguments)},error:function(){window.console&&"function"==typeof window.console.error&&window.console.error.apply(window.console,arguments)}},function(a,b){"use strict";function c(a){return o[n]=d.apply(b,a),n++}function d(a){var c=[].slice.call(arguments,1);return function(){"function"==typeof a?a.apply(b,c):new Function(""+a)()}}function e(a){if(p)setTimeout(d(e,a),0);else{var b=o[a];if(b){p=!0;try{b()}finally{f(a),p=!1}}}}function f(a){delete o[a]}function g(){m=function(){var a=c(arguments);return process.nextTick(d(e,a)),a}}function h(){if(a.postMessage&&!a.importScripts){var b=!0,c=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=c,b}}function i(){var b="setImmediate$"+Math.random()+"$",d=function(c){c.source===a&&"string"==typeof c.data&&0===c.data.indexOf(b)&&e(+c.data.slice(b.length))};a.addEventListener?a.addEventListener("message",d,!1):a.attachEvent("onmessage",d),m=function(){var d=c(arguments);return a.postMessage(b+d,"*"),d}}function j(){var a=new MessageChannel;a.port1.onmessage=function(a){var b=a.data;e(b)},m=function(){var b=c(arguments);return a.port2.postMessage(b),b}}function k(){var a=q.documentElement;m=function(){var b=c(arguments),d=q.createElement("script");return d.onreadystatechange=function(){e(b),d.onreadystatechange=null,a.removeChild(d),d=null},a.appendChild(d),b}}function l(){m=function(){var a=c(arguments);return setTimeout(d(e,a),0),a}}if(!a.setImmediate){var m,n=1,o={},p=!1,q=a.document,r=Object.getPrototypeOf&&Object.getPrototypeOf(a);r=r&&r.setTimeout?r:a,"[object process]"==={}.toString.call(a.process)?g():h()?i():a.MessageChannel?j():q&&"onreadystatechange"in q.createElement("script")?k():l(),r.setImmediate=m,r.clearImmediate=f}}(new Function("return this")());var ozpIwc=ozpIwc||{};ozpIwc.util=ozpIwc.util||{},ozpIwc.util.generateId=function(){return Math.floor(4294967295*Math.random()).toString(16)},ozpIwc.util.setImmediate=function(a){window.setImmediate(a)},ozpIwc.util.arrayContainsAll=function(a,b,c){return c=c||function(a,b){return a===b},b.every(function(b){return a.some(function(a){return c(a,b)})})},ozpIwc.util.objectContainsAll=function(a,b,c){c=c||function(a,b){return a===b};for(var d in b)if(!c(a[d],b[d]))return!1;return!0},ozpIwc.util.openWindow=function(a,b,c){if("object"==typeof b){var d="";for(var e in b)d+=e+"="+encodeURIComponent(b[e])+"&";b=d}window.open(a,b,c)},function(){ozpIwc.BUS_ROOT=window.location.protocol+"//"+window.location.host+window.location.pathname.replace(/[^\/]+$/,"")}(),ozpIwc.util.alert=function(a,b){this.alerts=this.alerts||{},this.alerts[a]?this.alerts[a].error=b:this.alerts[a]={error:b,silence:!1},this.alerts[a].silence||(this.alerts[a].silence=!0,ozpIwc.log.log(a,b))},ozpIwc.abacPolicies={},ozpIwc.abacPolicies.permitWhenObjectHasNoAttributes=function(a){return a.object&&0===Object.keys(a.object).length?"permit":"undetermined"},ozpIwc.abacPolicies.subjectHasAllObjectAttributes=function(a){if(!a.object)return"permit";var b=a.subject||{};return ozpIwc.util.objectContainsAll(b,a.object,this.implies)?"permit":"deny"},ozpIwc.abacPolicies.permitAll=function(){return"permit"};var ozpIwc=ozpIwc||{};ozpIwc.BasicAuthentication=function(){this.roles={};var a=this;ozpIwc.metrics.gauge("security.authentication.roles").set(function(){return a.getRoleCount()})},ozpIwc.BasicAuthentication.prototype.getRoleCount=function(){return this.roles&&Object.keys(this.roles)?Object.keys(this.roles).length:0},ozpIwc.BasicAuthentication.prototype.login=function(a,b){if(!a)throw"Must supply credentials for login";var c=new ozpIwc.AsyncAction;return b=b||[],c.resolve("success",b)};var ozpIwc=ozpIwc||{};ozpIwc.BasicAuthorization=function(a){a=a||{},this.roles={},this.policies=a.policies||[ozpIwc.abacPolicies.permitWhenObjectHasNoAttributes,ozpIwc.abacPolicies.subjectHasAllObjectAttributes];var b=this;ozpIwc.metrics.gauge("security.authorization.roles").set(function(){return b.getRoleCount()})},ozpIwc.BasicAuthorization.prototype.getRoleCount=function(){return this.roles&&Object.keys(this.roles)?Object.keys(this.roles).length:0},ozpIwc.BasicAuthorization.prototype.implies=function(a,b){return void 0===b||null===b?!0:void 0===a||null===a?!1:(a=Array.isArray(a)?a:[a],b=Array.isArray(b)?b:[b],ozpIwc.util.arrayContainsAll(a,b))},ozpIwc.BasicAuthorization.prototype.isPermitted=function(a){var b=new ozpIwc.AsyncAction,c=this.policies.some(function(b){return"permit"===b.call(this,a)},this);return b.resolve(c?"success":"failure")},ozpIwc.authorization=new ozpIwc.BasicAuthorization;var ozpIwc=ozpIwc||{};ozpIwc.KeyBroadcastLocalStorageLink=function(a){a=a||{},this.prefix=a.prefix||"ozpIwc",this.peer=a.peer||ozpIwc.defaultPeer,this.selfId=a.selfId||this.peer.selfId,this.myKeysTimeout=a.myKeysTimeout||5e3,this.otherKeysTimeout=a.otherKeysTimeout||12e4,this.maxRetries=a.maxRetries||6,this.queueSize=a.queueSize||1024,this.sendQueue=this.sendQueue||[],this.fragments=this.fragments||[],this.fragmentSize=a.fragmentSize||1310720,this.fragmentTimeout=a.fragmentTimeout||1e3,String.prototype.chunk=function(a){for(var b=[],c=0;c<this.length;c+=a)b.push(this.slice(c,c+a));return b};var b,c=this,d=function(a){if(a.newValue){try{b=JSON.parse(a.key)}catch(d){return ozpIwc.log.log("Parse error on "+a.key),void ozpIwc.metrics.counter("links.keyBroadcastLocalStorage.packets.parseError").inc()}b.data.fragment?c.handleFragment(b):(c.peer.receive(c.linkId,b),ozpIwc.metrics.counter("links.keyBroadcastLocalStorage.packets.received").inc())}};window.addEventListener("storage",d,!1),this.peer.on("send",function(a){c.send(a.packet)}),this.peer.on("beforeShutdown",function(){window.removeEventListener("storage",d)},this)},ozpIwc.KeyBroadcastLocalStorageLink.prototype.handleFragment=function(a){if(!this.peer.haveSeen(a)){var b=a.data.msgId;this.storeFragment(a);var c=this.defragmentPacket(this.fragments[b]);if(c){window.clearTimeout(this.fragments[b].fragmentTimer);var d=this.peer.packetsSeen[c.srcPeer].indexOf(c.sequence);delete this.peer.packetsSeen[c.srcPeer][d],this.peer.receive(this.linkId,c),ozpIwc.metrics.counter("links.keyBroadcastLocalStorage.packets.received").inc(),delete this.fragments[b]}}},ozpIwc.KeyBroadcastLocalStorageLink.prototype.storeFragment=function(a){if(!a.data.fragment)return null;var b=a.sequence,c=a.srcPeer,d=a.data.msgId,e=a.data.id,f=a.data.chunk,g=a.data.total;if(void 0===d||void 0===e)return null;if(!this.fragments[d]){this.fragments[d]={},this.fragments[d].chunks=[];var h=this;h.key=d,h.total=g,this.fragments[d].timeoutFunc=function(){ozpIwc.metrics.counter("network.packets.dropped").inc(),ozpIwc.metrics.counter("network.fragments.dropped").inc(h.total),delete h.fragments[h.key]}}return window.clearTimeout(this.fragments[d].fragmentTimer),this.fragments[d].fragmentTimer=window.setTimeout(this.fragments[d].timeoutFunc,this.fragmentTimeout),this.fragments[d].total=g||this.fragments[d].total,this.fragments[d].sequence=void 0!==b?b:this.fragments[d].sequence,this.fragments[d].srcPeer=c||this.fragments[d].srcPeer,this.fragments[d].chunks[e]=f,void 0===this.fragments[d].total||void 0===this.fragments[d].sequence||void 0===this.fragments[d].srcPeer?null:(ozpIwc.metrics.counter("links.keyBroadcastLocalStorage.fragments.received").inc(),!0)},ozpIwc.KeyBroadcastLocalStorageLink.prototype.defragmentPacket=function(a){if(a.total!==a.chunks.length)return null;try{var b=JSON.parse(a.chunks.join(""));return{defragmented:!0,sequence:a.sequence,srcPeer:a.srcPeer,data:b}}catch(c){return null}},ozpIwc.KeyBroadcastLocalStorageLink.prototype.send=function(a){var b;try{b=JSON.stringify(a.data)}catch(c){var d=a.msgId||"unknown";return void ozpIwc.log.error("Failed to write packet(msgId="+d+"):"+c.message)}if(b.length<this.fragmentSize)this.queueSend(a);else{var e=b.chunk(this.fragmentSize),f=this;f.data=a.data,delete a.data;for(var g=function(a,b){return b.sequence=f.peer.sequenceCounter++,b.data={fragment:!0,msgId:f.data.msgId,id:h,total:e.length,chunk:a},b},h=0;h<e.length;h++)this.queueSend(g(e[h],a))}},ozpIwc.KeyBroadcastLocalStorageLink.prototype.queueSend=function(a){if(this.sendQueue.length<this.queueSize)for(this.sendQueue=this.sendQueue.concat(a);this.sendQueue.length>0;)this.attemptSend(this.sendQueue.shift());else ozpIwc.metrics.counter("links.keyBroadcastLocalStorage.packets.failed").inc(),ozpIwc.log.error("Failed to write packet(len="+a.length+"): Send queue full.")},ozpIwc.KeyBroadcastLocalStorageLink.prototype.attemptSend=function(a,b){var c=this.sendImpl(a);if(c){var d=this;b=b||0;var e=Math.max(1,Math.pow(2,b-1))-1;if(!(b<d.maxRetries))return ozpIwc.metrics.counter("links.keyBroadcastLocalStorage.packets.failed").inc(),ozpIwc.log.error("Failed to write packet(len="+a.length+"):"+c),c;b++,window.setTimeout(function(){d.attemptSend(a,b)},e)}},ozpIwc.KeyBroadcastLocalStorageLink.prototype.sendImpl=function(a){var b;try{var c=JSON.stringify(a);localStorage.setItem(c,"x"),ozpIwc.metrics.counter("links.keyBroadcastLocalStorage.packets.sent").inc(),localStorage.removeItem(c),b=null}catch(d){"localStorage is null"===d.message?ozpIwc.util.alert("Cannot locate localStorage. Contact your system administrator.",d):18===d.code?ozpIwc.util.alert("Ozone requires your browser to accept cookies. Contact your system administrator.",d):b=d}finally{return b}};var ozpIwc=ozpIwc||{};ozpIwc.LocalStorageLink=function(a){a=a||{},this.prefix=a.prefix||"ozpIwc",this.peer=a.peer||ozpIwc.defaultPeer,this.selfId=a.selfId||this.peer.selfId,this.myKeysTimeout=a.myKeysTimeout||5e3,this.otherKeysTimeout=a.otherKeysTimeout||12e4;var b=this,c=function(a){var c=b.splitKey(a.key);if(c){var d=JSON.parse(localStorage.getItem(a.key));d?"object"!=typeof d?ozpIwc.metrics.counter("links.localStorage.packets.notAnObject").inc():(ozpIwc.metrics.counter("links.localStorage.packets.receive").inc(),b.peer.receive(b.linkId,d)):ozpIwc.metrics.counter("links.localStorage.packets.vanished").inc()}};window.addEventListener("storage",c,!1),this.peer.on("send",function(a){b.send(a.packet)}),this.peer.on("beforeShutdown",function(){b.cleanKeys(),window.removeEventListener("storage",c)},this),window.setInterval(function(){b.cleanKeys()},250),ozpIwc.metrics.gauge("links.localStorage.buffer").set(function(){for(var a={used:0,max:5242880,bufferLen:0,peerUsage:{},peerPackets:{}},c=0;c<localStorage.length;++c){var d=localStorage.key(c),e=localStorage.getItem(d),f=2*e.length,g=ozpIwc.util.now()-this.myKeysTimeout;a.used+=f;var h=b.splitKey(d);h&&(a.peerUsage[h.id]=a.peerUsage[h.id]?a.peerUsage[h.id]+f:f,a.peerPackets[h.id]=a.peerPackets[h.id]?a.peerPackets[h.id]+1:1,a.bufferLen++,h.createdAt<g&&(a.oldKeysCount++,a.oldKeysSize+=f))}return a})},ozpIwc.LocalStorageLink.prototype.makeKey=function(a){return[this.prefix,this.selfId,ozpIwc.util.now(),a].join("|")},ozpIwc.LocalStorageLink.prototype.splitKey=function(a){var b=a.split("|");return 4===b.length&&b[0]===this.prefix?{id:b[1],createdAt:parseInt(b[2])}:null},ozpIwc.LocalStorageLink.prototype.cleanKeys=function(){for(var a=ozpIwc.util.now(),b=a-this.myKeysTimeout,c=a-this.otherKeysTimeout,d=0;d<localStorage.length;++d){var e=localStorage.key(d),f=this.splitKey(e);f&&(f.id===this.selfId&&f.createdAt<=b||f.createdAt<=c)&&localStorage.removeItem(e)}},ozpIwc.LocalStorageLink.prototype.send=function(a){localStorage.setItem(this.makeKey(a.sequence),JSON.stringify(a)),ozpIwc.metrics.counter("links.localStorage.packets.sent").inc()},ozpIwc.Peer=function(){this.selfId=ozpIwc.util.generateId(),this.sequenceCounter=0,this.packetsSeen={},this.knownPeers={},this.events=new ozpIwc.Event,this.events.mixinOnOff(this);var a=this;this.unloadListener=function(){a.shutdown()},window.addEventListener("beforeunload",this.unloadListener)},ozpIwc.Peer.maxSeqIdPerSource=500,ozpIwc.Peer.prototype.haveSeen=function(a){if(a.srcPeer===this.selfId)return ozpIwc.metrics.counter("network.packets.droppedOwnPacket").inc(),!0;var b=this.packetsSeen[a.srcPeer];return b||(b=this.packetsSeen[a.srcPeer]=[]),b.indexOf(a.sequence)>=0?!0:(b.unshift(a.sequence),b.length>=ozpIwc.Peer.maxSeqIdPerSource&&(b.length=ozpIwc.Peer.maxSeqIdPerSource),!1)},ozpIwc.Peer.prototype.send=function(a){var b={srcPeer:this.selfId,sequence:this.sequenceCounter++,data:a},c=new ozpIwc.CancelableEvent({packet:b});this.events.trigger("preSend",c),c.canceled?ozpIwc.metrics.counter("network.packets.sendRejected").inc():(ozpIwc.metrics.counter("network.packets.sent").inc(),this.events.trigger("send",{packet:b}))},ozpIwc.Peer.prototype.receive=function(a,b){return this.haveSeen(b)?void ozpIwc.metrics.counter("network.packets.dropped").inc():(ozpIwc.metrics.counter("network.packets.received").inc(),void this.events.trigger("receive",{packet:b,linkId:a}))},ozpIwc.Peer.prototype.shutdown=function(){this.events.trigger("beforeShutdown"),window.removeEventListener("beforeunload",this.unloadListener)};var ozpIwc=ozpIwc||{};ozpIwc.Participant=function(){this.events=new ozpIwc.Event,this.events.mixinOnOff(this),this.securityAttributes={},this.msgId=0;var a=new ozpIwc.metricTypes.Meter;this.sentPacketsMeter=a,this.receivedPacketsMeter=a,this.forbiddenPacketsMeter=a,this.participantType=this.constructor.name,this.heartBeatContentType="application/vnd.ozp-iwc-address-v1+json",this.heartBeatStatus={name:this.name,type:this.participantType||this.constructor.name},this.replyCallbacks={};var b=this;window.addEventListener("beforeunload",function(){b.send=function(a,b){var c=this.fixPacket(a);return b&&(this.replyCallbacks[c.msgId]=b),ozpIwc.Participant.prototype.send.call(this,c),c},b.leaveEventChannel()})},ozpIwc.Participant.prototype.receiveFromRouter=function(a){var b=this;ozpIwc.authorization.isPermitted({subject:this.securityAttributes,object:a.packet.permissions}).success(function(){b.receivedPacketsMeter.mark(),b.receiveFromRouterImpl(a)}).failure(function(){b.forbiddenPacketsMeter.mark()})},ozpIwc.Participant.prototype.receiveFromRouterImpl=function(a){return!a},ozpIwc.Participant.prototype.connectToRouter=function(a,b){this.address=b,this.router=a,this.securityAttributes.rawAddress=b,this.msgId=0,this.metricRoot="participants."+this.address.split(".").reverse().join("."),this.sentPacketsMeter=ozpIwc.metrics.meter(this.metricRoot,"sentPackets").unit("packets"),this.receivedPacketsMeter=ozpIwc.metrics.meter(this.metricRoot,"receivedPackets").unit("packets"),this.forbiddenPacketsMeter=ozpIwc.metrics.meter(this.metricRoot,"forbiddenPackets").unit("packets"),this.namesResource="/address/"+this.address,this.heartBeatStatus.address=this.address,this.heartBeatStatus.name=this.name,this.heartBeatStatus.type=this.participantType||this.constructor.name,this.joinEventChannel(),this.events.trigger("connectedToRouter")},ozpIwc.Participant.prototype.fixPacket=function(a){return a.src=a.src||this.address,a.ver=a.ver||1,a.msgId=a.msgId||this.generateMsgId(),a.time=a.time||ozpIwc.util.now(),a},ozpIwc.Participant.prototype.send=function(a){return a=this.fixPacket(a),this.sentPacketsMeter.mark(),this.router.send(a,this),a},ozpIwc.Participant.prototype.generateMsgId=function(){return"i:"+this.msgId++},ozpIwc.Participant.prototype.heartbeat=function(){this.router&&this.send({dst:"names.api",resource:this.namesResource,action:"set",entity:this.heartBeatStatus,contentType:this.heartBeatContentType},function(){})},ozpIwc.Participant.prototype.joinEventChannel=function(){return this.router?(this.router.registerMulticast(this,["$bus.multicast"]),this.send({dst:"$bus.multicast",action:"connect",entity:{address:this.address,participantType:this.participantType}}),!0):!1},ozpIwc.Participant.prototype.leaveEventChannel=function(){return this.router?(this.send({dst:"$bus.multicast",action:"disconnect",entity:{address:this.address,participantType:this.participantType,namesResource:this.namesResource}}),!0):!1},ozpIwc.InternalParticipant=ozpIwc.util.extend(ozpIwc.Participant,function(a){a=a||{},ozpIwc.Participant.apply(this,arguments),this.replyCallbacks={},this.participantType="internal",this.name=a.name;var b=this;this.on("connectedToRouter",function(){ozpIwc.metrics.gauge(b.metricRoot,"registeredCallbacks").set(function(){return b.getCallbackCount()})})}),ozpIwc.InternalParticipant.prototype.getCallbackCount=function(){return this.replyCallbacks&&Object.keys(this.replyCallbacks)?Object.keys(this.replyCallbacks).length:0},ozpIwc.InternalParticipant.prototype.receiveFromRouterImpl=function(a){function b(){d=!0}var c=a.packet;if(c.replyTo&&this.replyCallbacks[c.replyTo]){var d=!1;this.replyCallbacks[c.replyTo](c,b),d&&this.cancelCallback(c.replyTo)}else"$bus.multicast"===c.dst?this.events.trigger("receiveEventChannelPacket",a):this.events.trigger("receive",a)},ozpIwc.InternalParticipant.prototype.send=function(a,b){var c=this.fixPacket(a);b&&(this.replyCallbacks[c.msgId]=b);var d=this,e=ozpIwc.Participant.prototype.send;return ozpIwc.util.setImmediate(function(){e.call(d,c)}),c},ozpIwc.InternalParticipant.prototype.cancelCallback=function(a){var b=!1;return a&&(delete this.replyCallbacks[a],b=!0),b};var ozpIwc=ozpIwc||{};ozpIwc.TransportPacketContext=function(a){for(var b in a)this[b]=a[b]},ozpIwc.TransportPacketContext.prototype.replyTo=function(a){var b=(new Date).getTime();
return a.ver=a.ver||1,a.time=a.time||b,a.replyTo=a.replyTo||this.packet.msgId,a.src=a.src||this.packet.dst,a.dst=a.dst||this.packet.src,this.dstParticipant?this.dstParticipant.send(a):(a.msgId=a.msgId||b,this.router.send(a)),a},ozpIwc.Router=function(a){a=a||{},this.peer=a.peer||ozpIwc.defaultPeer;var b=this;this.selfId=ozpIwc.util.generateId(),this.participants={},ozpIwc.metrics.gauge("transport.participants").set(function(){return Object.keys(b.participants).length}),this.events=new ozpIwc.Event,this.events.mixinOnOff(this),this.peer.on("receive",function(a){b.receiveFromPeer(a.packet)});var c=function(a){var b=a.packet;1!==b.ver&&a.cancel("badVersion"),b.src||a.cancel("nullSource"),b.dst||a.cancel("nullDestination"),a.canceled&&ozpIwc.metrics.counter("transport.packets.invalidFormat").inc()};this.events.on("preSend",c),this.watchdog=new ozpIwc.RouterWatchdog({router:this,heartbeatFrequency:a.heartbeatFrequency}),this.registerParticipant(this.watchdog),ozpIwc.metrics.gauge("transport.router.participants").set(function(){return b.getParticipantCount()})},ozpIwc.Router.prototype.getParticipantCount=function(){return this.participants&&Object.keys(this.participants)?Object.keys(this.participants).length:0},ozpIwc.Router.prototype.shutdown=function(){this.watchdog.shutdown()},ozpIwc.Router.prototype.registerParticipant=function(a,b){b=b||{};var c;do c=ozpIwc.util.generateId()+"."+this.selfId;while(this.participants.hasOwnProperty(c));var d=new ozpIwc.CancelableEvent({packet:b,registration:b.entity,participant:a});if(this.events.trigger("preRegisterParticipant",d),d.canceled)return ozpIwc.log.log("registeredParticipant[DENIED] origin:"+a.origin+" because "+d.cancelReason),null;this.participants[c]=a,a.connectToRouter(this,c);var e=new ozpIwc.CancelableEvent({packet:b,participant:a});return this.events.trigger("registeredParticipant",e),c},ozpIwc.Router.prototype.deliverLocal=function(a,b){if(!a)throw"Cannot deliver a null packet!";var c=this.participants[a.dst];if(c){var d=new ozpIwc.TransportPacketContext({packet:a,router:this,srcParticipant:b,dstParticipant:c}),e=new ozpIwc.CancelableEvent({packet:a,dstParticipant:c,srcParticipant:b});return this.events.trigger("preDeliver",e).canceled?void ozpIwc.metrics.counter("transport.packets.rejected").inc():void ozpIwc.authorization.isPermitted({subject:c.securityAttributes,object:a.permissions,action:{action:"receive"}}).success(function(){ozpIwc.metrics.counter("transport.packets.delivered").inc(),c.receiveFromRouter(d)}).failure(function(){ozpIwc.metrics.counter("transport.packets.forbidden").inc()})}},ozpIwc.Router.prototype.registerMulticast=function(a,b){var c=this;return b.forEach(function(b){var d=c.participants[b];if(d||(d=c.participants[b]=new ozpIwc.MulticastParticipant(b)),d.addMember(a),a.address){var e=new ozpIwc.CancelableEvent({entity:{group:b,address:a.address}});c.events.trigger("registeredMulticast",e)}else ozpIwc.log.log("no address for "+a.participantType+" "+a.name+"with address "+a.address+" for group "+b)}),b},ozpIwc.Router.prototype.send=function(a,b){var c=new ozpIwc.CancelableEvent({packet:a,participant:b});return this.events.trigger("preSend",c),c.canceled?void ozpIwc.metrics.counter("transport.packets.sendCanceled"):(ozpIwc.metrics.counter("transport.packets.sent").inc(),this.deliverLocal(a,b),this.events.trigger("send",{packet:a}),void this.peer.send(a))},ozpIwc.Router.prototype.receiveFromPeer=function(a){ozpIwc.metrics.counter("transport.packets.receivedFromPeer").inc();var b=Date.now();ozpIwc.metrics.histogram("transport.packets.latency").mark(b-a.data.time,b);var c=new ozpIwc.CancelableEvent({packet:a.data,rawPacket:a});this.events.trigger("prePeerReceive",c),c.canceled||this.deliverLocal(a.data)};var ozpIwc=ozpIwc||{};ozpIwc.LeaderGroupParticipant=ozpIwc.util.extend(ozpIwc.InternalParticipant,function(a){if(ozpIwc.InternalParticipant.apply(this,arguments),a.states=a.states||{},!a.name)throw"Config must contain a name value";this.name=a.name,this.electionAddress=a.electionAddress||this.name+".election",this.priority=a.priority||ozpIwc.defaultLeaderPriority||-ozpIwc.util.now(),this.priorityLessThan=a.priorityLessThan||function(a,b){return b>a},this.electionTimeout=a.electionTimeout||1e3,this.leaderState="connecting",this.electionQueue=[],this.states=a.states,this.states.leader=this.states.leader||[],this.states.leader=this.states.leader.concat(["leader"]),this.states.member=this.states.member||[],this.states.member=this.states.member.concat(["member"]),this.states.election=this.states.election||[],this.states.election=this.states.election.concat(["election"]),this.states.queueing=this.states.queueing||[],this.states.queueing=this.states.queueing.concat(["connecting","election"]),this.activeStates=a.activeStates||{leader:!1,member:!1,election:!1,queueing:!0},this.changeState("connecting"),this.leader=null,this.leaderPriority=null,this.participantType="leaderGroup",this.name=a.name,this.toggleDrop=!1,this.victoryTS=-Number.MAX_VALUE,this.on("startElection",function(){this.toggleDrop=!1},this),this.on("becameLeader",function(){this.leader=this.address,this.leaderPriority=this.priority,this.electionQueue.forEach(function(a){this.forwardToTarget(a)},this),this.electionQueue=[]},this),this.on("newLeader",function(){this.electionQueue=[]},this);var b=this;window.addEventListener("beforeunload",function(){if(b.priority=-Number.MAX_VALUE,b.activeStates.leader)for(var a in b.router.participants){var c=b.router.participants[a];c.address&&b.events.trigger("receiveEventChannelPacket",{packet:b.fixPacket({dst:"$bus.multicast",action:"disconnect",entity:{address:c.address,participantType:c.participantType,namesResource:c.namesResource}})})}b.events.trigger("unloadState")}),ozpIwc.metrics.gauge("transport.leaderGroup.election").set(function(){var a=b.getElectionQueue();return{queue:a?a.length:0}}),this.on("connectedToRouter",function(){this.router.registerMulticast(this,[this.electionAddress,this.name]);var a=this;ozpIwc.util.setImmediate(function(){a.startElection()})},this),this.on("receive",this.routePacket,this)}),ozpIwc.LeaderGroupParticipant.prototype.getElectionQueue=function(){return this.electionQueue},ozpIwc.LeaderGroupParticipant.prototype.inElection=function(){return!!this.electionTimer||this.activeStates.election},ozpIwc.LeaderGroupParticipant.prototype.isLeader=function(){return this.leader===this.address},ozpIwc.LeaderGroupParticipant.prototype.sendElectionMessage=function(a,b,c){b=b||{};var d=b.state||{},e=b.previousLeader||this.leader,f=b.opponent||"";try{JSON.stringify(d)}catch(g){ozpIwc.log.error(this.name,this.address,"failed to send state.",g),d={}}this.send({src:this.address,dst:this.electionAddress,action:a,entity:{priority:this.priority,state:d,previousLeader:e,opponent:f}},c)},ozpIwc.LeaderGroupParticipant.prototype.sendVictoryMessage=function(){return this.activeStates.leader||this.activeStates.election?this.send({src:this.address,dst:this.electionAddress,action:"victory",entity:{priority:this.priority}}):!1},ozpIwc.LeaderGroupParticipant.prototype.leaderQuery=function(){if(!this.inElection()){this.leaderQueryTimer=window.setTimeout(function(){a.cancelElection(),a.startElection()},this.electionTimeout);var a=this;this.sendElectionMessage("leaderQuery",{},function(b){window.clearTimeout(a.leaderQueryTimer),b.entity.priority>a.priority&&(this.leader=b.src,this.leaderPriority=b.entity.priority,this.victoryTS=b.time,a.events.trigger("newLeaderEvent"),this.stateStore={})})}},ozpIwc.LeaderGroupParticipant.prototype.startElection=function(a){a=a||{};var b=a.state||{},c=a.opponent||"";if(!this.inElection()){this.events.trigger("startElection");var d=this;this.electionTimer=window.setTimeout(function(){d.cancelElection(),d.events.trigger("becameLeaderEvent")},this.electionTimeout),this.sendElectionMessage("election",{state:b,previousLeader:this.leader,opponent:c})}},ozpIwc.LeaderGroupParticipant.prototype.cancelElection=function(){this.electionTimer&&(window.clearTimeout(this.electionTimer),this.electionTimer=null,this.events.trigger("endElection"))},ozpIwc.LeaderGroupParticipant.prototype.routePacket=function(a){var b=a.packet;if(a.leaderState=this.leaderState,b.src!==this.address)if(b.dst===this.electionAddress){if(b.src===this.address)return;"leaderQuery"===b.action?this.handleLeaderQueryMessage(a):"election"===b.action?this.handleElectionMessage(b):"victory"===b.action&&this.handleVictoryMessage(b)}else this.forwardToTarget(a)},ozpIwc.LeaderGroupParticipant.prototype.forwardToTarget=function(a){return this.activeStates.queueing?void this.electionQueue.push(a):(a.leaderState=this.leaderState,void this.events.trigger("receiveApiPacket",a))},ozpIwc.LeaderGroupParticipant.prototype.handleLeaderQueryMessage=function(a){this.activeStates.leader&&a.replyTo({action:"leaderResponse",entity:{priority:this.priority}})},ozpIwc.LeaderGroupParticipant.prototype.handleElectionMessage=function(a){Object.keys(a.entity.state).length>0&&(this.stateStore=a.entity.state,this.events.trigger("receivedState")),a.entity.previousLeader&&a.entity.previousLeader!==this.address&&(this.previousLeader=a.entity.previousLeader),this.priorityLessThan(a.entity.priority,this.priority)&&this.victoryTS<a.time?(a.entity.priority===-Number.MAX_VALUE?(this.cancelElection(),this.activeStates.election=!1):this.inElection()||(this.electionQueue=[]),this.startElection({opponent:a.src})):this.activeStates.leader?this.sendElectionMessage("election",{previousLeader:this.address}):(this.cancelElection(),this.toggleDrop&&(this.toggleDrop=!1,this.events.trigger("newLeaderEvent")))},ozpIwc.LeaderGroupParticipant.prototype.handleVictoryMessage=function(a){this.priorityLessThan(a.entity.priority,this.priority)?this.startElection({opponent:a.src+"USURPER"}):(this.leader=a.src,this.leaderPriority=a.entity.priority,this.victoryTS=a.time,this.cancelElection(),this.events.trigger("newLeaderEvent"),this.stateStore={})},ozpIwc.LeaderGroupParticipant.prototype.heartbeatStatus=function(){var a=ozpIwc.Participant.prototype.heartbeatStatus.apply(this,arguments);return a.leaderState=this.leaderState,a.leaderPriority=this.priority,a},ozpIwc.LeaderGroupParticipant.prototype.changeState=function(a,b){if(a!==this.leaderState&&this._validateState(a)){for(var c in b)this[c]=b[c];return!0}return!1},ozpIwc.LeaderGroupParticipant.prototype._validateState=function(a){var b={},c=!1;for(var d in this.states)ozpIwc.util.arrayContainsAll(this.states[d],[a])?(b[d]=!0,c=!0):b[d]=!1;return c?(this.activeStates=b,this.leaderState=a,!0):(ozpIwc.log.error(this.address,this.name,"does not have state:",a),!1)};var ozpIwc=ozpIwc||{};ozpIwc.MulticastParticipant=ozpIwc.util.extend(ozpIwc.Participant,function(a){this.name=a,this.participantType="multicast",ozpIwc.Participant.apply(this,arguments),this.members=[],this.namesResource="/multicast/"+this.name,this.heartBeatContentType="application/vnd.ozp-iwc-multicast-address-v1+json",this.heartBeatStatus.members=[],this.on("connectedToRouter",function(){this.namesResource="/multicast/"+this.name},this)}),ozpIwc.MulticastParticipant.prototype.receiveFromRouterImpl=function(a){return this.members.forEach(function(b){a.dstParticipant=b,b.receiveFromRouter(a)}),!1},ozpIwc.MulticastParticipant.prototype.addMember=function(a){this.members.push(a),this.heartBeatStatus.members.push(a.address)};var ozpIwc=ozpIwc||{};ozpIwc.PostMessageParticipant=ozpIwc.util.extend(ozpIwc.Participant,function(a){ozpIwc.Participant.apply(this,arguments),this.origin=this.name=a.origin,this.sourceWindow=a.sourceWindow,this.credentials=a.credentials,this.participantType="postMessageProxy",this.securityAttributes.origin=this.origin,this.on("connectedToRouter",function(){this.securityAttributes.sendAs=this.address,this.securityAttributes.receiveAs=this.address},this),this.heartBeatStatus.origin=this.origin}),ozpIwc.PostMessageParticipant.prototype.receiveFromRouterImpl=function(a){var b=this;return ozpIwc.authorization.isPermitted({subject:this.securityAttributes,object:{receiveAs:a.packet.dst}}).success(function(){b.sendToRecipient(a.packet)}).failure(function(){ozpIwc.metrics.counter("transport.packets.forbidden").inc()})},ozpIwc.PostMessageParticipant.prototype.sendToRecipient=function(a){ozpIwc.util.safePostMessage(this.sourceWindow,a,this.origin)},ozpIwc.PostMessageParticipant.prototype.handleTransportPacket=function(a){var b={ver:1,dst:this.address,src:"$transport",replyTo:a.msgId,msgId:this.generateMsgId(),entity:{address:this.address}};this.sendToRecipient(b)},ozpIwc.PostMessageParticipant.prototype.forwardFromPostMessage=function(a,b){return"object"!=typeof a?void ozpIwc.log.error("Unknown packet received: "+JSON.stringify(a)):b.origin!==this.origin?void ozpIwc.metrics.counter("transport."+this.address+".invalidSenderOrigin").inc():(a=this.fixPacket(a),void("$transport"===a.dst?this.handleTransportPacket(a):this.router.send(a,this)))},ozpIwc.PostMessageParticipant.prototype.send=function(a){a=this.fixPacket(a);var b=this;return ozpIwc.authorization.isPermitted({subject:this.securityAttributes,object:{sendAs:a.src}}).success(function(){b.router.send(a,this)}).failure(function(){ozpIwc.metrics.counter("transport.packets.forbidden").inc()})},ozpIwc.PostMessageParticipantListener=function(a){a=a||{},this.participants=[],this.router=a.router||ozpIwc.defaultRouter;var b=this;window.addEventListener("message",function(a){b.receiveFromPostMessage(a)},!1),ozpIwc.metrics.gauge("transport.postMessageListener.participants").set(function(){return b.getParticipantCount()})},ozpIwc.PostMessageParticipantListener.prototype.getParticipantCount=function(){return this.participants?this.participants.length:0},ozpIwc.PostMessageParticipantListener.prototype.findParticipant=function(a){for(var b=0;b<this.participants.length;++b)if(this.participants[b].sourceWindow===a)return this.participants[b]},ozpIwc.PostMessageParticipantListener.prototype.receiveFromPostMessage=function(a){var b=this.findParticipant(a.source),c=a.data;if(a.source!==window){if("string"==typeof a.data)try{c=JSON.parse(a.data)}catch(d){return}b||(b=new ozpIwc.PostMessageParticipant({origin:a.origin,sourceWindow:a.source,credentials:c.entity}),this.router.registerParticipant(b,c),this.participants.push(b)),ozpIwc.util.isIWCPacket(c)?b.forwardFromPostMessage(c,a):ozpIwc.log.log("Packet does not meet IWC Packet criteria, dropping.",c)}},ozpIwc.RouterWatchdog=ozpIwc.util.extend(ozpIwc.InternalParticipant,function(a){ozpIwc.InternalParticipant.apply(this,arguments),this.participantType="routerWatchdog",this.on("connected",function(){this.name=this.router.selfId},this),this.heartbeatFrequency=a.heartbeatFrequency||1e4,this.on("connectedToRouter",this.setupWatches,this)}),ozpIwc.RouterWatchdog.prototype.leaveEventChannel=function(){return this.router?(this.send({dst:"$bus.multicast",action:"disconnect",entity:{address:this.address,participantType:this.participantType,namesResource:this.namesResource}}),this.send({dst:"$bus.multicast",action:"disconnect",entity:{address:this.router.selfId,namesResource:"/router/"+this.router.selfId}}),!0):!1},ozpIwc.RouterWatchdog.prototype.setupWatches=function(){this.name=this.router.selfId;var a=this,b=function(){a.send({dst:"names.api",action:"set",resource:"/router/"+a.router.selfId,contentType:"application/vnd.ozp-iwc-router-v1+json",entity:{address:a.router.selfId,participants:a.router.getParticipantCount(),time:ozpIwc.util.now()}});for(var b in a.router.participants){var c=a.router.participants[b];c.heartBeatStatus.time=ozpIwc.util.now(),c instanceof ozpIwc.MulticastParticipant?c.members.forEach(function(b){a.send({dst:"names.api",resource:c.namesResource+"/"+b.address,action:"set",entity:b.heartBeatStatus,contentType:c.heartBeatContentType})}):c.heartbeat()}};this.timer=window.setInterval(b,this.heartbeatFrequency)},ozpIwc.RouterWatchdog.prototype.shutdown=function(){window.clearInterval(this.timer)},ozpIwc.CommonApiValue=function(a){a=a||{},this.watchers=a.watchers||[],this.resource=a.resource,this.allowedContentTypes=a.allowedContentTypes,this.entity=a.entity,this.contentType=a.contentType,this.permissions=a.permissions||{},this.version=a.version||0,this.persist=!1,this.deleted=!0},ozpIwc.CommonApiValue.prototype.set=function(a){this.isValidContentType(a.contentType)&&(this.permissions=a.permissions||this.permissions,this.contentType=a.contentType,this.entity=a.entity,this.version++)},ozpIwc.CommonApiValue.prototype.watch=function(a){this.watchers.push({src:a.src,msgId:a.msgId})},ozpIwc.CommonApiValue.prototype.unwatch=function(a){this.watchers=this.watchers.filter(function(b){return a.replyTo!==b.msgId&&a.src!==b.src})},ozpIwc.CommonApiValue.prototype.eachWatcher=function(a,b){return b=b||this,this.watchers.map(a,b)},ozpIwc.CommonApiValue.prototype.deleteData=function(){this.entity=void 0,this.contentType=void 0,this.permissions=[],this.version=0,this.deleted=!0},ozpIwc.CommonApiValue.prototype.toPacket=function(a){return a=a||{},a.entity=ozpIwc.util.clone(this.entity),a.contentType=this.contentType,a.permissions=ozpIwc.util.clone(this.permissions),a.eTag=this.version,a.resource=this.resource,a},ozpIwc.CommonApiValue.prototype.isValidContentType=function(a){if(this.allowedContentTypes&&this.allowedContentTypes.indexOf(a)<0)throw new ozpIwc.ApiError("badContent","Bad contentType "+a+", expected "+this.allowedContentTypes.join(","));return!0},ozpIwc.CommonApiValue.prototype.snapshot=function(){return this.toPacket()},ozpIwc.CommonApiValue.prototype.changesSince=function(a){return a.eTag===this.version?null:{newValue:ozpIwc.util.clone(this.entity),oldValue:a.entity}},ozpIwc.CommonApiValue.prototype.isUpdateNeeded=function(){return!1},ozpIwc.CommonApiValue.prototype.updateContent=function(){return null},ozpIwc.CommonApiValue.prototype.deserialize=function(a){var b=ozpIwc.util.clone(a);this.entity=b.entity||{},this.contentType=b.contentType||this.contentType,this.permissions=b.permissions||this.permissions,this.version=b.version||this.version,this.watchers=a.watchers||this.watchers},ozpIwc.CommonApiValue.prototype.serialize=function(){var a={};return a.entity=this.entity,a.contentType=this.contentType,a.permissions=this.permissions,a.version=this.version,a.watchers=this.watchers,a},ozpIwc.CommonApiCollectionValue=ozpIwc.util.extend(ozpIwc.CommonApiValue,function(a){ozpIwc.CommonApiValue.apply(this,arguments),this.persist=!1,this.pattern=a.pattern||"",this.pattern.toJSON=RegExp.prototype.toString,this.entity=[]}),ozpIwc.CommonApiCollectionValue.prototype.isUpdateNeeded=function(a){return a.resource.match(this.pattern)},ozpIwc.CommonApiCollectionValue.prototype.updateContent=function(a){this.version++,this.entity=a.map(function(a){return a.resource})},ozpIwc.CommonApiCollectionValue.prototype.set=function(){throw new ozpIwc.ApiError("noPermission","This resource cannot be modified.")},ozpIwc.CommonApiCollectionValue.prototype.deserialize=function(a){ozpIwc.CommonApiValue.prototype.deserialize.apply(this,arguments);var b=ozpIwc.util.clone(a);this.pattern="string"==typeof b.pattern?new RegExp(b.pattern.replace(/^\/|\/$/g,"")):this.pattern,this.pattern.toJSON=RegExp.prototype.toString},ozpIwc.CommonApiCollectionValue.prototype.serialize=function(){var a={};return a.entity=this.entity,a.pattern=this.pattern,a.contentType=this.contentType,a.permissions=this.permissions,a.version=this.version,a.watchers=this.watchers,a},ozpIwc.ApiError=ozpIwc.util.extend(Error,function(a,b){Error.call(this,b),this.name="ApiError",this.errorAction=a,this.message=b}),ozpIwc.CommonApiBase=function(a){a=a||{},this.participant=a.participant,this.participant.on("unloadState",this.unloadState,this),this.participant.on("receiveApiPacket",this.routePacket,this),this.participant.on("becameLeaderEvent",this.becameLeader,this),this.participant.on("newLeaderEvent",this.newLeader,this),this.participant.on("startElection",this.startElection,this),this.participant.on("receiveEventChannelPacket",this.routeEventChannel,this),this.events=new ozpIwc.Event,this.events.mixinOnOff(this),this.dynamicNodes=[],this.data={},this.expectedBranches=1,this.retrievedBranches=0},ozpIwc.CommonApiBase.prototype.findNodeForServerResource=function(a,b,c){var d="/";switch(c.name){case ozpIwc.linkRelPrefix+":intent":a.type&&(d+=a.type,a.action&&(d+="/"+a.action,a.handler&&(d+="/"+a.handler)));break;case ozpIwc.linkRelPrefix+":application":a.id&&(d+="application/"+a.id);break;case ozpIwc.linkRelPrefix+":system":d+="system";break;case ozpIwc.linkRelPrefix+":user":d+="user";break;case ozpIwc.linkRelPrefix+":user-data":a.key&&(d+=a.key);break;default:d+="FIXME_UNKNOWN_ENDPOINT_"+c.name}return"/"===d?null:this.findOrMakeValue({resource:d,entity:{},contentType:a.contentType,children:a.children})},ozpIwc.CommonApiBase.prototype.loadFromServer=function(){return new Promise(function(a){a()})},ozpIwc.CommonApiBase.prototype.loadFromEndpoint=function(a,b){this.expectedBranches=1,this.retrievedBranches=0;var c,d,e=ozpIwc.endpoint(a),f=new Promise(function(a,b){c=a,d=b}),g=this;return e.get("/").then(function(a){var d=a.response,f=a.header;g.loadLinkedObjectsFromServer(e,d,c,b,f),g.updateResourceFromServer(d,d._links.self.href,e,c,f),g.dynamicNodes.forEach(function(a){g.updateDynamicNode(g.data[a])})})["catch"](function(b){ozpIwc.log.error("Could not load from api ("+a+"): "+b.message,b),d("Could not load from api ("+a+"): "+b.message+b)}),f},ozpIwc.CommonApiBase.prototype.updateResourceFromServer=function(a,b,c,d,e){e=e||{},a.contentType=a.contentType||e["Content-Type"]||"application/json";var f;if("string"==typeof a.entity)try{f=JSON.parse(a.entity),a.entity=f}catch(g){}var h=this.findNodeForServerResource(a,b,c);if(h){var i=h.snapshot(),j=ozpIwc.util.clone(a);delete j._links,delete j._embedded,h.deserialize(this.formatServerData(j)),this.notifyWatchers(h,h.changesSince(i)),this.loadLinkedObjectsFromServer(c,a,d)}},ozpIwc.CommonApiBase.prototype.formatServerData=function(a){return{entity:a}},ozpIwc.CommonApiBase.prototype.loadLinkedObjectsFromServer=function(a,b,c,d){if(b){var e=this,f=!0,g=!0,h=0,i=0;if(b._embedded&&b._embedded.item&&(b._embedded.item=Array.isArray(b._embedded.item)?b._embedded.item:[b._embedded.item],f=!1,i="[object Array]"===Object.prototype.toString.call(b._embedded.item)?b._embedded.item.length:1,h+=i),b._links&&b._links.item&&(b._links.item=Array.isArray(b._links.item)?b._links.item:[b._links.item],g=!1,i="[object Array]"===Object.prototype.toString.call(b._links.item)?b._links.item.length:1,h+=i),f&&g)this.retrievedBranches++,this.retrievedBranches>=this.expectedBranches&&c("RESOLVING");else{if(this.expectedBranches+=h-1,b._embedded&&b._embedded.item){var j={};if("[object Array]"===Object.prototype.toString.call(b._embedded.item))for(var k in b._embedded.item)j=b._embedded.item[k],this.updateResourceFromServer(j,j._links.self.href,a,c);else j=b._embedded.item,this.updateResourceFromServer(j,j._links.self.href,a,c)}if(b._links&&b._links.item)if("[object Array]"===Object.prototype.toString.call(b._links.item))b._links.item.forEach(function(b){var f=b.href;a.get(f,d).then(function(b){var d=b.response,g=b.header;e.updateResourceFromServer(d,f,a,c,g)})["catch"](function(a){ozpIwc.log.error("unable to load "+b.href+" because: ",a)})});else{var l=b._links.item.href;a.get(l,d).then(function(b){var d=b.response,f=b.header;e.updateResourceFromServer(d,l,a,c,f)})["catch"](function(a){ozpIwc.log.error("unable to load "+j.href+" because: ",a)})}}}},ozpIwc.CommonApiBase.prototype.makeValue=function(){throw new Error("Subclasses of CommonApiBase must implement the makeValue(packet) function.")},ozpIwc.CommonApiBase.prototype.isPermitted=function(a,b){var c=b.srcSubject||{rawAddress:b.packet.src};return ozpIwc.authorization.isPermitted({subject:c,object:a.permissions,action:{action:b.action}})},ozpIwc.CommonApiBase.prototype.notifyWatchers=function(a,b){b&&(this.events.trigger("changedNode",a,b),a.eachWatcher(function(c){var d={dst:c.src,src:this.participant.name,replyTo:c.msgId,response:"changed",resource:a.resource,permissions:a.permissions,entity:b};this.participant.send(d)},this))},ozpIwc.CommonApiBase.prototype.findOrMakeValue=function(a){if(null===a.resource||void 0===a.resource)return new ozpIwc.CommonApiValue;var b=this.data[a.resource];return b||(b=this.data[a.resource]=this.makeValue(a)),b},ozpIwc.CommonApiBase.prototype.hasKey=function(a){return a in this.data},ozpIwc.CommonApiBase.prototype.createKey=function(a){a=a||"";var b;do b=a+ozpIwc.util.generateId();while(this.hasKey(b));return b},ozpIwc.CommonApiBase.prototype.routePacket=function(a){var b=a.packet;this.events.trigger("receive",a);var c=this,d=function(b){try{b.apply(c)}catch(d){return d.errorAction||ozpIwc.log.log("Unexpected error:",d),void a.replyTo({response:d.errorAction||"unknownError",entity:d.message})}};if(!("leader"!==a.leaderState&&"actingLeader"!==a.leaderState||b.response&&!b.action)){var e;d(function(){var b=this.findHandler(a);this.validateResource(e,a),e=this.findOrMakeValue(a.packet),this.isPermitted(e,a).success(function(){d(function(){this.validatePreconditions(e,a);var c=e.snapshot();b.call(this,e,a),this.notifyWatchers(e,e.changesSince(c)),this.dynamicNodes.forEach(function(a){this.updateDynamicNode(this.data[a])},this)})},this).failure(function(){a.replyTo({response:"noPerm"})})})}},ozpIwc.CommonApiBase.prototype.routeEventChannel=function(a){if(this.participant.activeStates.leader){var b=a.packet;switch(b.action){case"connect":this.handleEventChannelConnect(a);break;case"disconnect":this.handleEventChannelDisconnect(a);break;default:ozpIwc.log.error(this.participant.name,"No handler found for corresponding event channel action: ",b.action)}}},ozpIwc.CommonApiBase.prototype.handleEventChannelDisconnect=function(a){for(var b in this.data)for(var c in this.data[b].watchers)this.data[b].watchers[c].src===a.packet.entity.address&&this.data[b].watchers.splice(c,1);this.handleEventChannelDisconnectImpl(a)},ozpIwc.CommonApiBase.prototype.handleEventChannelConnect=function(a){this.handleEventChannelConnectImpl(a)},ozpIwc.CommonApiBase.prototype.handleEventChannelDisconnectImpl=function(){},ozpIwc.CommonApiBase.prototype.handleEventChannelConnectImpl=function(){},ozpIwc.CommonApiBase.prototype.findHandler=function(a){var b,c=a.packet.action,d=a.packet.resource;return b=null===d||void 0===d?"rootHandle":"handle",c?b+=c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():b="defaultHandler",b&&"function"==typeof this[b]||(b="defaultHandler"),this[b]},ozpIwc.CommonApiBase.prototype.validateResource=function(){return!0},ozpIwc.CommonApiBase.prototype.validatePreconditions=function(a,b){if(b.packet.ifTag&&b.packet.ifTag!==a.version)throw new ozpIwc.ApiError("noMatch","Latest version is "+a.version)},ozpIwc.CommonApiBase.prototype.validateContentType=function(){return!0},ozpIwc.CommonApiBase.prototype.updateDynamicNode=function(a){if(a){var b=[];for(var c in this.data)a.isUpdateNeeded(this.data[c])&&b.push(this.data[c]);if(b){var d=a.snapshot();a.updateContent(b),this.notifyWatchers(a,a.changesSince(d))}}},ozpIwc.CommonApiBase.prototype.addDynamicNode=function(a){this.data[a.resource]=a,this.dynamicNodes.push(a.resource),this.updateDynamicNode(a)},ozpIwc.CommonApiBase.prototype.defaultHandler=function(a,b){b.replyTo({response:"badAction",entity:{action:b.packet.action,originalRequest:b.packet}})},ozpIwc.CommonApiBase.prototype.handleGet=function(a,b){b.replyTo(a.toPacket({response:"ok"}))},ozpIwc.CommonApiBase.prototype.handleSet=function(a,b){a.set(b.packet),b.replyTo({response:"ok"})},ozpIwc.CommonApiBase.prototype.handleDelete=function(a,b){a.deleteData(),b.replyTo({response:"ok"})},ozpIwc.CommonApiBase.prototype.handleWatch=function(a,b){a.watch(b.packet),b.replyTo({response:"ok"})},ozpIwc.CommonApiBase.prototype.handleUnwatch=function(a,b){a.unwatch(b.packet),b.replyTo({response:"ok"})},ozpIwc.CommonApiBase.prototype.unloadState=function(){if(this.participant.activeStates.leader){var a={};for(var b in this.data)a[b]=this.data[b].serialize();this.participant.sendElectionMessage("election",{state:{data:a,dynamicNodes:this.dynamicNodes},previousLeader:this.participant.address}),this.data={}}else this.participant.sendElectionMessage("election")},ozpIwc.CommonApiBase.prototype.setState=function(a){this.data={},this.dynamicNodes=a.dynamicNodes;for(var b in a.data){var c,d=this.dynamicNodes.indexOf(b);d>-1?(c=this.data[b]=new ozpIwc.CommonApiCollectionValue({resource:b}),c.deserialize(a.data[b]),this.updateDynamicNode(c)):(c=this.findOrMakeValue({resource:b,contentType:a.data[b].contentType}),c.deserialize(a.data[b]))}this.dynamicNodes.forEach(function(a){this.updateDynamicNode(this.data[a])},this)},ozpIwc.CommonApiBase.prototype.rootHandleList=function(a,b){b.replyTo({response:"ok",entity:Object.keys(this.data)})},ozpIwc.CommonApiBase.prototype.startElection=function(){this.participant.activeStates.leader?this.participant.changeState("actingLeader"):"leaderSync"===this.participant.leaderState||this.participant.changeState("election")},ozpIwc.CommonApiBase.prototype.becameLeader=function(){this.participant.sendElectionMessage("victory"),"actingLeader"===this.participant.leaderState||"leader"===this.participant.leaderState?this.setToLeader():"election"===this.participant.leaderState&&this.leaderSync()},ozpIwc.CommonApiBase.prototype.newLeader=function(){"actingLeader"===this.participant.leaderState&&this.participant.sendElectionMessage("election",{previousLeader:this.participant.address,state:this.data}),this.participant.changeState("member"),this.participant.events.trigger("newLeader")},ozpIwc.CommonApiBase.prototype.setToLeader=function(){var a=this;ozpIwc.util.setImmediate(function(){a.participant.changeState("leader"),a.participant.events.trigger("becameLeader")})},ozpIwc.CommonApiBase.prototype.leaderSync=function(){this.participant.changeState("leaderSync",{toggleDrop:!0});var a=this;ozpIwc.util.setImmediate(function(){if("leaderSync"===a.participant.leaderState)if(a.participant.stateStore&&Object.keys(a.participant.stateStore).length>0)a.setState(a.participant.stateStore),a.participant.stateStore={},a.setToLeader();else if(a.participant.previousLeader){a.receiveStateTimer=null;var b=function(){a.setState(a.participant.stateStore),a.participant.off("receivedState",b),a.setToLeader(),window.clearInterval(a.receiveStateTimer),a.receiveStateTimer=null};a.participant.on("receivedState",b),a.receiveStateTimer=window.setTimeout(function(){a.participant.stateStore&&Object.keys(a.participant.stateStore).length>0?b():(a.loadFromServer(),ozpIwc.log.log(a.participant.name,"New leader(",a.participant.address,") failed to retrieve state from previous leader(",a.participant.previousLeader,"), so is loading data from server.")),a.participant.off("receivedState",b),a.setToLeader()},250)}else ozpIwc.log.log(a.participant.name,"New leader(",a.participant.address,") is loading data from server."),a.loadFromServer().then(function(){a.setToLeader()},function(b){ozpIwc.log.error(a.participant.name,"New leader(",a.participant.address,") could not load data from server. Error:",b),a.setToLeader()})["catch"](function(a){ozpIwc.log.log(a)})})},ozpIwc.CommonApiBase.prototype.persistNodes=function(){throw new ozpIwc.ApiError("noImplementation","Base class persistence call not implemented.  Use DataApi to persist nodes.")};var ozpIwc=ozpIwc||{};ozpIwc.Endpoint=function(a){this.endpointRegistry=a},ozpIwc.Endpoint.prototype.get=function(a,b){var c=this;return a=a||"",this.endpointRegistry.loadPromise.then(function(){return("/"===a||""===a)&&(a=c.baseUrl),ozpIwc.util.ajax({href:a,method:"GET",headers:b})})},ozpIwc.Endpoint.prototype.put=function(a,b,c){var d=this;return this.endpointRegistry.loadPromise.then(function(){return 0!==a.indexOf(d.baseUrl)&&(a=d.baseUrl+a),ozpIwc.util.ajax({href:a,method:"PUT",data:b,headers:c})})},ozpIwc.Endpoint.prototype["delete"]=function(a,b,c){var d=this;return this.endpointRegistry.loadPromise.then(function(){if(!d.baseUrl)throw Error("The server did not define a relation of type "+this.name+" for retrivieving "+a);
return 0!==a.indexOf(d.baseUrl)&&(a=d.baseUrl+a),ozpIwc.util.ajax({href:a,method:"DELETE",headers:c})})},ozpIwc.Endpoint.prototype.saveNodes=function(a){var b="/data";for(var c in a){var d=JSON.stringify(a[c]);this.put(a[c].self||b,d)}},ozpIwc.EndpointRegistry=function(a){a=a||{};var b=a.apiRoot||"/api";this.apiRoot=b,this.endPoints={};var c=this;this.loadPromise=ozpIwc.util.ajax({href:b,method:"GET"}).then(function(a){var b=a.response||{};b._links=b._links||{},b._embedded=b._embedded||{};for(var d in b._links)if("self"!==d){var e=b._links[d].href;Array.isArray(b._links[d])&&(e=b._links[d][0].href),c.endpoint(d).baseUrl=e}for(var f in b._embedded){var g=b._embedded[f]._links.self.href;c.endpoint(f).baseUrl=g}})},ozpIwc.EndpointRegistry.prototype.endpoint=function(a){var b=this.endPoints[a];return b||(b=this.endPoints[a]=new ozpIwc.Endpoint(this),b.name=a),b},ozpIwc.initEndpoints=function(a){var b=new ozpIwc.EndpointRegistry({apiRoot:a});ozpIwc.endpoint=function(a){return b.endpoint(a)}},ozpIwc.DataApi=ozpIwc.util.extend(ozpIwc.CommonApiBase,function(){ozpIwc.CommonApiBase.apply(this,arguments),this.endpointUrl=ozpIwc.linkRelPrefix+":user-data"}),ozpIwc.DataApi.prototype.loadFromServer=function(){return this.loadFromEndpoint(this.endpointUrl)},ozpIwc.DataApi.prototype.makeValue=function(a){return new ozpIwc.DataApiValue(a)},ozpIwc.DataApi.prototype.formatServerData=function(a){return a.entity},ozpIwc.DataApi.prototype.createChild=function(a,b){var c=this.createKey(a.resource+"/"),d=this.findOrMakeValue({resource:c});return d.set(b.packet),d},ozpIwc.DataApi.prototype.handleList=function(a,b){b.replyTo({response:"ok",entity:a.listChildren()})},ozpIwc.DataApi.prototype.handleAddchild=function(a,b){var c=this.createChild(a,b);c&&c.entity&&c.entity.persist&&this.persistNode(c),a.addChild(c.resource),a&&b.packet.entity.persist&&this.persistNode(a),b.replyTo({response:"ok",entity:{resource:c.resource}})},ozpIwc.DataApi.prototype.handleRemovechild=function(a,b){a.removeChild(b.packet.entity.resource),a&&b.packet.entity.persist&&this.persistNode(a);var c=this.findOrMakeValue(b.packet.entity);c&&c.entity&&c.entity.persist&&this.deleteNode(c),b.replyTo({response:"ok"})},ozpIwc.DataApi.prototype.handleSet=function(a,b){ozpIwc.CommonApiBase.prototype.handleSet.apply(this,arguments),a&&b.packet.entity.persist&&this.persistNode(a)},ozpIwc.DataApi.prototype.handleDelete=function(a){a.entity&&a.entity.persist&&this.deleteNode(a),ozpIwc.CommonApiBase.prototype.handleDelete.apply(this,arguments)},ozpIwc.DataApi.prototype.persistNode=function(a){var b=ozpIwc.endpoint(this.endpointUrl),c=a.serialize();delete c.watchers,b.put(a.resource,JSON.stringify(c))},ozpIwc.DataApi.prototype.deleteNode=function(a){var b=ozpIwc.endpoint(this.endpointUrl);b["delete"](a.resource)},ozpIwc.DataApi.prototype.persistNodes=function(){var a=[];for(var b in this.data)this.data[b].dirty===!0&&this.data[b].persist===!0&&(a[a.length]=this.data[b].serialize(),this.data[b].dirty=!1);if(a){var c=ozpIwc.EndpointRegistry.endpoint(this.endpointUrl);c.saveNodes(a)}},ozpIwc.DataApiValue=ozpIwc.util.extend(ozpIwc.CommonApiValue,function(a){ozpIwc.CommonApiValue.apply(this,arguments),a=a||{},this.children=a.children||[],this.persist=a.persist||!0,this.dirty=a.dirty||!0}),ozpIwc.DataApiValue.prototype.addChild=function(a){this.children.indexOf(a)<0&&(this.children.push(a),this.version++),this.dirty=!0},ozpIwc.DataApiValue.prototype.removeChild=function(a){this.dirty=!0;var b=this.children.length;this.children=this.children.filter(function(b){return b!==a}),b!==this.children.length&&this.version++},ozpIwc.DataApiValue.prototype.listChildren=function(){return ozpIwc.util.clone(this.children)},ozpIwc.DataApiValue.prototype.toPacket=function(){var a=ozpIwc.CommonApiValue.prototype.toPacket.apply(this,arguments);return a.links=a.links||{},a.links.children=this.listChildren(),a},ozpIwc.DataApiValue.prototype.changesSince=function(a){var b=ozpIwc.CommonApiValue.prototype.changesSince.apply(this,arguments);return b&&(b.removedChildren=a.links.children.filter(function(a){return this.indexOf(a)<0},this.children),b.addedChildren=this.children.filter(function(a){return this.indexOf(a)<0},a.links.children)),b},ozpIwc.DataApiValue.prototype.deserialize=function(a){ozpIwc.CommonApiValue.prototype.deserialize.apply(this,arguments);var b=ozpIwc.util.clone(a);this.key=b.key||this.key,this.children=b.children||this.children,this.self=b.self||this.self},ozpIwc.DataApiValue.prototype.serialize=function(){var a={};return a.entity=this.entity,a.children=this.children,a.contentType=this.contentType,a.permissions=this.permissions,a.version=this.version,a.self=this.self,a.watchers=this.watchers,a},ozpIwc.IntentsApi=ozpIwc.util.extend(ozpIwc.CommonApiBase,function(){ozpIwc.CommonApiBase.apply(this,arguments),this.addDynamicNode(new ozpIwc.CommonApiCollectionValue({resource:"/ozpIntents/invocations",pattern:/^\/ozpIntents\/invocations\/.*$/,contentType:"application/vnd.ozp-iwc-intent-invocation-list-v1+json"}))}),ozpIwc.IntentsApi.prototype.loadFromServer=function(){return this.loadFromEndpoint(ozpIwc.linkRelPrefix+":intent")},ozpIwc.IntentsApi.prototype.makeValue=function(a){var b=a.resource.split(/\//);b.shift();var c=this,d=function(a){var d=new ozpIwc.IntentsApiTypeValue({resource:a,intentType:b[0]+"/"+b[1]});return c.addDynamicNode(d),d},e=function(a){var e="/"+b[0]+"/"+b[1];c.data[e]||(c.data[e]=d(e));var f=new ozpIwc.IntentsApiDefinitionValue({resource:a,intentType:b[0]+"/"+b[1],intentAction:b[2]});return c.addDynamicNode(f),f},f=function(a){var d="/"+b[0]+"/"+b[1]+"/"+b[2];return c.data[d]||(c.data[d]=e(d)),new ozpIwc.IntentsApiHandlerValue({resource:a,intentType:b[0]+"/"+b[1],intentAction:b[2]})};switch(b.length){case 2:return d(a.resource);case 3:return e(a.resource);case 4:return f(a.resource);default:throw new ozpIwc.ApiError("badResource","Invalid resource: "+a.resource)}},ozpIwc.IntentsApi.prototype.makeIntentInvocation=function(a,b){var c=this.createKey("/ozpIntents/invocations/"),d=new ozpIwc.IntentsApiInFlightIntent({resource:c,invokePacket:b.packet,contentType:a.contentType,type:a.entity.type,action:a.entity.action,entity:b.packet.entity,handlerChoices:a.getHandlers(b)});return this.data[d.resource]=d,d},ozpIwc.IntentsApi.prototype.handleRegister=function(a,b){var c=this.createKey(a.resource+"/"),d=this.findOrMakeValue({resource:c}),e=ozpIwc.util.clone(d);b.packet.entity.invokeIntent=b.packet.entity.invokeIntent||{},b.packet.entity.invokeIntent.dst=b.packet.src,b.packet.entity.invokeIntent.replyTo=b.packet.msgId;for(var f in b.packet.entity)e.entity[f]=b.packet.entity[f];d.set(e),b.replyTo({response:"ok",entity:{resource:d.resource}})},ozpIwc.IntentsApi.prototype.handleBroadcast=function(a,b){if("function"!=typeof a.getHandlers)throw new ozpIwc.ApiError("badResource","Resource is not an invokable intent");var c=a.getHandlers(b),d=this;c.forEach(function(c){var e=d.makeIntentInvocation(a,b),f=ozpIwc.util.clone(e);f.entity.handlerChosen={resource:c.resource,reason:"broadcast"},f.entity.state="delivering",e.set(f),d.invokeIntentHandler(c,b,e)})},ozpIwc.IntentsApi.prototype.handleInvoke=function(a,b){if("function"!=typeof a.getHandlers)throw new ozpIwc.ApiError("badResource","Resource is not an invokable intent");var c=a.getHandlers(b),d=this.makeIntentInvocation(a,b);if(1===c.length){var e=ozpIwc.util.clone(d);e.entity.handlerChosen={resource:c[0].resource,reason:"onlyOne"},e.entity.state="delivering",d.set(e),this.invokeIntentHandler(c[0],b,d)}else this.chooseIntentHandler(a,b,d)},ozpIwc.IntentsApi.prototype.handleSet=function(a,b){if("application/vnd.ozp-iwc-intent-invocation-v1+json"===b.packet.contentType){var c={response:"badAction",entity:{reason:"cannot drive inFlightIntent state transition",state:a.entity.state,requestedState:b.packet.entity.state}};switch(b.packet.entity.state){case"new":b.replyTo(c);break;case"choosing":this.handleInFlightChoose(a,b);break;case"delivering":b.replyTo({response:"badAction"});break;case"running":this.handleInFlightRunning(a,b);break;case"fail":this.handleInFlightFail(a,b);break;case"complete":this.handleInFlightComplete(a,b);break;default:a.acceptedStates.indexOf(b.packet.entity.state)<0&&b.replyTo(c)}}else ozpIwc.CommonApiBase.prototype.handleSet.apply(this,arguments)},ozpIwc.IntentsApi.prototype.handleDelete=function(a,b){delete this.data[a.resource],b.replyTo({response:"ok"})},ozpIwc.IntentsApi.prototype.invokeIntentHandler=function(a,b,c){c=c||{};var d=a.entity.invokeIntent;d.entity=d.entity||{},d.entity.inFlightIntent=c.resource;var e=this;this.participant.send(d,function(a,c){var d=["src","dst","msgId","replyTo"],f={};for(var g in a)-1===d.indexOf(g)&&(f[g]=a[g]);e.participant.send({replyTo:f.msgId,dst:f.src,response:"ok",entity:f}),b.replyTo(f),c()})},ozpIwc.IntentsApi.prototype.chooseIntentHandler=function(a,b,c){c.entity.state="choosing",ozpIwc.util.openWindow("intentsChooser.html",{"ozpIwc.peer":ozpIwc.BUS_ROOT,"ozpIwc.intentSelection":"intents.api"+c.resource})},ozpIwc.IntentsApi.prototype.handleEventChannelDisconnectImpl=function(a){for(var b in this.data)this.data[b]instanceof ozpIwc.IntentsApiHandlerValue&&this.data[b].entity.invokeIntent.dst===a.packet.entity.address&&delete this.data[b];for(var c in this.dynamicNodes){var d=this.dynamicNodes[c];this.updateDynamicNode(this.data[d])}},ozpIwc.IntentsApi.prototype.handleInFlightChoose=function(a,b){if("choosing"!==a.entity.state)return null;var c=this.data[b.packet.entity.resource];if(!c)return null;if(a.acceptedReasons.indexOf(b.packet.entity.reason)<0)return null;var d=ozpIwc.util.clone(a);d.entity.handlerChosen={resource:b.packet.entity.resource,reason:b.packet.entity.reason},d.entity.state="delivering",a.set(d),this.invokeIntentHandler(c,b,a),b.replyTo({response:"ok"})},ozpIwc.IntentsApi.prototype.handleInFlightRunning=function(a,b){var c=ozpIwc.util.clone(a);c.entity.state="running",c.entity.handler.address=b.packet.entity.address,c.entity.handler.resource=b.packet.entity.resource,a.set(c),b.replyTo({response:"ok"})},ozpIwc.IntentsApi.prototype.handleInFlightFail=function(a,b){var c=a.invokePacket,d=ozpIwc.util.clone(a);d.entity.state=b.packet.entity.state,d.entity.reply.contentType=b.packet.entity.reply.contentType,d.entity.reply.entity=b.packet.entity.reply.entity,a.set(d);var e=a.snapshot();this.handleDelete(a,b),this.notifyWatchers(a,a.changesSince(e)),b.replyTo({response:"ok"}),this.participant.send({replyTo:c.msgId,dst:c.src,response:"ok",entity:{response:a.entity.reply,invoked:!1}})},ozpIwc.IntentsApi.prototype.handleInFlightComplete=function(a,b){var c=a.invokePacket,d=ozpIwc.util.clone(a);d.entity.state=b.packet.entity.state,d.entity.reply.contentType=b.packet.entity.reply.contentType,d.entity.reply.entity=b.packet.entity.reply.entity,a.set(d);var e=a.snapshot();this.handleDelete(a,b),this.notifyWatchers(a,a.changesSince(e)),b.replyTo({response:"ok"}),this.participant.send({replyTo:c.msgId,dst:c.src,response:"ok",entity:{response:a.entity.reply,invoked:!0}})},ozpIwc.IntentsApi.prototype.setState=function(a){this.data={},this.dynamicNodes=a.dynamicNodes;for(var b in a.data){var c=this.findOrMakeValue({resource:b,contentType:a.data[b].contentType});c.deserialize(a.data[b])}this.dynamicNodes.forEach(function(a){this.updateDynamicNode(this.data[a])},this)},ozpIwc.IntentsApiDefinitionValue=ozpIwc.util.extend(ozpIwc.CommonApiValue,function(a){a=a||{},a.allowedContentTypes=["application/vnd.ozp-iwc-intent-definition-v1+json"],a.contentType="application/vnd.ozp-iwc-intent-definition-v1+json",ozpIwc.CommonApiValue.call(this,a),this.pattern=new RegExp(ozpIwc.util.escapeRegex(this.resource)+"/[^/]*"),this.pattern.toJSON=RegExp.prototype.toString,this.handlers=[],this.entity={type:a.intentType,action:a.intentAction,handlers:[]}}),ozpIwc.IntentsApiDefinitionValue.prototype.isUpdateNeeded=function(a){return this.pattern.test(a.resource)},ozpIwc.IntentsApiDefinitionValue.prototype.updateContent=function(a){this.version++,this.handlers=a,this.entity.handlers=a.map(function(a){return a.resource})},ozpIwc.IntentsApiDefinitionValue.prototype.getHandlers=function(){return this.handlers},ozpIwc.IntentsApiDefinitionValue.prototype.deserialize=function(a){var b=ozpIwc.util.clone(a);this.entity=b.entity||{},this.pattern="string"==typeof b.pattern?new RegExp(b.pattern.replace(/^\/|\/$/g,"")):this.pattern,this.pattern.toJSON=RegExp.prototype.toString,this.contentType=b.contentType||this.contentType,this.permissions=b.permissions||this.permissions,this.version=b.version||this.version,this.watchers=b.watchers||this.watchers},ozpIwc.IntentsApiDefinitionValue.prototype.serialize=function(){var a={};return a.entity=this.entity,a.pattern=this.pattern,a.contentType=this.contentType,a.permissions=this.permissions,a.version=this.version,a.watchers=this.watchers,a},ozpIwc.IntentsApiHandlerValue=ozpIwc.util.extend(ozpIwc.CommonApiValue,function(a){a=a||{},a.allowedContentTypes=["application/vnd.ozp-iwc-intent-handler-v1+json"],a.contentType="application/vnd.ozp-iwc-intent-handler-v1+json",ozpIwc.CommonApiValue.apply(this,arguments),this.entity={type:a.intentType,action:a.intentAction}}),ozpIwc.IntentsApiHandlerValue.prototype.getHandlers=function(){return[this]},ozpIwc.IntentsApiHandlerValue.prototype.set=function(a){ozpIwc.CommonApiValue.prototype.set.apply(this,arguments),this.entity.invokeIntent=this.entity.invokeIntent||{},this.entity.invokeIntent.dst=this.entity.invokeIntent.dst||a.src,this.entity.invokeIntent.resource=this.entity.invokeIntent.resource||"/intents"+a.resource,this.entity.invokeIntent.action=this.entity.invokeIntent.action||"invoke"},ozpIwc.IntentsApiInFlightIntent=ozpIwc.util.extend(ozpIwc.CommonApiValue,function(a){a=a||{},a.contentType="application/vnd.ozp-iwc-intent-invocation-v1+json",a.allowedContentTypes=[a.contentType],ozpIwc.CommonApiValue.apply(this,arguments),this.resource=a.resource,this.invokePacket=a.invokePacket,this.permissions=a.invokePacket.permissions,this.entity={intent:{type:a.type,action:a.action},contentType:a.contentType,entity:a.entity,state:"new",status:"ok",handlerChoices:a.handlerChoices||[],handlerChosen:{resource:null,reason:null},handler:{resource:null,address:null},reply:{contentType:null,entity:null}}}),ozpIwc.IntentsApiInFlightIntent.prototype.acceptedReasons=["user","pref","onlyOne","broadcast"],ozpIwc.IntentsApiInFlightIntent.prototype.acceptedStates=["new","choosing","delivering","running","error","complete"],ozpIwc.IntentsApiTypeValue=ozpIwc.util.extend(ozpIwc.CommonApiValue,function(a){a=a||{},a.allowedContentTypes=["application/vnd.ozp-iwc-intent-type-v1+json"],a.contentType="application/vnd.ozp-iwc-intent-type-v1+json",ozpIwc.CommonApiValue.apply(this,arguments),this.pattern=new RegExp(this.resource.replace("$","\\$").replace(".","\\.")+"/[^/]*$"),this.pattern.toJSON=RegExp.prototype.toString,this.entity={type:a.intentType,actions:[]}}),ozpIwc.IntentsApiTypeValue.prototype.isUpdateNeeded=function(a){return this.pattern.test(a.resource)},ozpIwc.IntentsApiTypeValue.prototype.updateContent=function(a){this.version++,this.entity.actions=a.map(function(a){return a.resource})},ozpIwc.IntentsApiTypeValue.prototype.deserialize=function(){ozpIwc.IntentsApiDefinitionValue.prototype.deserialize.apply(this,arguments)},ozpIwc.IntentsApiTypeValue.prototype.serialize=function(){return ozpIwc.IntentsApiDefinitionValue.prototype.serialize.apply(this,arguments)},ozpIwc.NamesApi=ozpIwc.util.extend(ozpIwc.CommonApiBase,function(a){ozpIwc.CommonApiBase.apply(this,arguments),this.heartbeatFrequency=a.heartbeatFrequency||1e4,this.heartbeatDropCount=a.heartbeatDropCount||3,this.on("receive",function(a){var b=a.packet;b.resource&&(b.resource=b.resource.replace(/$\/me^/,a.packet.src))}),this.addDynamicNode(new ozpIwc.CommonApiCollectionValue({resource:"/address",pattern:/^\/address\/.*$/,contentType:"application/vnd.ozp-iwc-address-list-v1+json"})),this.addDynamicNode(new ozpIwc.CommonApiCollectionValue({resource:"/multicast",pattern:/^\/multicast\/[^\/\n]*$/,contentType:"application/vnd.ozp-iwc-multicast-list-v1+json"})),this.addDynamicNode(new ozpIwc.CommonApiCollectionValue({resource:"/router",pattern:/^\/router\/.*$/,contentType:"application/vnd.ozp-iwc-router-list-v1+json"})),this.addDynamicNode(new ozpIwc.CommonApiCollectionValue({resource:"/api",pattern:/^\/api\/.*$/,contentType:"application/vnd.ozp-iwc-api-list-v1+json"}));var b={resource:"/api/data.api",entity:{actions:["get","set","delete","watch","unwatch","addChild","removeChild","list"]},contentType:"application/vnd.ozp-iwc-api-v1+json"},c=this.findOrMakeValue(b);c.set(b),b={resource:"/api/intents.api",entity:{actions:["get","set","delete","watch","unwatch","register","invoke","broadcast","list"]},contentType:"application/vnd.ozp-iwc-api-v1+json"},c=this.findOrMakeValue(b),c.set(b),b={resource:"/api/names.api",entity:{actions:["get","set","delete","watch","unwatch","list"]},contentType:"application/vnd.ozp-iwc-api-v1+json"},c=this.findOrMakeValue(b),c.set(b),b={resource:"/api/system.api",entity:{actions:["get","set","delete","watch","unwatch","list","launch"]},contentType:"application/vnd.ozp-iwc-api-v1+json"},c=this.findOrMakeValue(b),c.set(b);var d=this;this.dynamicNodes.forEach(function(a){d.updateDynamicNode(d.data[a])}),setInterval(function(){d.removeDeadNodes()},this.heartbeatFrequency)}),ozpIwc.NamesApi.prototype.removeDeadNodes=function(){for(var a in this.data){var b=this.data[a];if(this.dynamicNodes.indexOf(a)<0&&b.entity&&b.entity.time&&ozpIwc.util.now()-b.entity.time>this.heartbeatFrequency*this.heartbeatDropCount){var c=b.snapshot();b.deleteData,this.notifyWatchers(b,b.changesSince(c)),delete this.data[a],this.dynamicNodes.forEach(function(a){this.updateDynamicNode(this.data[a])},this)}}},ozpIwc.NamesApi.prototype.validateResource=function(a,b){if(b.packet.resource&&!b.packet.resource.match(/^\/(api|address|multicast|router|me)/))throw new ozpIwc.ApiError("badResource","Invalide resource for name.api: "+b.packet.resource)},ozpIwc.NamesApi.prototype.makeValue=function(a){var b=a.resource.split("/"),c={resource:a.resource,contentType:a.contentType};switch(a.contentType){case"application/vnd.ozp-iwc-api-v1+json":c.allowedContentTypes=["application/vnd.ozp-iwc-api-v1+json"];break;case"application/vnd.ozp-iwc-multicast-address-v1+json":if(c.allowedContentTypes=["application/vnd.ozp-iwc-multicast-address-v1+json"],b.length>=3){var d="/"+b[1]+"/"+b[2];this.dynamicNodes.indexOf(d)<0&&this.addDynamicNode(new ozpIwc.CommonApiCollectionValue({resource:d,pattern:new RegExp("^/"+b[1].replace("$","\\$").replace(".","\\.")+"/"+b[2].replace("$","\\$").replace(".","\\.")+"/.*$"),contentType:"application/vnd.ozp-iwc-address-list-v1+json"}))}break;case"application/vnd.ozp-iwc-address-v1+json":c.allowedContentTypes=["application/vnd.ozp-iwc-address-v1+json"];break;case"application/vnd.ozp-iwc-router-v1+json":c.allowedContentTypes=["application/vnd.ozp-iwc-router-v1+json"];break;default:throw new ozpIwc.ApiError("badContent","Not a valid contentType of names.api: "+b[1]+" in "+a.resource)}return new ozpIwc.NamesApiValue(c)},ozpIwc.NamesApi.prototype.handleEventChannelDisconnectImpl=function(a){delete this.data[a.packet.entity.namesResource];for(var b in this.dynamicNodes){var c=this.dynamicNodes[b];this.updateDynamicNode(this.data[c])}},ozpIwc.NamesApiValue=ozpIwc.util.extend(ozpIwc.CommonApiValue,function(a){if(!a||!a.allowedContentTypes)throw new Error("NamesAPIValue must be configured with allowedContentTypes.");ozpIwc.CommonApiValue.apply(this,arguments)});var ozpIwc=ozpIwc||{};ozpIwc.SystemApi=ozpIwc.util.extend(ozpIwc.CommonApiBase,function(){ozpIwc.CommonApiBase.apply(this,arguments),this.addDynamicNode(new ozpIwc.CommonApiCollectionValue({resource:"/application",pattern:/^\/application\/.*$/,contentType:"application/vnd.ozp-iwc-application-list-v1+json"})),this.on("changedNode",this.updateIntents,this)}),ozpIwc.SystemApi.prototype.loadFromServer=function(){var a=this,b=[{name:"Accept",value:"application/vnd.ozp-application-v1+json"}];return new Promise(function(c,d){a.loadFromEndpoint(ozpIwc.linkRelPrefix+":application",b).then(function(){a.loadFromEndpoint(ozpIwc.linkRelPrefix+":user").then(function(){a.loadFromEndpoint(ozpIwc.linkRelPrefix+":system").then(function(){c("system.api load complete")})})})["catch"](function(a){d(a)})})},ozpIwc.SystemApi.prototype.updateIntents=function(a){if(a.getIntentsRegistrations){var b=a.getIntentsRegistrations();b&&b.forEach(function(b){var c=b.icon||a.entity&&a.entity.icons&&a.entity.icons.small?a.entity.icons.small:"",d=b.label||a.entity.name;this.participant.send({dst:"intents.api",src:"system.api",action:"set",resource:"/"+b.type+"/"+b.action+"/system.api"+a.resource.replace(/\//g,"."),contentType:"application/vnd.ozp-iwc-intent-handler-v1+json",entity:{type:b.type,action:b.action,icon:c,label:d,_links:a.entity._links,invokeIntent:{action:"invoke",resource:a.resource}}})},this)}},ozpIwc.SystemApi.prototype.makeValue=function(a){switch(a.contentType){case"application/vnd.ozp-application-v1+json":var b="/system"+a.resource;a.entity=a.entity||{},a.entity.launchDefinition=a.entity.launchDefinition||b;var c=new ozpIwc.SystemApiApplicationValue({resource:a.resource,entity:a.entity,contentType:a.contentType,systemApi:this});return this.participant.send({dst:"intents.api",action:"register",contentType:"application/vnd.ozp-iwc-intent-handler-v1+json",resource:b,entity:{icon:a.entity.icons&&a.entity.icons.small?a.entity.icons.small:"",label:a.entity.name||"",contentType:"application/json",invokeIntent:{dst:"system.api",action:"invoke",resource:a.resource}}},function(a,b){c.entity.launchResource=a.entity.resource,b()}),c;default:return new ozpIwc.CommonApiValue(a)}},ozpIwc.SystemApi.prototype.handleSet=function(a,b){b.replyTo({response:"badAction",entity:{action:b.packet.action,originalRequest:b.packet}})},ozpIwc.SystemApi.prototype.handleDelete=function(a,b){b.replyTo({response:"badAction",entity:{action:b.packet.action,originalRequest:b.packet}})},ozpIwc.SystemApi.prototype.handleLaunch=function(a,b){this.participant.send({dst:"intents.api",contentType:"application/vnd.ozp-iwc-intent-handler-v1+json",action:"invoke",resource:a.entity.launchResource,entity:b.packet.entity}),b.replyTo({response:"ok"})},ozpIwc.SystemApi.prototype.handleInvoke=function(a,b){b.packet.entity&&b.packet.entity.inFlightIntent?(this.launchApplication(a,b.packet.entity.inFlightIntent),b.replyTo({response:"ok"})):b.replyTo({response:"badResource"})},ozpIwc.SystemApi.prototype.launchApplication=function(a,b){var c=["ozpIwc.peer="+encodeURIComponent(ozpIwc.BUS_ROOT),"ozpIwc.inFlightIntent="+encodeURIComponent(b)];ozpIwc.util.openWindow(a.entity.launchUrls["default"],c.join("&"))},ozpIwc.SystemApiApplicationValue=ozpIwc.util.extend(ozpIwc.CommonApiValue,function(a){ozpIwc.CommonApiValue.apply(this,arguments),this.systemApi=a.systemApi}),ozpIwc.SystemApiApplicationValue.prototype.getIntentsRegistrations=function(){return this.entity.intents};var ozpIwc=ozpIwc||{};ozpIwc.ELECTION_TIMEOUT=1e3,ozpIwc.apiRootUrl=ozpIwc.apiRootUrl||"/api",ozpIwc.basicAuthUsername=ozpIwc.basicAuthUsername||"",ozpIwc.basicAuthPassword=ozpIwc.basicAuthPassword||"",ozpIwc.linkRelPrefix=ozpIwc.linkRelPrefix||"ozp",("undefined"==typeof ozpIwc.enableDefault||ozpIwc.enableDefault)&&(ozpIwc.initEndpoints(ozpIwc.apiRootUrl),ozpIwc.defaultPeer=new ozpIwc.Peer,ozpIwc.defaultLocalStorageLink=new ozpIwc.KeyBroadcastLocalStorageLink({peer:ozpIwc.defaultPeer}),ozpIwc.authorization=new ozpIwc.BasicAuthorization,ozpIwc.heartBeatFrequency=1e4,ozpIwc.defaultRouter=new ozpIwc.Router({peer:ozpIwc.defaultPeer,heartbeatFrequency:ozpIwc.heartBeatFrequency}),("undefined"==typeof ozpIwc.runApis||ozpIwc.runApis)&&(ozpIwc.defaultLeadershipStates=function(){return{leader:["actingLeader"],election:["leaderSync","actingLeader"],queueing:["leaderSync"],member:[]}},ozpIwc.initEndpoints(ozpIwc.apiRootUrl||"api"),ozpIwc.namesApi=new ozpIwc.NamesApi({participant:new ozpIwc.LeaderGroupParticipant({name:"names.api",states:ozpIwc.defaultLeadershipStates(),electionTimeout:ozpIwc.ELECTION_TIMEOUT}),heartbeatDropCount:3,heartbeatFrequency:ozpIwc.heartBeatFrequency}),ozpIwc.defaultRouter.registerParticipant(ozpIwc.namesApi.participant),ozpIwc.dataApi=new ozpIwc.DataApi({participant:new ozpIwc.LeaderGroupParticipant({name:"data.api",states:ozpIwc.defaultLeadershipStates(),electionTimeout:ozpIwc.ELECTION_TIMEOUT})}),ozpIwc.defaultRouter.registerParticipant(ozpIwc.dataApi.participant),ozpIwc.intentsApi=new ozpIwc.IntentsApi({participant:new ozpIwc.LeaderGroupParticipant({name:"intents.api",states:ozpIwc.defaultLeadershipStates(),electionTimeout:ozpIwc.ELECTION_TIMEOUT})}),ozpIwc.defaultRouter.registerParticipant(ozpIwc.intentsApi.participant),ozpIwc.systemApi=new ozpIwc.SystemApi({participant:new ozpIwc.LeaderGroupParticipant({name:"system.api",states:ozpIwc.defaultLeadershipStates(),electionTimeout:ozpIwc.ELECTION_TIMEOUT})}),ozpIwc.defaultRouter.registerParticipant(ozpIwc.systemApi.participant)),("undefined"==typeof ozpIwc.acceptPostMessageParticipants||ozpIwc.acceptPostMessageParticipants)&&(ozpIwc.defaultPostMessageParticipantListener=new ozpIwc.PostMessageParticipantListener({router:ozpIwc.defaultRouter}))),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=a.length,c=_.type(a);return"function"===c||_.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(_.isFunction(b))return _.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return _.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(hb.test(b))return _.filter(b,a,c);b=_.filter(b,a)}return _.grep(a,function(a){return U.call(b,a)>=0!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b=ob[a]={};return _.each(a.match(nb)||[],function(a,c){b[c]=!0}),b}function g(){Z.removeEventListener("DOMContentLoaded",g,!1),a.removeEventListener("load",g,!1),_.ready()}function h(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=_.expando+Math.random()}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(ub,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:tb.test(c)?_.parseJSON(c):c}catch(e){}sb.set(a,b,c)}else c=void 0;return c}function j(){return!0}function k(){return!1}function l(){try{return Z.activeElement}catch(a){}}function m(a,b){return _.nodeName(a,"table")&&_.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function n(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function o(a){var b=Kb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function p(a,b){for(var c=0,d=a.length;d>c;c++)rb.set(a[c],"globalEval",!b||rb.get(b[c],"globalEval"))}function q(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(rb.hasData(a)&&(f=rb.access(a),g=rb.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)_.event.add(b,e,j[e][c])}sb.hasData(a)&&(h=sb.access(a),i=_.extend({},h),sb.set(b,i))}}function r(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&_.nodeName(a,b)?_.merge([a],c):c}function s(a,b){var c=b.nodeName.toLowerCase();"input"===c&&yb.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function t(b,c){var d,e=_(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:_.css(e[0],"display");return e.detach(),f}function u(a){var b=Z,c=Ob[a];return c||(c=t(a,b),"none"!==c&&c||(Nb=(Nb||_("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Nb[0].contentDocument,b.write(),b.close(),c=t(a,b),Nb.detach()),Ob[a]=c),c}function v(a,b,c){var d,e,f,g,h=a.style;return c=c||Rb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||_.contains(a.ownerDocument,a)||(g=_.style(a,b)),Qb.test(g)&&Pb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function w(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function x(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Xb.length;e--;)if(b=Xb[e]+c,b in a)return b;return d}function y(a,b,c){var d=Tb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function z(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=_.css(a,c+wb[f],!0,e)),d?("content"===c&&(g-=_.css(a,"padding"+wb[f],!0,e)),"margin"!==c&&(g-=_.css(a,"border"+wb[f]+"Width",!0,e))):(g+=_.css(a,"padding"+wb[f],!0,e),"padding"!==c&&(g+=_.css(a,"border"+wb[f]+"Width",!0,e)));return g}function A(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Rb(a),g="border-box"===_.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=v(a,b,f),(0>e||null==e)&&(e=a.style[b]),Qb.test(e))return e;d=g&&(Y.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+z(a,b,c||(g?"border":"content"),d,f)+"px"}function B(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=rb.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&xb(d)&&(f[g]=rb.access(d,"olddisplay",u(d.nodeName)))):(e=xb(d),"none"===c&&e||rb.set(d,"olddisplay",e?c:_.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function C(a,b,c,d,e){return new C.prototype.init(a,b,c,d,e)}function D(){return setTimeout(function(){Yb=void 0}),Yb=_.now()}function E(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=wb[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function F(a,b,c){for(var d,e=(cc[b]||[]).concat(cc["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function G(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&xb(a),p=rb.get(a,"fxshow");c.queue||(h=_._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,_.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=_.css(a,"display"),k="none"===j?rb.get(a,"olddisplay")||u(a.nodeName):j,"inline"===k&&"none"===_.css(a,"float")&&(n.display="inline-block")),c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],$b.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||_.style(a,d)}else j=void 0;if(_.isEmptyObject(m))"inline"===("none"===j?u(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=rb.access(a,"fxshow",{}),f&&(p.hidden=!o),o?_(a).show():l.done(function(){_(a).hide()}),l.done(function(){var b;rb.remove(a,"fxshow");for(b in m)_.style(a,b,m[b])});for(d in m)g=F(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function H(a,b){var c,d,e,f,g;for(c in a)if(d=_.camelCase(c),e=b[d],f=a[c],_.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=_.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function I(a,b,c){var d,e,f=0,g=bc.length,h=_.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Yb||D(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);
return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:_.extend({},b),opts:_.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Yb||D(),duration:c.duration,tweens:[],createTween:function(b,c){var d=_.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(H(k,j.opts.specialEasing);g>f;f++)if(d=bc[f].call(j,a,k,j.opts))return d;return _.map(k,F,j),_.isFunction(j.opts.start)&&j.opts.start.call(a,j),_.fx.timer(_.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function J(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(nb)||[];if(_.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function K(a,b,c,d){function e(h){var i;return f[h]=!0,_.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===vc;return e(b.dataTypes[0])||!f["*"]&&e("*")}function L(a,b){var c,d,e=_.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&_.extend(!0,a,d),a}function M(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function N(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function O(a,b,c,d){var e;if(_.isArray(b))_.each(b,function(b,e){c||zc.test(a)?d(a,e):O(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==_.type(b))d(a,b);else for(e in b)O(a+"["+e+"]",b[e],c,d)}function P(a){return _.isWindow(a)?a:9===a.nodeType&&a.defaultView}var Q=[],R=Q.slice,S=Q.concat,T=Q.push,U=Q.indexOf,V={},W=V.toString,X=V.hasOwnProperty,Y={},Z=a.document,$="2.1.1",_=function(a,b){return new _.fn.init(a,b)},ab=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bb=/^-ms-/,cb=/-([\da-z])/gi,db=function(a,b){return b.toUpperCase()};_.fn=_.prototype={jquery:$,constructor:_,selector:"",length:0,toArray:function(){return R.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:R.call(this)},pushStack:function(a){var b=_.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return _.each(this,a,b)},map:function(a){return this.pushStack(_.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:T,sort:Q.sort,splice:Q.splice},_.extend=_.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||_.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(_.isPlainObject(d)||(e=_.isArray(d)))?(e?(e=!1,f=c&&_.isArray(c)?c:[]):f=c&&_.isPlainObject(c)?c:{},g[b]=_.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},_.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===_.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!_.isArray(a)&&a-parseFloat(a)>=0},isPlainObject:function(a){return"object"!==_.type(a)||a.nodeType||_.isWindow(a)?!1:a.constructor&&!X.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?V[W.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=_.trim(a),a&&(1===a.indexOf("use strict")?(b=Z.createElement("script"),b.text=a,Z.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(bb,"ms-").replace(cb,db)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(ab,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?_.merge(d,"string"==typeof a?[a]:a):T.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:U.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return S.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),_.isFunction(a)?(d=R.call(arguments,2),e=function(){return a.apply(b||this,d.concat(R.call(arguments)))},e.guid=a.guid=a.guid||_.guid++,e):void 0},now:Date.now,support:Y}),_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){V["[object "+b+"]"]=b.toLowerCase()});var eb=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=sb.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return _.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName&&b.getElementsByClassName)return _.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ub,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=tb.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return _.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ib,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||W)-(~a.sourceIndex||W);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&typeof a.getElementsByTagName!==V&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?bb.call(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):_.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return bb.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ib,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Z.call(i));r=q(r)}_.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V="undefined",W=1<<31,X={}.hasOwnProperty,Y=[],Z=Y.pop,$=Y.push,_=Y.push,ab=Y.slice,bb=Y.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},cb="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",db="[\\x20\\t\\r\\n\\f]",eb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",fb=eb.replace("w","w#"),gb="\\["+db+"*("+eb+")(?:"+db+"*([*^$|!~]?=)"+db+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+fb+"))|)"+db+"*\\]",hb=":("+eb+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+gb+")*)|.*)\\)|)",ib=new RegExp("^"+db+"+|((?:^|[^\\\\])(?:\\\\.)*)"+db+"+$","g"),jb=new RegExp("^"+db+"*,"+db+"*"),kb=new RegExp("^"+db+"*([>+~]|"+db+")"+db+"*"),lb=new RegExp("="+db+"*([^\\]'\"]*?)"+db+"*\\]","g"),mb=new RegExp(hb),nb=new RegExp("^"+fb+"$"),ob={ID:new RegExp("^#("+eb+")"),CLASS:new RegExp("^\\.("+eb+")"),TAG:new RegExp("^("+eb.replace("w","w*")+")"),ATTR:new RegExp("^"+gb),PSEUDO:new RegExp("^"+hb),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+db+"*(even|odd|(([+-]|)(\\d*)n|)"+db+"*(?:([+-]|)"+db+"*(\\d+)|))"+db+"*\\)|)","i"),bool:new RegExp("^(?:"+cb+")$","i"),needsContext:new RegExp("^"+db+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+db+"*((?:-\\d)?\\d*)"+db+"*\\)|)(?=[^-]|$)","i")},pb=/^(?:input|select|textarea|button)$/i,qb=/^h\d$/i,rb=/^[^{]+\{\s*\[native \w/,sb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tb=/[+~]/,ub=/'|\\/g,vb=new RegExp("\\\\([\\da-f]{1,6}"+db+"?|("+db+")|.)","ig"),wb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{_.apply(Y=ab.call(O.childNodes),O.childNodes),Y[O.childNodes.length].nodeType}catch(xb){_={apply:Y.length?function(a,b){$.apply(a,ab.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c=a?a.ownerDocument||a:O,d=c.defaultView;return c!==G&&9===c.nodeType&&c.documentElement?(G=c,H=c.documentElement,I=!y(c),d&&d!==d.top&&(d.addEventListener?d.addEventListener("unload",function(){F()},!1):d.attachEvent&&d.attachEvent("onunload",function(){F()})),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=rb.test(c.getElementsByClassName)&&e(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),v.getById=e(function(a){return H.appendChild(a).id=N,!c.getElementsByName||!c.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if(typeof b.getElementById!==V&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){var c=typeof a.getAttributeNode!==V&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==V?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==V&&I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=rb.test(c.querySelectorAll))&&(e(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&J.push("[*^$]="+db+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+db+"*(?:value|"+cb+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),e(function(a){var b=c.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+db+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=rb.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",hb)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=rb.test(H.compareDocumentPosition),M=b||rb.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!v.sortDetached&&b.compareDocumentPosition(a)===d?a===c||a.ownerDocument===O&&M(O,a)?-1:b===c||b.ownerDocument===O&&M(O,b)?1:D?bb.call(D,a)-bb.call(D,b):0:4&d?-1:1)}:function(a,b){if(a===b)return E=!0,0;var d,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===c?-1:b===c?1:f?-1:h?1:D?bb.call(D,a)-bb.call(D,b):0;if(f===h)return g(a,b);for(d=a;d=d.parentNode;)i.unshift(d);for(d=b;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},c):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(lb,"='$1']"),!(!v.matchesSelector||!I||K&&K.test(c)||J&&J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&X.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:ob,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(vb,wb),a[3]=(a[3]||a[4]||a[5]||"").replace(vb,wb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return ob.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&mb.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(vb,wb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+db+")"+a+"("+db+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==V&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=bb.call(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ib,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return nb.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(vb,wb).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qb.test(a.nodeName)},input:function(a){return pb.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){(!d||(e=jb.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=kb.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ib," ")}),h=h.slice(d.length));for(g in w.filter)!(e=ob[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(vb,wb),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=ob.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(vb,wb),tb.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return _.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,tb.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(cb,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);_.find=eb,_.expr=eb.selectors,_.expr[":"]=_.expr.pseudos,_.unique=eb.uniqueSort,_.text=eb.getText,_.isXMLDoc=eb.isXML,_.contains=eb.contains;var fb=_.expr.match.needsContext,gb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,hb=/^.[^:#\[\.,]*$/;_.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?_.find.matchesSelector(d,a)?[d]:[]:_.find.matches(a,_.grep(b,function(a){return 1===a.nodeType}))},_.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(_(a).filter(function(){for(b=0;c>b;b++)if(_.contains(e[b],this))return!0}));for(b=0;c>b;b++)_.find(a,e[b],d);return d=this.pushStack(c>1?_.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&fb.test(a)?_(a):a||[],!1).length}});var ib,jb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,kb=_.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:jb.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||ib).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof _?b[0]:b,_.merge(this,_.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:Z,!0)),gb.test(c[1])&&_.isPlainObject(b))for(c in b)_.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=Z.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=Z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):_.isFunction(a)?"undefined"!=typeof ib.ready?ib.ready(a):a(_):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),_.makeArray(a,this))};kb.prototype=_.fn,ib=_(Z);var lb=/^(?:parents|prev(?:Until|All))/,mb={children:!0,contents:!0,next:!0,prev:!0};_.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&_(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),_.fn.extend({has:function(a){var b=_(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(_.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=fb.test(a)||"string"!=typeof a?_(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&_.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?_.unique(f):f)},index:function(a){return a?"string"==typeof a?U.call(_(a),this[0]):U.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(_.unique(_.merge(this.get(),_(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),_.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return _.dir(a,"parentNode")},parentsUntil:function(a,b,c){return _.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return _.dir(a,"nextSibling")},prevAll:function(a){return _.dir(a,"previousSibling")},nextUntil:function(a,b,c){return _.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return _.dir(a,"previousSibling",c)},siblings:function(a){return _.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return _.sibling(a.firstChild)},contents:function(a){return a.contentDocument||_.merge([],a.childNodes)}},function(a,b){_.fn[a]=function(c,d){var e=_.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=_.filter(d,e)),this.length>1&&(mb[a]||_.unique(e),lb.test(a)&&e.reverse()),this.pushStack(e)}});var nb=/\S+/g,ob={};_.Callbacks=function(a){a="string"==typeof a?ob[a]||f(a):_.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(b=a.memory&&f,c=!0,h=e||0,e=0,g=i.length,d=!0;i&&g>h;h++)if(i[h].apply(f[0],f[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,i&&(j?j.length&&k(j.shift()):b?i=[]:l.disable())},l={add:function(){if(i){var c=i.length;!function f(b){_.each(b,function(b,c){var d=_.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),d?g=i.length:b&&(e=c,k(b))}return this},remove:function(){return i&&_.each(arguments,function(a,b){for(var c;(c=_.inArray(b,i,c))>-1;)i.splice(c,1),d&&(g>=c&&g--,h>=c&&h--)}),this},has:function(a){return a?_.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],g=0,this},disable:function(){return i=j=b=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,b||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return!i||c&&!j||(b=b||[],b=[a,b.slice?b.slice():b],d?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!c}};return l},_.extend({Deferred:function(a){var b=[["resolve","done",_.Callbacks("once memory"),"resolved"],["reject","fail",_.Callbacks("once memory"),"rejected"],["notify","progress",_.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return _.Deferred(function(c){_.each(b,function(b,f){var g=_.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&_.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?_.extend(a,d):d}},e={};return d.pipe=d.then,_.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=R.call(arguments),g=f.length,h=1!==g||a&&_.isFunction(a.promise)?g:0,i=1===h?a:_.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?R.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&_.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var pb;_.fn.ready=function(a){return _.ready.promise().done(a),this},_.extend({isReady:!1,readyWait:1,holdReady:function(a){a?_.readyWait++:_.ready(!0)},ready:function(a){(a===!0?--_.readyWait:_.isReady)||(_.isReady=!0,a!==!0&&--_.readyWait>0||(pb.resolveWith(Z,[_]),_.fn.triggerHandler&&(_(Z).triggerHandler("ready"),_(Z).off("ready"))))}}),_.ready.promise=function(b){return pb||(pb=_.Deferred(),"complete"===Z.readyState?setTimeout(_.ready):(Z.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1))),pb.promise(b)},_.ready.promise();var qb=_.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===_.type(c)){e=!0;for(h in c)_.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,_.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(_(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};_.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType
},h.uid=1,h.accepts=_.acceptData,h.prototype={key:function(a){if(!h.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=h.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,_.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(_.isEmptyObject(f))_.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,_.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{_.isArray(b)?d=b.concat(b.map(_.camelCase)):(e=_.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(nb)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!_.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var rb=new h,sb=new h,tb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ub=/([A-Z])/g;_.extend({hasData:function(a){return sb.hasData(a)||rb.hasData(a)},data:function(a,b,c){return sb.access(a,b,c)},removeData:function(a,b){sb.remove(a,b)},_data:function(a,b,c){return rb.access(a,b,c)},_removeData:function(a,b){rb.remove(a,b)}}),_.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=sb.get(f),1===f.nodeType&&!rb.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=_.camelCase(d.slice(5)),i(f,d,e[d])));rb.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){sb.set(this,a)}):qb(this,function(b){var c,d=_.camelCase(a);if(f&&void 0===b){if(c=sb.get(f,a),void 0!==c)return c;if(c=sb.get(f,d),void 0!==c)return c;if(c=i(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=sb.get(this,d);sb.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&sb.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){sb.remove(this,a)})}}),_.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=rb.get(a,b),c&&(!d||_.isArray(c)?d=rb.access(a,b,_.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=_.queue(a,b),d=c.length,e=c.shift(),f=_._queueHooks(a,b),g=function(){_.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return rb.get(a,c)||rb.access(a,c,{empty:_.Callbacks("once memory").add(function(){rb.remove(a,[b+"queue",c])})})}}),_.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?_.queue(this[0],a):void 0===b?this:this.each(function(){var c=_.queue(this,a,b);_._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&_.dequeue(this,a)})},dequeue:function(a){return this.each(function(){_.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=_.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=rb.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var vb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wb=["Top","Right","Bottom","Left"],xb=function(a,b){return a=b||a,"none"===_.css(a,"display")||!_.contains(a.ownerDocument,a)},yb=/^(?:checkbox|radio)$/i;!function(){var a=Z.createDocumentFragment(),b=a.appendChild(Z.createElement("div")),c=Z.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),Y.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var zb="undefined";Y.focusinBubbles="onfocusin"in a;var Ab=/^key/,Bb=/^(?:mouse|pointer|contextmenu)|click/,Cb=/^(?:focusinfocus|focusoutblur)$/,Db=/^([^.]*)(?:\.(.+)|)$/;_.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=rb.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=_.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return typeof _!==zb&&_.event.triggered!==b.type?_.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(nb)||[""],j=b.length;j--;)h=Db.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=_.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=_.event.special[n]||{},k=_.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&_.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),_.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=rb.hasData(a)&&rb.get(a);if(q&&(i=q.events)){for(b=(b||"").match(nb)||[""],j=b.length;j--;)if(h=Db.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=_.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||_.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)_.event.remove(a,n+b[j],c,d,!0);_.isEmptyObject(i)&&(delete q.handle,rb.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||Z],n=X.call(b,"type")?b.type:b,o=X.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||Z,3!==d.nodeType&&8!==d.nodeType&&!Cb.test(n+_.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[_.expando]?b:new _.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:_.makeArray(c,[b]),l=_.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!_.isWindow(d)){for(i=l.delegateType||n,Cb.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||Z)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(rb.get(g,"events")||{})[b.type]&&rb.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&_.acceptData(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!_.acceptData(d)||j&&_.isFunction(d[n])&&!_.isWindow(d)&&(h=d[j],h&&(d[j]=null),_.event.triggered=n,d[n](),_.event.triggered=void 0,h&&(d[j]=h)),b.result}},dispatch:function(a){a=_.event.fix(a);var b,c,d,e,f,g=[],h=R.call(arguments),i=(rb.get(this,"events")||{})[a.type]||[],j=_.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=_.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(f.namespace))&&(a.handleObj=f,a.data=f.data,d=((_.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?_(e,this).index(i)>=0:_.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||Z,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[_.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Bb.test(e)?this.mouseHooks:Ab.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new _.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=Z),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&_.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return _.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=_.extend(new _.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?_.event.trigger(e,null,b):_.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},_.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},_.Event=function(a,b){return this instanceof _.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?j:k):this.type=a,b&&_.extend(this,b),this.timeStamp=a&&a.timeStamp||_.now(),void(this[_.expando]=!0)):new _.Event(a,b)},_.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=j,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=j,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=j,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){_.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!_.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),Y.focusinBubbles||_.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){_.event.simulate(b,a.target,_.event.fix(a),!0)};_.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=rb.access(d,b);e||d.addEventListener(a,c,!0),rb.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=rb.access(d,b)-1;e?rb.access(d,b,e):(d.removeEventListener(a,c,!0),rb.remove(d,b))}}}),_.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=k;else if(!d)return this;return 1===e&&(f=d,d=function(a){return _().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=_.guid++)),this.each(function(){_.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,_(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=k),this.each(function(){_.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){_.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?_.event.trigger(a,b,c,!0):void 0}});var Eb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fb=/<([\w:]+)/,Gb=/<|&#?\w+;/,Hb=/<(?:script|style|link)/i,Ib=/checked\s*(?:[^=]|=\s*.checked.)/i,Jb=/^$|\/(?:java|ecma)script/i,Kb=/^true\/(.*)/,Lb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Mb={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Mb.optgroup=Mb.option,Mb.tbody=Mb.tfoot=Mb.colgroup=Mb.caption=Mb.thead,Mb.th=Mb.td,_.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=_.contains(a.ownerDocument,a);if(!(Y.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||_.isXMLDoc(a)))for(g=r(h),f=r(a),d=0,e=f.length;e>d;d++)s(f[d],g[d]);if(b)if(c)for(f=f||r(a),g=g||r(h),d=0,e=f.length;e>d;d++)q(f[d],g[d]);else q(a,h);return g=r(h,"script"),g.length>0&&p(g,!i&&r(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;n>m;m++)if(e=a[m],e||0===e)if("object"===_.type(e))_.merge(l,e.nodeType?[e]:e);else if(Gb.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(Fb.exec(e)||["",""])[1].toLowerCase(),h=Mb[g]||Mb._default,f.innerHTML=h[1]+e.replace(Eb,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;_.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===_.inArray(e,d))&&(i=_.contains(e.ownerDocument,e),f=r(k.appendChild(e),"script"),i&&p(f),c))for(j=0;e=f[j++];)Jb.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=_.event.special,g=0;void 0!==(c=a[g]);g++){if(_.acceptData(c)&&(e=c[rb.expando],e&&(b=rb.cache[e]))){if(b.events)for(d in b.events)f[d]?_.event.remove(c,d):_.removeEvent(c,d,b.handle);rb.cache[e]&&delete rb.cache[e]}delete sb.cache[c[sb.expando]]}}}),_.fn.extend({text:function(a){return qb(this,function(a){return void 0===a?_.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?_.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||_.cleanData(r(c)),c.parentNode&&(b&&_.contains(c.ownerDocument,c)&&p(r(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(_.cleanData(r(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return _.clone(this,a,b)})},html:function(a){return qb(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Hb.test(a)&&!Mb[(Fb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Eb,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(_.cleanData(r(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,_.cleanData(r(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=S.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],p=_.isFunction(m);if(p||j>1&&"string"==typeof m&&!Y.checkClone&&Ib.test(m))return this.each(function(c){var d=k.eq(c);p&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(c=_.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(e=_.map(r(c,"script"),n),f=e.length;j>i;i++)g=c,i!==l&&(g=_.clone(g,!0,!0),f&&_.merge(e,r(g,"script"))),b.call(this[i],g,i);if(f)for(h=e[e.length-1].ownerDocument,_.map(e,o),i=0;f>i;i++)g=e[i],Jb.test(g.type||"")&&!rb.access(g,"globalEval")&&_.contains(h,g)&&(g.src?_._evalUrl&&_._evalUrl(g.src):_.globalEval(g.textContent.replace(Lb,"")))}return this}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){_.fn[a]=function(a){for(var c,d=[],e=_(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),_(e[g])[b](c),T.apply(d,c.get());return this.pushStack(d)}});var Nb,Ob={},Pb=/^margin/,Qb=new RegExp("^("+vb+")(?!px)[a-z%]+$","i"),Rb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};!function(){function b(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",g.innerHTML="",e.appendChild(f);var b=a.getComputedStyle(g,null);c="1%"!==b.top,d="4px"===b.width,e.removeChild(f)}var c,d,e=Z.documentElement,f=Z.createElement("div"),g=Z.createElement("div");g.style&&(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",f.appendChild(g),a.getComputedStyle&&_.extend(Y,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},reliableMarginRight:function(){var b,c=g.appendChild(Z.createElement("div"));return c.style.cssText=g.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),b=!parseFloat(a.getComputedStyle(c,null).marginRight),e.removeChild(f),b}}))}(),_.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Sb=/^(none|table(?!-c[ea]).+)/,Tb=new RegExp("^("+vb+")(.*)$","i"),Ub=new RegExp("^([+-])=("+vb+")","i"),Vb={position:"absolute",visibility:"hidden",display:"block"},Wb={letterSpacing:"0",fontWeight:"400"},Xb=["Webkit","O","Moz","ms"];_.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=v(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=_.camelCase(b),i=a.style;return b=_.cssProps[h]||(_.cssProps[h]=x(i,h)),g=_.cssHooks[b]||_.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ub.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(_.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||_.cssNumber[h]||(c+="px"),Y.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=_.camelCase(b);return b=_.cssProps[h]||(_.cssProps[h]=x(a.style,h)),g=_.cssHooks[b]||_.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=v(a,b,d)),"normal"===e&&b in Wb&&(e=Wb[b]),""===c||c?(f=parseFloat(e),c===!0||_.isNumeric(f)?f||0:e):e}}),_.each(["height","width"],function(a,b){_.cssHooks[b]={get:function(a,c,d){return c?Sb.test(_.css(a,"display"))&&0===a.offsetWidth?_.swap(a,Vb,function(){return A(a,b,d)}):A(a,b,d):void 0},set:function(a,c,d){var e=d&&Rb(a);return y(a,c,d?z(a,b,d,"border-box"===_.css(a,"boxSizing",!1,e),e):0)}}}),_.cssHooks.marginRight=w(Y.reliableMarginRight,function(a,b){return b?_.swap(a,{display:"inline-block"},v,[a,"marginRight"]):void 0}),_.each({margin:"",padding:"",border:"Width"},function(a,b){_.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+wb[d]+b]=f[d]||f[d-2]||f[0];return e}},Pb.test(a)||(_.cssHooks[a+b].set=y)}),_.fn.extend({css:function(a,b){return qb(this,function(a,b,c){var d,e,f={},g=0;if(_.isArray(b)){for(d=Rb(a),e=b.length;e>g;g++)f[b[g]]=_.css(a,b[g],!1,d);return f}return void 0!==c?_.style(a,b,c):_.css(a,b)},a,b,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){xb(this)?_(this).show():_(this).hide()})}}),_.Tween=C,C.prototype={constructor:C,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(_.cssNumber[c]?"":"px")},cur:function(){var a=C.propHooks[this.prop];return a&&a.get?a.get(this):C.propHooks._default.get(this)},run:function(a){var b,c=C.propHooks[this.prop];return this.pos=b=this.options.duration?_.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):C.propHooks._default.set(this),this}},C.prototype.init.prototype=C.prototype,C.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=_.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){_.fx.step[a.prop]?_.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[_.cssProps[a.prop]]||_.cssHooks[a.prop])?_.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},C.propHooks.scrollTop=C.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},_.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},_.fx=C.prototype.init,_.fx.step={};var Yb,Zb,$b=/^(?:toggle|show|hide)$/,_b=new RegExp("^(?:([+-])=|)("+vb+")([a-z%]*)$","i"),ac=/queueHooks$/,bc=[G],cc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=_b.exec(b),f=e&&e[3]||(_.cssNumber[a]?"":"px"),g=(_.cssNumber[a]||"px"!==f&&+d)&&_b.exec(_.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,_.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};_.Animation=_.extend(I,{tweener:function(a,b){_.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],cc[c]=cc[c]||[],cc[c].unshift(b)},prefilter:function(a,b){b?bc.unshift(a):bc.push(a)}}),_.speed=function(a,b,c){var d=a&&"object"==typeof a?_.extend({},a):{complete:c||!c&&b||_.isFunction(a)&&a,duration:a,easing:c&&b||b&&!_.isFunction(b)&&b};return d.duration=_.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in _.fx.speeds?_.fx.speeds[d.duration]:_.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){_.isFunction(d.old)&&d.old.call(this),d.queue&&_.dequeue(this,d.queue)},d},_.fn.extend({fadeTo:function(a,b,c,d){return this.filter(xb).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=_.isEmptyObject(a),f=_.speed(b,c,d),g=function(){var b=I(this,_.extend({},a),f);(e||rb.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=_.timers,g=rb.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ac.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&_.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=rb.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=_.timers,g=d?d.length:0;for(c.finish=!0,_.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),_.each(["toggle","show","hide"],function(a,b){var c=_.fn[b];_.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(E(b,!0),a,d,e)}}),_.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){_.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),_.timers=[],_.fx.tick=function(){var a,b=0,c=_.timers;for(Yb=_.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||_.fx.stop(),Yb=void 0},_.fx.timer=function(a){_.timers.push(a),a()?_.fx.start():_.timers.pop()},_.fx.interval=13,_.fx.start=function(){Zb||(Zb=setInterval(_.fx.tick,_.fx.interval))},_.fx.stop=function(){clearInterval(Zb),Zb=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(a,b){return a=_.fx?_.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=Z.createElement("input"),b=Z.createElement("select"),c=b.appendChild(Z.createElement("option"));a.type="checkbox",Y.checkOn=""!==a.value,Y.optSelected=c.selected,b.disabled=!0,Y.optDisabled=!c.disabled,a=Z.createElement("input"),a.value="t",a.type="radio",Y.radioValue="t"===a.value}();var dc,ec,fc=_.expr.attrHandle;_.fn.extend({attr:function(a,b){return qb(this,_.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){_.removeAttr(this,a)})}}),_.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===zb?_.prop(a,b,c):(1===f&&_.isXMLDoc(a)||(b=b.toLowerCase(),d=_.attrHooks[b]||(_.expr.match.bool.test(b)?ec:dc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=_.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void _.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(nb);if(f&&1===a.nodeType)for(;c=f[e++];)d=_.propFix[c]||c,_.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!Y.radioValue&&"radio"===b&&_.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),ec={set:function(a,b,c){return b===!1?_.removeAttr(a,c):a.setAttribute(c,c),c}},_.each(_.expr.match.bool.source.match(/\w+/g),function(a,b){var c=fc[b]||_.find.attr;fc[b]=function(a,b,d){var e,f;return d||(f=fc[b],fc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,fc[b]=f),e}});var gc=/^(?:input|select|textarea|button)$/i;_.fn.extend({prop:function(a,b){return qb(this,_.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[_.propFix[a]||a]})}}),_.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!_.isXMLDoc(a),f&&(b=_.propFix[b]||b,e=_.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||gc.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),Y.optSelected||(_.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this});var hc=/[\t\r\n\f]/g;_.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(nb)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hc," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=_.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(nb)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hc," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?_.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(_.isFunction(a)?function(c){_(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=_(this),f=a.match(nb)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===zb||"boolean"===c)&&(this.className&&rb.set(this,"__className__",this.className),this.className=this.className||a===!1?"":rb.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(hc," ").indexOf(b)>=0)return!0;return!1}});var ic=/\r/g;_.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=_.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,_(this).val()):a,null==e?e="":"number"==typeof e?e+="":_.isArray(e)&&(e=_.map(e,function(a){return null==a?"":a+""})),b=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=_.valHooks[e.type]||_.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ic,""):null==c?"":c)}}}),_.extend({valHooks:{option:{get:function(a){var b=_.find.attr(a,"value");return null!=b?b:_.trim(_.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(Y.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&_.nodeName(c.parentNode,"optgroup"))){if(b=_(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=_.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=_.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(a,b){return _.isArray(b)?a.checked=_.inArray(_(a).val(),b)>=0:void 0}},Y.checkOn||(_.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),_.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){_.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)
}}),_.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var jc=_.now(),kc=/\?/;_.parseJSON=function(a){return JSON.parse(a+"")},_.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&_.error("Invalid XML: "+a),b};var lc,mc,nc=/#.*$/,oc=/([?&])_=[^&]*/,pc=/^(.*?):[ \t]*([^\r\n]*)$/gm,qc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rc=/^(?:GET|HEAD)$/,sc=/^\/\//,tc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,uc={},vc={},wc="*/".concat("*");try{mc=location.href}catch(xc){mc=Z.createElement("a"),mc.href="",mc=mc.href}lc=tc.exec(mc.toLowerCase())||[],_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mc,type:"GET",isLocal:qc.test(lc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":_.parseJSON,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?L(L(a,_.ajaxSettings),b):L(_.ajaxSettings,a)},ajaxPrefilter:J(uc),ajaxTransport:J(vc),ajax:function(a,b){function c(a,b,c,g){var i,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),d=void 0,f=g||"",v.readyState=a>0?4:0,i=a>=200&&300>a||304===a,c&&(s=M(l,v,c)),s=N(l,s,v,i),i?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(_.lastModified[e]=u),u=v.getResponseHeader("etag"),u&&(_.etag[e]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,i=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",i?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,j&&n.trigger(i?"ajaxSuccess":"ajaxError",[v,l,i?k:r]),p.fireWith(m,[v,w]),j&&(n.trigger("ajaxComplete",[v,l]),--_.active||_.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=_.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?_(m):_.event,o=_.Deferred(),p=_.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!g)for(g={};b=pc.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return d&&d.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||mc)+"").replace(nc,"").replace(sc,lc[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=_.trim(l.dataType||"*").toLowerCase().match(nb)||[""],null==l.crossDomain&&(i=tc.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]===lc[1]&&i[2]===lc[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(lc[3]||("http:"===lc[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=_.param(l.data,l.traditional)),K(uc,l,b,v),2===t)return v;j=l.global,j&&0===_.active++&&_.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!rc.test(l.type),e=l.url,l.hasContent||(l.data&&(e=l.url+=(kc.test(e)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=oc.test(e)?e.replace(oc,"$1_="+jc++):e+(kc.test(e)?"&":"?")+"_="+jc++)),l.ifModified&&(_.lastModified[e]&&v.setRequestHeader("If-Modified-Since",_.lastModified[e]),_.etag[e]&&v.setRequestHeader("If-None-Match",_.etag[e])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+wc+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)v.setRequestHeader(k,l.headers[k]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(k in{success:1,error:1,complete:1})v[k](l[k]);if(d=K(vc,l,b,v)){v.readyState=1,j&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,d.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return _.get(a,b,c,"json")},getScript:function(a,b){return _.get(a,void 0,b,"script")}}),_.each(["get","post"],function(a,b){_[b]=function(a,c,d,e){return _.isFunction(c)&&(e=e||d,d=c,c=void 0),_.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){_.fn[b]=function(a){return this.on(b,a)}}),_._evalUrl=function(a){return _.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},_.fn.extend({wrapAll:function(a){var b;return _.isFunction(a)?this.each(function(b){_(this).wrapAll(a.call(this,b))}):(this[0]&&(b=_(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(_.isFunction(a)?function(b){_(this).wrapInner(a.call(this,b))}:function(){var b=_(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=_.isFunction(a);return this.each(function(c){_(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){_.nodeName(this,"body")||_(this).replaceWith(this.childNodes)}).end()}}),_.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},_.expr.filters.visible=function(a){return!_.expr.filters.hidden(a)};var yc=/%20/g,zc=/\[\]$/,Ac=/\r?\n/g,Bc=/^(?:submit|button|image|reset|file)$/i,Cc=/^(?:input|select|textarea|keygen)/i;_.param=function(a,b){var c,d=[],e=function(a,b){b=_.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=_.ajaxSettings&&_.ajaxSettings.traditional),_.isArray(a)||a.jquery&&!_.isPlainObject(a))_.each(a,function(){e(this.name,this.value)});else for(c in a)O(c,a[c],b,e);return d.join("&").replace(yc,"+")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=_.prop(this,"elements");return a?_.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!_(this).is(":disabled")&&Cc.test(this.nodeName)&&!Bc.test(a)&&(this.checked||!yb.test(a))}).map(function(a,b){var c=_(this).val();return null==c?null:_.isArray(c)?_.map(c,function(a){return{name:b.name,value:a.replace(Ac,"\r\n")}}):{name:b.name,value:c.replace(Ac,"\r\n")}}).get()}}),_.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Dc=0,Ec={},Fc={0:200,1223:204},Gc=_.ajaxSettings.xhr();a.ActiveXObject&&_(a).on("unload",function(){for(var a in Ec)Ec[a]()}),Y.cors=!!Gc&&"withCredentials"in Gc,Y.ajax=Gc=!!Gc,_.ajaxTransport(function(a){var b;return Y.cors||Gc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Dc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Ec[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Fc[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Ec[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return _.globalEval(a),a}}}),_.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),_.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=_("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),Z.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Hc=[],Ic=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Hc.pop()||_.expando+"_"+jc++;return this[a]=!0,a}}),_.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Ic.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ic.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=_.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Ic,"$1"+e):b.jsonp!==!1&&(b.url+=(kc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||_.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Hc.push(e)),g&&_.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),_.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Z;var d=gb.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=_.buildFragment([a],b,e),e&&e.length&&_(e).remove(),_.merge([],d.childNodes))};var Jc=_.fn.load;_.fn.load=function(a,b,c){if("string"!=typeof a&&Jc)return Jc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=_.trim(a.slice(h)),a=a.slice(0,h)),_.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&_.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?_("<div>").append(_.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},_.expr.filters.animated=function(a){return _.grep(_.timers,function(b){return a===b.elem}).length};var Kc=a.document.documentElement;_.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=_.css(a,"position"),l=_(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=_.css(a,"top"),i=_.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),_.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},_.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){_.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,_.contains(b,d)?(typeof d.getBoundingClientRect!==zb&&(e=d.getBoundingClientRect()),c=P(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===_.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),_.nodeName(a[0],"html")||(d=a.offset()),d.top+=_.css(a[0],"borderTopWidth",!0),d.left+=_.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-_.css(c,"marginTop",!0),left:b.left-d.left-_.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Kc;a&&!_.nodeName(a,"html")&&"static"===_.css(a,"position");)a=a.offsetParent;return a||Kc})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;_.fn[b]=function(e){return qb(this,function(b,e,f){var g=P(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),_.each(["top","left"],function(a,b){_.cssHooks[b]=w(Y.pixelPosition,function(a,c){return c?(c=v(a,b),Qb.test(c)?_(a).position()[b]+"px":c):void 0})}),_.each({Height:"height",Width:"width"},function(a,b){_.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){_.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return qb(this,function(b,c,d){var e;return _.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?_.css(b,c,g):_.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),_.fn.size=function(){return this.length},_.fn.andSelf=_.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var Lc=a.jQuery,Mc=a.$;return _.noConflict=function(b){return a.$===_&&(a.$=Mc),b&&a.jQuery===_&&(a.jQuery=Lc),_},typeof b===zb&&(a.jQuery=a.$=_),_}),function(a,b,c){"use strict";function d(a){return function(){var b,c,d=arguments[0],e="["+(a?a+":":"")+d+"] ",f=arguments[1],g=arguments,h=function(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof a?"undefined":"string"!=typeof a?JSON.stringify(a):a};for(b=e+f.replace(/\{\d+\}/g,function(a){var b,c=+a.slice(1,-1);return c+2<g.length?(b=g[c+2],"function"==typeof b?b.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"==typeof b?"undefined":"string"!=typeof b?Q(b):b):a}),b=b+"\nhttp://errors.angularjs.org/1.2.27/"+(a?a+"/":"")+d,c=2;c<arguments.length;c++)b=b+(2==c?"?":"&")+"p"+(c-2)+"="+encodeURIComponent(h(arguments[c]));return new Error(b)}}function e(a){if(null==a||z(a))return!1;var b=a.length;return 1===a.nodeType&&b?!0:u(a)||Ed(a)||0===b||"number"==typeof b&&b>0&&b-1 in a}function f(a,b,c){var d;if(a)if(x(a))for(d in a)"prototype"==d||"length"==d||"name"==d||a.hasOwnProperty&&!a.hasOwnProperty(d)||b.call(c,a[d],d);else if(Ed(a)||e(a))for(d=0;d<a.length;d++)b.call(c,a[d],d);else if(a.forEach&&a.forEach!==f)a.forEach(b,c);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d);return a}function g(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function h(a,b,c){for(var d=g(a),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function i(a){return function(b,c){a(c,b)}}function j(){for(var a,b=Dd.length;b;){if(b--,a=Dd[b].charCodeAt(0),57==a)return Dd[b]="A",Dd.join("");if(90!=a)return Dd[b]=String.fromCharCode(a+1),Dd.join("");Dd[b]="0"}return Dd.unshift("0"),Dd.join("")}function k(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function l(a){var b=a.$$hashKey;return f(arguments,function(b){b!==a&&f(b,function(b,c){a[c]=b})}),k(a,b),a}function m(a){return parseInt(a,10)}function n(a,b){return l(new(l(function(){},{prototype:a})),b)}function o(){}function p(a){return a}function q(a){return function(){return a}}function r(a){return"undefined"==typeof a}function s(a){return"undefined"!=typeof a}function t(a){return null!=a&&"object"==typeof a}function u(a){return"string"==typeof a}function v(a){return"number"==typeof a}function w(a){return"[object Date]"===Ad.call(a)}function x(a){return"function"==typeof a}function y(a){return"[object RegExp]"===Ad.call(a)}function z(a){return a&&a.document&&a.location&&a.alert&&a.setInterval}function A(a){return a&&a.$evalAsync&&a.$watch}function B(a){return"[object File]"===Ad.call(a)}function C(a){return"[object Blob]"===Ad.call(a)}function D(a){return a&&x(a.then)}function E(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function F(a,b,c){var d=[];return f(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d}function G(a,b){return-1!=H(a,b)}function H(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(b===a[c])return c;return-1}function I(a,b){var c=H(a,b);return c>=0&&a.splice(c,1),b}function J(a,b,c,d){if(z(a)||A(a))throw Bd("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(b){if(a===b)throw Bd("cpi","Can't copy! Source and destination are identical.");if(c=c||[],d=d||[],t(a)){var e=H(c,a);if(-1!==e)return d[e];c.push(a),d.push(b)}var g;if(Ed(a)){b.length=0;for(var h=0;h<a.length;h++)g=J(a[h],null,c,d),t(a[h])&&(c.push(a[h]),d.push(g)),b.push(g)}else{var i=b.$$hashKey;Ed(b)?b.length=0:f(b,function(a,c){delete b[c]});for(var j in a)g=J(a[j],null,c,d),t(a[j])&&(c.push(a[j]),d.push(g)),b[j]=g;k(b,i)}}else b=a,a&&(Ed(a)?b=J(a,[],c,d):w(a)?b=new Date(a.getTime()):y(a)?(b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),b.lastIndex=a.lastIndex):t(a)&&(b=J(a,{},c,d)));return b}function K(a,b){if(Ed(a)){b=b||[];for(var c=0;c<a.length;c++)b[c]=a[c]}else if(t(a)){b=b||{};for(var d in a)!pd.call(a,d)||"$"===d.charAt(0)&&"$"===d.charAt(1)||(b[d]=a[d])}return b||a}function L(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d,e,f,g=typeof a,h=typeof b;if(g==h&&"object"==g){if(!Ed(a)){if(w(a))return w(b)?isNaN(a.getTime())&&isNaN(b.getTime())||a.getTime()===b.getTime():!1;if(y(a)&&y(b))return a.toString()==b.toString();if(A(a)||A(b)||z(a)||z(b)||Ed(b))return!1;f={};for(e in a)if("$"!==e.charAt(0)&&!x(a[e])){if(!L(a[e],b[e]))return!1;f[e]=!0}for(e in b)if(!f.hasOwnProperty(e)&&"$"!==e.charAt(0)&&b[e]!==c&&!x(b[e]))return!1;return!0}if(!Ed(b))return!1;if((d=a.length)==b.length){for(e=0;d>e;e++)if(!L(a[e],b[e]))return!1;return!0}}return!1}function M(a,b,c){return a.concat(yd.call(b,c))}function N(a,b){return yd.call(a,b||0)}function O(a,b){var c=arguments.length>2?N(arguments,2):[];return!x(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,c.concat(yd.call(arguments,0))):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function P(a,d){var e=d;return"string"==typeof a&&"$"===a.charAt(0)?e=c:z(d)?e="$WINDOW":d&&b===d?e="$DOCUMENT":A(d)&&(e="$SCOPE"),e}function Q(a,b){return"undefined"==typeof a?c:JSON.stringify(a,P,b?"  ":null)}function R(a){return u(a)?JSON.parse(a):a}function S(a){if("function"==typeof a)a=!0;else if(a&&0!==a.length){var b=od(""+a);a=!("f"==b||"0"==b||"false"==b||"no"==b||"n"==b||"[]"==b)}else a=!1;return a}function T(a){a=ud(a).clone();try{a.empty()}catch(b){}var c=3,d=ud("<div>").append(a).html();try{return a[0].nodeType===c?od(d):d.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+od(b)})}catch(b){return od(d)}}function U(a){try{return decodeURIComponent(a)}catch(b){}}function V(a){var b,c,d={};return f((a||"").split("&"),function(a){if(a&&(b=a.replace(/\+/g,"%20").split("="),c=U(b[0]),s(c))){var e=s(b[1])?U(b[1]):!0;pd.call(d,c)?Ed(d[c])?d[c].push(e):d[c]=[d[c],e]:d[c]=e}}),d}function W(a){var b=[];return f(a,function(a,c){Ed(a)?f(a,function(a){b.push(Y(c,!0)+(a===!0?"":"="+Y(a,!0)))}):b.push(Y(c,!0)+(a===!0?"":"="+Y(a,!0)))}),b.length?b.join("&"):""}function X(a){return Y(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Y(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function Z(a,c){function d(a){a&&h.push(a)}var e,g,h=[a],i=["ng:app","ng-app","x-ng-app","data-ng-app"],j=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;f(i,function(c){i[c]=!0,d(b.getElementById(c)),c=c.replace(":","\\:"),a.querySelectorAll&&(f(a.querySelectorAll("."+c),d),f(a.querySelectorAll("."+c+"\\:"),d),f(a.querySelectorAll("["+c+"]"),d))}),f(h,function(a){if(!e){var b=" "+a.className+" ",c=j.exec(b);c?(e=a,g=(c[2]||"").replace(/\s+/g,",")):f(a.attributes,function(b){!e&&i[b.name]&&(e=a,g=b.value)})}}),e&&c(e,g?[g]:[])}function $(c,d){var e=function(){if(c=ud(c),c.injector()){var a=c[0]===b?"document":T(c);throw Bd("btstrpd","App Already Bootstrapped with this Element '{0}'",a.replace(/</,"&lt;").replace(/>/,"&gt;"))}d=d||[],d.unshift(["$provide",function(a){a.value("$rootElement",c)}]),d.unshift("ng");var e=Hb(d);return e.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),e},g=/^NG_DEFER_BOOTSTRAP!/;return a&&!g.test(a.name)?e():(a.name=a.name.replace(g,""),void(Cd.resumeBootstrap=function(a){f(a,function(a){d.push(a)}),e()}))}function _(a,b){return b=b||"_",a.replace(Hd,function(a,c){return(c?b:"")+a.toLowerCase()})}function ab(){vd=a.jQuery,vd&&vd.fn.on?(ud=vd,l(vd.fn,{scope:Vd.scope,isolateScope:Vd.isolateScope,controller:Vd.controller,injector:Vd.injector,inheritedData:Vd.inheritedData}),kb("remove",!0,!0,!1),kb("empty",!1,!1,!1),kb("html",!1,!1,!0)):ud=ob,Cd.element=ud}function bb(a,b,c){if(!a)throw Bd("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function cb(a,b,c){return c&&Ed(a)&&(a=a[a.length-1]),bb(x(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function db(a,b){if("hasOwnProperty"===a)throw Bd("badname","hasOwnProperty is not a valid {0} name",b)}function eb(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;g>h;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&x(a)?O(f,a):a}function fb(a){var b=a[0],c=a[a.length-1];if(b===c)return ud(b);var d=b,e=[d];do{if(d=d.nextSibling,!d)break;e.push(d)}while(d!==c);return ud(e)}function gb(a){function b(a,b,c){return a[b]||(a[b]=c())}var c=d("$injector"),e=d("ng"),f=b(a,"angular",Object);return f.$$minErr=f.$$minErr||d,b(f,"module",function(){var a={};return function(d,f,g){var h=function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)};return h(d,"module"),f&&a.hasOwnProperty(d)&&(a[d]=null),b(a,d,function(){function a(a,c,d){return function(){return b[d||"push"]([a,c,arguments]),i}}if(!f)throw c("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",d);var b=[],e=[],h=a("$injector","invoke"),i={_invokeQueue:b,_runBlocks:e,requires:f,name:d,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:h,run:function(a){return e.push(a),this}};return g&&h(g),i})}})}function hb(b){l(b,{bootstrap:$,copy:J,extend:l,equals:L,element:ud,forEach:f,injector:Hb,noop:o,bind:O,toJson:Q,fromJson:R,identity:p,isUndefined:r,isDefined:s,isString:u,isFunction:x,isObject:t,isNumber:v,isElement:E,isArray:Ed,version:Id,isDate:w,lowercase:od,uppercase:qd,callbacks:{counter:0},$$minErr:d,$$csp:Gd}),wd=gb(a);try{wd("ngLocale")}catch(c){wd("ngLocale",[]).provider("$locale",cc)}wd("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Ec}),a.provider("$compile",Ob).directive({a:Fe,input:Qe,textarea:Qe,form:Je,script:zf,select:Cf,style:Ef,option:Df,ngBind:af,ngBindHtml:cf,ngBindTemplate:bf,ngClass:df,ngClassEven:ff,ngClassOdd:ef,ngCloak:gf,ngController:hf,ngForm:Ke,ngHide:tf,ngIf:lf,ngInclude:mf,ngInit:of,ngNonBindable:pf,ngPluralize:qf,ngRepeat:rf,ngShow:sf,ngStyle:uf,ngSwitch:vf,ngSwitchWhen:wf,ngSwitchDefault:xf,ngOptions:Bf,ngTransclude:yf,ngModel:We,ngList:Ze,ngChange:Xe,required:Ye,ngRequired:Ye,ngValue:_e}).directive({ngInclude:nf}).directive(Ge).directive(jf),a.provider({$anchorScroll:Ib,$animate:ce,$browser:Lb,$cacheFactory:Mb,$controller:Rb,$document:Sb,$exceptionHandler:Tb,$filter:Pc,$interpolate:ac,$interval:bc,$http:Yb,$httpBackend:$b,$location:pc,$log:qc,$parse:zc,$rootScope:Dc,$q:Ac,$sce:Jc,$sceDelegate:Ic,$sniffer:Kc,$templateCache:Nb,$timeout:Lc,$window:Oc,$$rAF:Cc,$$asyncCallback:Jb})}])}function ib(){return++Kd}function jb(a){return a.replace(Nd,function(a,b,c,d){return d?c.toUpperCase():c}).replace(Od,"Moz$1")}function kb(a,b,c,d){function e(a){var e,g,h,i,j,k,l,m=c&&a?[this.filter(a)]:[this],n=b;if(!d||null!=a)for(;m.length;)for(e=m.shift(),g=0,h=e.length;h>g;g++)for(i=ud(e[g]),n?i.triggerHandler("$destroy"):n=!n,j=0,k=(l=i.children()).length;k>j;j++)m.push(vd(l[j]));return f.apply(this,arguments)}var f=vd.fn[a];f=f.$original||f,e.$original=f,vd.fn[a]=e}function lb(a){return!Rd.test(a)}function mb(a,b){var c,d,e,f,g,h,i=b.createDocumentFragment(),j=[];if(lb(a))j.push(b.createTextNode(a));else{for(c=i.appendChild(b.createElement("div")),d=(Sd.exec(a)||["",""])[1].toLowerCase(),e=Ud[d]||Ud._default,c.innerHTML="<div>&#160;</div>"+e[1]+a.replace(Td,"<$1></$2>")+e[2],c.removeChild(c.firstChild),f=e[0];f--;)c=c.lastChild;for(g=0,h=c.childNodes.length;h>g;++g)j.push(c.childNodes[g]);c=i.firstChild,c.textContent=""}return i.textContent="",i.innerHTML="",j}function nb(a,c){c=c||b;var d;return(d=Qd.exec(a))?[c.createElement(d[1])]:mb(a,c)}function ob(a){if(a instanceof ob)return a;if(u(a)&&(a=Fd(a)),!(this instanceof ob)){if(u(a)&&"<"!=a.charAt(0))throw Pd("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ob(a)}if(u(a)){yb(this,nb(a));var c=ud(b.createDocumentFragment());c.append(this)}else yb(this,a)}function pb(a){return a.cloneNode(!0)}function qb(a){sb(a);for(var b=0,c=a.childNodes||[];b<c.length;b++)qb(c[b])}function rb(a,b,c,d){if(s(d))throw Pd("offargs","jqLite#off() does not support the `selector` argument");var e=tb(a,"events"),g=tb(a,"handle");g&&(r(b)?f(e,function(b,c){Md(a,c,b),delete e[c]}):f(b.split(" "),function(b){r(c)?(Md(a,b,e[b]),delete e[b]):I(e[b]||[],c)}))}function sb(a,b){var d=a.ng339,e=Jd[d];if(e){if(b)return void delete Jd[d].data[b];e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),rb(a)),delete Jd[d],a.ng339=c}}function tb(a,b,c){var d=a.ng339,e=Jd[d||-1];return s(c)?(e||(a.ng339=d=ib(),e=Jd[d]={}),void(e[b]=c)):e&&e[b]}function ub(a,b,c){var d=tb(a,"data"),e=s(c),f=!e&&s(b),g=f&&!t(b);if(d||g||tb(a,"data",d={}),e)d[b]=c;else{if(!f)return d;if(g)return d&&d[b];l(d,b)}}function vb(a,b){return a.getAttribute?(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1:!1}function wb(a,b){b&&a.setAttribute&&f(b.split(" "),function(b){a.setAttribute("class",Fd((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Fd(b)+" "," ")))})}function xb(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");f(b.split(" "),function(a){a=Fd(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",Fd(c))}}function yb(a,b){if(b){b=b.nodeName||!s(b.length)||z(b)?[b]:b;for(var c=0;c<b.length;c++)a.push(b[c])}}function zb(a,b){return Ab(a,"$"+(b||"ngController")+"Controller")}function Ab(a,b,d){9==a.nodeType&&(a=a.documentElement);for(var e=Ed(b)?b:[b];a;){for(var f=0,g=e.length;g>f;f++)if((d=ud.data(a,e[f]))!==c)return d;a=a.parentNode||11===a.nodeType&&a.host}}function Bb(a){for(var b=0,c=a.childNodes;b<c.length;b++)qb(c[b]);for(;a.firstChild;)a.removeChild(a.firstChild)}function Cb(a,b){var c=Wd[b.toLowerCase()];return c&&Xd[a.nodeName]&&c}function Db(a,c){var d=function(d,e){if(d.preventDefault||(d.preventDefault=function(){d.returnValue=!1}),d.stopPropagation||(d.stopPropagation=function(){d.cancelBubble=!0}),d.target||(d.target=d.srcElement||b),r(d.defaultPrevented)){var g=d.preventDefault;d.preventDefault=function(){d.defaultPrevented=!0,g.call(d)},d.defaultPrevented=!1}d.isDefaultPrevented=function(){return d.defaultPrevented||d.returnValue===!1};var h=K(c[e||d.type]||[]);f(h,function(b){b.call(a,d)}),8>=td?(d.preventDefault=null,d.stopPropagation=null,d.isDefaultPrevented=null):(delete d.preventDefault,delete d.stopPropagation,delete d.isDefaultPrevented)};return d.elem=a,d}function Eb(a,b){var d,e=typeof a;return"function"==e||"object"==e&&null!==a?"function"==typeof(d=a.$$hashKey)?d=a.$$hashKey():d===c&&(d=a.$$hashKey=(b||j)()):d=a,e+":"+d}function Fb(a,b){if(b){var c=0;this.nextUid=function(){return++c}}f(a,this.put,this)}function Gb(a){var b,c,d,e;return"function"==typeof a?(b=a.$inject)||(b=[],a.length&&(c=a.toString().replace(_d,""),d=c.match(Yd),f(d[1].split(Zd),function(a){a.replace($d,function(a,c,d){b.push(d)})})),a.$inject=b):Ed(a)?(e=a.length-1,cb(a[e],"fn"),b=a.slice(0,e)):cb(a,"fn",!0),b}function Hb(a){function b(a){return function(b,c){return t(b)?void f(b,i(a)):a(b,c)}}function c(a,b){if(db(a,"service"),(x(b)||Ed(b))&&(b=v.instantiate(b)),!b.$get)throw ae("pget","Provider '{0}' must define $get factory method.",a);return s[a+n]=b}function d(a,b){return c(a,{$get:b})}function e(a,b){return d(a,["$injector",function(a){return a.instantiate(b)}])}function g(a,b){return d(a,q(b))}function h(a,b){db(a,"constant"),s[a]=b,w[a]=b}function j(a,b){var c=v.get(a+n),d=c.$get;c.$get=function(){var a=y.invoke(d,c);return y.invoke(b,null,{$delegate:a})}}function k(a){var b,c,d,e,g=[];return f(a,function(a){if(!r.get(a)){r.put(a,!0);try{if(u(a))for(b=wd(a),g=g.concat(k(b.requires)).concat(b._runBlocks),c=b._invokeQueue,d=0,e=c.length;e>d;d++){var f=c[d],h=v.get(f[0]);h[f[1]].apply(h,f[2])}else x(a)?g.push(v.invoke(a)):Ed(a)?g.push(v.invoke(a)):cb(a,"module")}catch(i){throw Ed(a)&&(a=a[a.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),ae("modulerr","Failed to instantiate module {0} due to:\n{1}",a,i.stack||i.message||i)}}}),g}function l(a,b){function c(c){if(a.hasOwnProperty(c)){if(a[c]===m)throw ae("cdep","Circular dependency found: {0}",c+" <- "+p.join(" <- "));return a[c]}try{return p.unshift(c),a[c]=m,a[c]=b(c)}catch(d){throw a[c]===m&&delete a[c],d}finally{p.shift()}}function d(a,b,d){var e,f,g,h=[],i=Gb(a);for(f=0,e=i.length;e>f;f++){if(g=i[f],"string"!=typeof g)throw ae("itkn","Incorrect injection token! Expected service name as string, got {0}",g);h.push(d&&d.hasOwnProperty(g)?d[g]:c(g))}return Ed(a)&&(a=a[e]),a.apply(b,h)}function e(a,b){var c,e,f=function(){};return f.prototype=(Ed(a)?a[a.length-1]:a).prototype,c=new f,e=d(a,c,b),t(e)||x(e)?e:c}return{invoke:d,instantiate:e,get:c,annotate:Gb,has:function(b){return s.hasOwnProperty(b+n)||a.hasOwnProperty(b)}}}var m={},n="Provider",p=[],r=new Fb([],!0),s={$provide:{provider:b(c),factory:b(d),service:b(e),value:b(g),constant:b(h),decorator:j}},v=s.$injector=l(s,function(){throw ae("unpr","Unknown provider: {0}",p.join(" <- "))}),w={},y=w.$injector=l(w,function(a){var b=v.get(a+n);return y.invoke(b.$get,b)});return f(k(a),function(a){y.invoke(a||o)}),y}function Ib(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return f(a,function(a){b||"a"!==od(a.nodeName)||(b=a)}),b}function g(){var a,d=c.hash();d?(a=h.getElementById(d))?a.scrollIntoView():(a=e(h.getElementsByName(d)))?a.scrollIntoView():"top"===d&&b.scrollTo(0,0):b.scrollTo(0,0)}var h=b.document;return a&&d.$watch(function(){return c.hash()},function(){d.$evalAsync(g)}),g}]}function Jb(){this.$get=["$$rAF","$timeout",function(a,b){return a.supported?function(b){return a(b)}:function(a){return b(a,0,!1)}}]}function Kb(a,b,d,e){function g(a){try{a.apply(null,N(arguments,1))}finally{if(s--,0===s)for(;t.length;)try{t.pop()()}catch(b){d.error(b)}}}function h(a,b){!function c(){f(w,function(a){a()}),v=b(c,a)}()}function i(){x!=j.url()&&(x=j.url(),f(A,function(a){a(j.url())}))}var j=this,k=b[0],l=a.location,m=a.history,n=a.setTimeout,p=a.clearTimeout,q={};j.isMock=!1;var s=0,t=[];j.$$completeOutstandingRequest=g,j.$$incOutstandingRequestCount=function(){s++},j.notifyWhenNoOutstandingRequests=function(a){f(w,function(a){a()}),0===s?a():t.push(a)};var v,w=[];j.addPollFn=function(a){return r(v)&&h(100,n),w.push(a),a};var x=l.href,y=b.find("base"),z=null;j.url=function(b,c){if(l!==a.location&&(l=a.location),m!==a.history&&(m=a.history),b){if(x==b)return;
var d=x&&hc(x)===hc(b);return x=b,!d&&e.history?c?m.replaceState(null,"",b):(m.pushState(null,"",b),y.attr("href",y.attr("href"))):(d||(z=b),c?l.replace(b):l.href=b),j}return z||l.href.replace(/%27/g,"'")};var A=[],B=!1;j.onUrlChange=function(b){return B||(e.history&&ud(a).on("popstate",i),e.hashchange?ud(a).on("hashchange",i):j.addPollFn(i),B=!0),A.push(b),b},j.$$checkUrlChange=i,j.baseHref=function(){var a=y.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var C={},D="",E=j.baseHref();j.cookies=function(a,b){var e,f,g,h,i;if(!a){if(k.cookie!==D)for(D=k.cookie,f=D.split("; "),C={},h=0;h<f.length;h++)g=f[h],i=g.indexOf("="),i>0&&(a=unescape(g.substring(0,i)),C[a]===c&&(C[a]=unescape(g.substring(i+1))));return C}b===c?k.cookie=escape(a)+"=;path="+E+";expires=Thu, 01 Jan 1970 00:00:00 GMT":u(b)&&(e=(k.cookie=escape(a)+"="+escape(b)+";path="+E).length+1,e>4096&&d.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+e+" > 4096 bytes)!"))},j.defer=function(a,b){var c;return s++,c=n(function(){delete q[c],g(a)},b||0),q[c]=!0,c},j.defer.cancel=function(a){return q[a]?(delete q[a],p(a),g(o),!0):!1}}function Lb(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new Kb(a,d,b,c)}]}function Mb(){this.$get=function(){function a(a,c){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw d("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=l({},c,{id:a}),i={},j=c&&c.capacity||Number.MAX_VALUE,k={},m=null,n=null;return b[a]={put:function(a,b){if(j<Number.MAX_VALUE){var c=k[a]||(k[a]={key:a});e(c)}if(!r(b))return a in i||g++,i[a]=b,g>j&&this.remove(n.key),b},get:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete k[a]}delete i[a],g--},removeAll:function(){i={},g=0,k={},m=n=null},destroy:function(){i=null,h=null,k=null,delete b[a]},info:function(){return l({},h,{size:g})}}}var b={};return a.info=function(){var a={};return f(b,function(b,c){a[c]=b.info()}),a},a.get=function(a){return b[a]},a}}function Nb(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Ob(a,d){var e={},g="Directive",h=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,j=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,k=/^(on[a-z]+|formaction)$/;this.directive=function m(b,c){return db(b,"directive"),u(b)?(bb(c,"directiveFactory"),e.hasOwnProperty(b)||(e[b]=[],a.factory(b+g,["$injector","$exceptionHandler",function(a,c){var d=[];return f(e[b],function(e,f){try{var g=a.invoke(e);x(g)?g={compile:q(g)}:!g.compile&&g.link&&(g.compile=q(g.link)),g.priority=g.priority||0,g.index=f,g.name=g.name||b,g.require=g.require||g.controller&&g.name,g.restrict=g.restrict||"A",d.push(g)}catch(h){c(h)}}),d}])),e[b].push(c)):f(b,i(m)),this},this.aHrefSanitizationWhitelist=function(a){return s(a)?(d.aHrefSanitizationWhitelist(a),this):d.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(d.imgSrcSanitizationWhitelist(a),this):d.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,d,i,m,o,q,r,s,v,w,y,z){function A(a,b,c,d,e){a instanceof ud||(a=ud(a)),f(a,function(b,c){3==b.nodeType&&b.nodeValue.match(/\S+/)&&(a[c]=b=ud(b).wrap("<span></span>").parent()[0])});var g=C(a,b,a,c,d,e);return B(a,"ng-scope"),function(b,c,d,e){bb(b,"scope");var h=c?Vd.clone.call(a):a;f(d,function(a,b){h.data("$"+b+"Controller",a)});for(var i=0,j=h.length;j>i;i++){var k=h[i],l=k.nodeType;(1===l||9===l)&&h.eq(i).data("$scope",b)}return c&&c(h,b),g&&g(b,h,h,e),h}}function B(a,b){try{a.addClass(b)}catch(c){}}function C(a,b,d,e,f,g){function h(a,d,e,f){var g,h,i,j,k,l,m,n,p=d.length,q=new Array(p);for(k=0;p>k;k++)q[k]=d[k];for(k=0,m=0,l=o.length;l>k;m++)i=q[m],g=o[k++],h=o[k++],g?(g.scope?(j=a.$new(),ud.data(i,"$scope",j)):j=a,n=g.transcludeOnThisElement?D(a,g.transclude,f):!g.templateOnThisElement&&f?f:!f&&b?D(a,b):null,g(h,j,i,e,n)):h&&h(a,i.childNodes,c,f)}for(var i,j,k,l,m,n,o=[],p=0;p<a.length;p++)i=new X,j=E(a[p],[],i,0===p?e:c,f),k=j.length?H(j,a[p],i,b,d,null,[],[],g):null,k&&k.scope&&B(i.$$element,"ng-scope"),m=k&&k.terminal||!(l=a[p].childNodes)||!l.length?null:C(l,k?(k.transcludeOnThisElement||!k.templateOnThisElement)&&k.transclude:b),o.push(k,m),n=n||k||m,g=null;return n?h:null}function D(a,b,c){var d=function(d,e,f){var g=!1;d||(d=a.$new(),d.$$transcluded=!0,g=!0);var h=b(d,e,f,c);return g&&h.on("$destroy",function(){d.$destroy()}),h};return d}function E(a,b,c,d,e){var f,g,i=a.nodeType,k=c.$attr;switch(i){case 1:J(b,Pb(xd(a).toLowerCase()),"E",d,e);for(var l,m,n,o,p,q,r=a.attributes,s=0,t=r&&r.length;t>s;s++){var v=!1,w=!1;if(l=r[s],!td||td>=8||l.specified){m=l.name,p=Fd(l.value),o=Pb(m),(q=ab.test(o))&&(m=_(o.substr(6),"-"));var x=o.replace(/(Start|End)$/,"");o===x+"Start"&&(v=m,w=m.substr(0,m.length-5)+"end",m=m.substr(0,m.length-6)),n=Pb(m.toLowerCase()),k[n]=m,(q||!c.hasOwnProperty(n))&&(c[n]=p,Cb(a,n)&&(c[n]=!0)),U(a,b,p,n),J(b,n,"A",d,e,v,w)}}if(g=a.className,u(g)&&""!==g)for(;f=j.exec(g);)n=Pb(f[2]),J(b,n,"C",d,e)&&(c[n]=Fd(f[3])),g=g.substr(f.index+f[0].length);break;case 3:R(b,a.nodeValue);break;case 8:try{f=h.exec(a.nodeValue),f&&(n=Pb(f[1]),J(b,n,"M",d,e)&&(c[n]=Fd(f[2])))}catch(y){}}return b.sort(P),b}function F(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw de("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return ud(d)}function G(a,b,c){return function(d,e,f,g,h){return e=F(e[0],b,c),a(d,e,f,g,h)}}function H(a,e,g,h,j,k,l,m,n){function o(a,b,c,d){a&&(c&&(a=G(a,c,d)),a.require=w.require,a.directiveName=y,(P===w||w.$$isolateScope)&&(a=W(a,{isolateScope:!0})),l.push(a)),b&&(c&&(b=G(b,c,d)),b.require=w.require,b.directiveName=y,(P===w||w.$$isolateScope)&&(b=W(b,{isolateScope:!0})),m.push(b))}function p(a,b,c,d){var e,g="data",h=!1;if(u(b)){for(;"^"==(e=b.charAt(0))||"?"==e;)b=b.substr(1),"^"==e&&(g="inheritedData"),h=h||"?"==e;if(e=null,d&&"data"===g&&(e=d[b]),e=e||c[g]("$"+b+"Controller"),!e&&!h)throw de("ctreq","Controller '{0}', required by directive '{1}', can't be found!",b,a);return e}return Ed(b)&&(e=[],f(b,function(b){e.push(p(a,b,c,d))})),e}function s(a,b,h,j,k){function n(a,b){var d;return arguments.length<2&&(b=a,a=c),Z&&(d=z),k(a,b,d)}var o,s,t,u,v,w,x,y,z={};if(o=e===h?g:K(g,new X(ud(h),g.$attr)),s=o.$$element,P){var A=/^\s*([@=&])(\??)\s*(\w*)\s*$/;x=b.$new(!0),!R||R!==P&&R!==P.$$originalDirective?s.data("$isolateScopeNoTemplate",x):s.data("$isolateScope",x),B(s,"ng-isolate-scope"),f(P.scope,function(a,c){var e,f,g,h,i=a.match(A)||[],j=i[3]||c,k="?"==i[2],l=i[1];switch(x.$$isolateBindings[c]=l+j,l){case"@":o.$observe(j,function(a){x[c]=a}),o.$$observers[j].$$scope=b,o[j]&&(x[c]=d(o[j])(b));break;case"=":if(k&&!o[j])return;f=q(o[j]),h=f.literal?L:function(a,b){return a===b||a!==a&&b!==b},g=f.assign||function(){throw e=x[c]=f(b),de("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",o[j],P.name)},e=x[c]=f(b),x.$watch(function(){var a=f(b);return h(a,x[c])||(h(a,e)?g(b,a=x[c]):x[c]=a),e=a},null,f.literal);break;case"&":f=q(o[j]),x[c]=function(a){return f(b,a)};break;default:throw de("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",P.name,c,a)}})}for(y=k&&n,J&&f(J,function(a){var c,d={$scope:a===P||a.$$isolateScope?x:b,$element:s,$attrs:o,$transclude:y};w=a.controller,"@"==w&&(w=o[a.name]),c=r(w,d),z[a.name]=c,Z||s.data("$"+a.name+"Controller",c),a.controllerAs&&(d.$scope[a.controllerAs]=c)}),t=0,u=l.length;u>t;t++)try{v=l[t],v(v.isolateScope?x:b,s,o,v.require&&p(v.directiveName,v.require,s,z),y)}catch(C){i(C,T(s))}var D=b;for(P&&(P.template||null===P.templateUrl)&&(D=x),a&&a(D,h.childNodes,c,k),t=m.length-1;t>=0;t--)try{v=m[t],v(v.isolateScope?x:b,s,o,v.require&&p(v.directiveName,v.require,s,z),y)}catch(C){i(C,T(s))}}n=n||{};for(var v,w,y,z,C,D,H=-Number.MAX_VALUE,J=n.controllerDirectives,P=n.newIsolateScopeDirective,R=n.templateDirective,S=n.nonTlbTranscludeDirective,U=!1,Y=!1,Z=n.hasElementTranscludeDirective,_=g.$$element=ud(e),ab=k,bb=h,cb=0,db=a.length;db>cb;cb++){w=a[cb];var eb=w.$$start,fb=w.$$end;if(eb&&(_=F(e,eb,fb)),z=c,H>w.priority)break;if((D=w.scope)&&(v=v||w,w.templateUrl||(Q("new/isolated scope",P,w,_),t(D)&&(P=w))),y=w.name,!w.templateUrl&&w.controller&&(D=w.controller,J=J||{},Q("'"+y+"' controller",J[y],w,_),J[y]=w),(D=w.transclude)&&(U=!0,w.$$tlb||(Q("transclusion",S,w,_),S=w),"element"==D?(Z=!0,H=w.priority,z=_,_=g.$$element=ud(b.createComment(" "+y+": "+g[y]+" ")),e=_[0],V(j,N(z),e),bb=A(z,h,H,ab&&ab.name,{nonTlbTranscludeDirective:S})):(z=ud(pb(e)).contents(),_.empty(),bb=A(z,h))),w.template)if(Y=!0,Q("template",R,w,_),R=w,D=x(w.template)?w.template(_,g):w.template,D=$(D),w.replace){if(ab=w,z=lb(D)?[]:ud(Fd(D)),e=z[0],1!=z.length||1!==e.nodeType)throw de("tplrt","Template for directive '{0}' must have exactly one root element. {1}",y,"");V(j,_,e);var gb={$attr:{}},hb=E(e,[],gb),ib=a.splice(cb+1,a.length-(cb+1));P&&I(hb),a=a.concat(hb).concat(ib),M(g,gb),db=a.length}else _.html(D);if(w.templateUrl)Y=!0,Q("template",R,w,_),R=w,w.replace&&(ab=w),s=O(a.splice(cb,a.length-cb),_,g,j,U&&bb,l,m,{controllerDirectives:J,newIsolateScopeDirective:P,templateDirective:R,nonTlbTranscludeDirective:S}),db=a.length;else if(w.compile)try{C=w.compile(_,g,bb),x(C)?o(null,C,eb,fb):C&&o(C.pre,C.post,eb,fb)}catch(jb){i(jb,T(_))}w.terminal&&(s.terminal=!0,H=Math.max(H,w.priority))}return s.scope=v&&v.scope===!0,s.transcludeOnThisElement=U,s.templateOnThisElement=Y,s.transclude=bb,n.hasElementTranscludeDirective=Z,s}function I(a){for(var b=0,c=a.length;c>b;b++)a[b]=n(a[b],{$$isolateScope:!0})}function J(b,d,f,h,j,k,l){if(d===j)return null;var m=null;if(e.hasOwnProperty(d))for(var o,p=a.get(d+g),q=0,r=p.length;r>q;q++)try{o=p[q],(h===c||h>o.priority)&&-1!=o.restrict.indexOf(f)&&(k&&(o=n(o,{$$start:k,$$end:l})),b.push(o),m=o)}catch(s){i(s)}return m}function M(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;f(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),f(b,function(b,f){"class"==f?(B(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function O(a,b,c,d,e,g,h,i){var j,k,n=[],p=b[0],q=a.shift(),r=l({},q,{templateUrl:null,transclude:null,replace:null,$$originalDirective:q}),s=x(q.templateUrl)?q.templateUrl(b,c):q.templateUrl;return b.empty(),m.get(w.getTrustedResourceUrl(s),{cache:o}).success(function(l){var m,o,u,v;if(l=$(l),q.replace){if(u=lb(l)?[]:ud(Fd(l)),m=u[0],1!=u.length||1!==m.nodeType)throw de("tplrt","Template for directive '{0}' must have exactly one root element. {1}",q.name,s);o={$attr:{}},V(d,b,m);var w=E(m,[],o);t(q.scope)&&I(w),a=w.concat(a),M(c,o)}else m=p,b.html(l);for(a.unshift(r),j=H(a,m,c,e,b,q,g,h,i),f(d,function(a,c){a==m&&(d[c]=b[0])}),k=C(b[0].childNodes,e);n.length;){var x=n.shift(),y=n.shift(),z=n.shift(),A=n.shift(),F=b[0];if(y!==p){var G=y.className;i.hasElementTranscludeDirective&&q.replace||(F=pb(m)),V(z,ud(y),F),B(ud(F),G)}v=j.transcludeOnThisElement?D(x,j.transclude,A):A,j(k,x,F,d,v)}n=null}).error(function(a,b,c,d){throw de("tpload","Failed to load template: {0}",d.url)}),function(a,b,c,d,e){var f=e;n?(n.push(b),n.push(c),n.push(d),n.push(f)):(j.transcludeOnThisElement&&(f=D(b,j.transclude,e)),j(k,b,c,d,f))}}function P(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Q(a,b,c,d){if(b)throw de("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",b.name,c.name,a,T(d))}function R(a,b){var c=d(b,!0);c&&a.push({priority:0,compile:function(a){var b=a.parent(),d=b.length;return d&&B(a.parent(),"ng-binding"),function(a,b){var e=b.parent(),f=e.data("$binding")||[];f.push(c),e.data("$binding",f),d||B(e,"ng-binding"),a.$watch(c,function(a){b[0].nodeValue=a})}}})}function S(a,b){if("srcdoc"==b)return w.HTML;var c=xd(a);return"xlinkHref"==b||"FORM"==c&&"action"==b||"IMG"!=c&&("src"==b||"ngSrc"==b)?w.RESOURCE_URL:void 0}function U(a,b,c,e){var f=d(c,!0);if(f){if("multiple"===e&&"SELECT"===xd(a))throw de("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",T(a));b.push({priority:100,compile:function(){return{pre:function(b,c,g){var h=g.$$observers||(g.$$observers={});if(k.test(e))throw de("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");f=d(g[e],!0,S(a,e)),f&&(g[e]=f(b),(h[e]||(h[e]=[])).$$inter=!0,(g.$$observers&&g.$$observers[e].$$scope||b).$watch(f,function(a,b){"class"===e&&a!=b?g.$updateClass(a,b):g.$set(e,a)}))}}}})}}function V(a,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(a)for(e=0,f=a.length;f>e;e++)if(a[e]==g){a[e++]=d;for(var j=e,k=j+h-1,l=a.length;l>j;j++,k++)l>k?a[j]=a[k]:delete a[j];a.length-=h-1;break}i&&i.replaceChild(d,g);var m=b.createDocumentFragment();m.appendChild(g),d[ud.expando]=g[ud.expando];for(var n=1,o=c.length;o>n;n++){var p=c[n];ud(p).remove(),m.appendChild(p),delete c[n]}c[0]=d,c.length=1}function W(a,b){return l(function(){return a.apply(null,arguments)},a,b)}var X=function(a,b){this.$$element=a,this.$attr=b||{}};X.prototype={$normalize:Pb,$addClass:function(a){a&&a.length>0&&y.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&y.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Qb(a,b),d=Qb(b,a);0===c.length?y.removeClass(this.$$element,d):0===d.length?y.addClass(this.$$element,c):y.setClass(this.$$element,c,d)},$set:function(a,b,d,e){var g,h=Cb(this.$$element[0],a);h&&(this.$$element.prop(a,b),e=h),this[a]=b,e?this.$attr[a]=e:(e=this.$attr[a],e||(this.$attr[a]=e=_(a,"-"))),g=xd(this.$$element),("A"===g&&"href"===a||"IMG"===g&&"src"===a)&&(this[a]=b=z(b,"src"===a)),d!==!1&&(null===b||b===c?this.$$element.removeAttr(e):this.$$element.attr(e,b));var j=this.$$observers;j&&f(j[a],function(a){try{a(b)}catch(c){i(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers={}),e=d[a]||(d[a]=[]);return e.push(b),s.$evalAsync(function(){e.$$inter||b(c[a])}),b}};var Y=d.startSymbol(),Z=d.endSymbol(),$="{{"==Y||"}}"==Z?p:function(a){return a.replace(/\{\{/g,Y).replace(/}}/g,Z)},ab=/^ngAttr[A-Z]/;return A}]}function Pb(a){return jb(a.replace(ee,""))}function Qb(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function Rb(){var a={},b=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(b,c){db(b,"controller"),t(b)?l(a,b):a[b]=c},this.$get=["$injector","$window",function(c,e){return function(f,g){var h,i,j,k;if(u(f)&&(i=f.match(b),j=i[1],k=i[3],f=a.hasOwnProperty(j)?a[j]:eb(g.$scope,j,!0)||eb(e,j,!0),cb(f,j,!0)),h=c.instantiate(f,g),k){if(!g||"object"!=typeof g.$scope)throw d("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",j||f.name,k);g.$scope[k]=h}return h}}]}function Sb(){this.$get=["$window",function(a){return ud(a.document)}]}function Tb(){this.$get=["$log",function(a){return function(){a.error.apply(a,arguments)}}]}function Ub(a){var b,c,d,e={};return a?(f(a.split("\n"),function(a){d=a.indexOf(":"),b=od(Fd(a.substr(0,d))),c=Fd(a.substr(d+1)),b&&(e[b]=e[b]?e[b]+", "+c:c)}),e):e}function Vb(a){var b=t(a)?a:c;return function(c){return b||(b=Ub(a)),c?b[od(c)]||null:b}}function Wb(a,b,c){return x(c)?c(a,b):(f(c,function(c){a=c(a,b)}),a)}function Xb(a){return a>=200&&300>a}function Yb(){var a=/^\s*(\[|\{[^\{])/,b=/[\}\]]\s*$/,d=/^\)\]\}',?\n/,e={"Content-Type":"application/json;charset=utf-8"},g=this.defaults={transformResponse:[function(c){return u(c)&&(c=c.replace(d,""),a.test(c)&&b.test(c)&&(c=R(c))),c}],transformRequest:[function(a){return!t(a)||B(a)||C(a)?a:Q(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:K(e),put:K(e),patch:K(e)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},i=this.interceptors=[],j=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,b,d,e,k,m){function n(a){function b(a){var b=l({},a,{data:Wb(a.data,a.headers,e.transformResponse)});return Xb(a.status)?b:k.reject(b)}function d(a){function b(a){var b;f(a,function(c,d){x(c)&&(b=c(),null!=b?a[d]=b:delete a[d])})}var c,d,e,h=g.headers,i=l({},a.headers);h=l({},h.common,h[od(a.method)]);a:for(c in h){d=od(c);for(e in i)if(od(e)===d)continue a;i[c]=h[c]}return b(i),i}var e={method:"get",transformRequest:g.transformRequest,transformResponse:g.transformResponse},h=d(a);l(e,a),e.headers=h,e.method=qd(e.method);var i=function(a){h=a.headers;var c=Wb(a.data,Vb(h),a.transformRequest);return r(c)&&f(h,function(a,b){"content-type"===od(b)&&delete h[b]}),r(a.withCredentials)&&!r(g.withCredentials)&&(a.withCredentials=g.withCredentials),q(a,c,h).then(b,b)},j=[i,c],m=k.when(e);for(f(z,function(a){(a.request||a.requestError)&&j.unshift(a.request,a.requestError),(a.response||a.responseError)&&j.push(a.response,a.responseError)});j.length;){var n=j.shift(),o=j.shift();m=m.then(n,o)}return m.success=function(a){return m.then(function(b){a(b.data,b.status,b.headers,e)}),m},m.error=function(a){return m.then(null,function(b){a(b.data,b.status,b.headers,e)}),m},m}function o(){f(arguments,function(a){n[a]=function(b,c){return n(l(c||{},{method:a,url:b}))}})}function p(){f(arguments,function(a){n[a]=function(b,c,d){return n(l(d||{},{method:a,url:b,data:c}))}})}function q(d,f,h){function i(a,b,c,d){m&&(Xb(a)?m.put(u,[a,b,Ub(c),d]):m.remove(u)),j(b,a,c,d),e.$$phase||e.$apply()}function j(a,b,c,e){b=Math.max(b,0),(Xb(b)?p.resolve:p.reject)({data:a,status:b,headers:Vb(c),config:d,statusText:e})}function l(){var a=H(n.pendingRequests,d);-1!==a&&n.pendingRequests.splice(a,1)}var m,o,p=k.defer(),q=p.promise,u=v(d.url,d.params);if(n.pendingRequests.push(d),q.then(l,l),!d.cache&&!g.cache||d.cache===!1||"GET"!==d.method&&"JSONP"!==d.method||(m=t(d.cache)?d.cache:t(g.cache)?g.cache:y),m)if(o=m.get(u),s(o)){if(D(o))return o.then(l,l),o;Ed(o)?j(o[1],o[0],K(o[2]),o[3]):j(o,200,{},"OK")}else m.put(u,q);if(r(o)){var w=Nc(d.url)?b.cookies()[d.xsrfCookieName||g.xsrfCookieName]:c;w&&(h[d.xsrfHeaderName||g.xsrfHeaderName]=w),a(d.method,u,f,i,h,d.timeout,d.withCredentials,d.responseType)}return q}function v(a,b){if(!b)return a;var c=[];return h(b,function(a,b){null===a||r(a)||(Ed(a)||(a=[a]),f(a,function(a){t(a)&&(a=w(a)?a.toISOString():Q(a)),c.push(Y(b)+"="+Y(a))}))}),c.length>0&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&")),a}var y=d("$http"),z=[];return f(i,function(a){z.unshift(u(a)?m.get(a):m.invoke(a))}),f(j,function(a,b){var c=u(a)?m.get(a):m.invoke(a);z.splice(b,0,{response:function(a){return c(k.when(a))},responseError:function(a){return c(k.reject(a))}})}),n.pendingRequests=[],o("get","delete","head","jsonp"),p("post","put","patch"),n.defaults=g,n}]}function Zb(b){if(8>=td&&(!b.match(/^(get|post|head|put|delete|options)$/i)||!a.XMLHttpRequest))return new a.ActiveXObject("Microsoft.XMLHTTP");if(a.XMLHttpRequest)return new a.XMLHttpRequest;throw d("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function $b(){this.$get=["$browser","$window","$document",function(a,b,c){return _b(a,Zb,a.defer,b.angular.callbacks,c[0])}]}function _b(a,b,c,d,e){function g(a,b,c){var f=e.createElement("script"),g=null;return f.type="text/javascript",f.src=a,f.async=!0,g=function(a){Md(f,"load",g),Md(f,"error",g),e.body.removeChild(f),f=null;var h=-1,i="unknown";a&&("load"!==a.type||d[b].called||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},Ld(f,"load",g),Ld(f,"error",g),8>=td&&(f.onreadystatechange=function(){u(f.readyState)&&/loaded|complete/.test(f.readyState)&&(f.onreadystatechange=null,g({type:"load"}))}),e.body.appendChild(f),g}var h=-1;return function(e,i,j,k,l,m,n,p){function q(){t=h,v&&v(),w&&w.abort()}function r(b,d,e,f,g){y&&c.cancel(y),v=w=null,0===d&&(d=e?200:"file"==Mc(i).protocol?404:0),d=1223===d?204:d,g=g||"",b(d,e,f,g),a.$$completeOutstandingRequest(o)}var t;if(a.$$incOutstandingRequestCount(),i=i||a.url(),"jsonp"==od(e)){var u="_"+(d.counter++).toString(36);d[u]=function(a){d[u].data=a,d[u].called=!0};var v=g(i.replace("JSON_CALLBACK","angular.callbacks."+u),u,function(a,b){r(k,a,d[u].data,"",b),d[u]=o})}else{var w=b(e);if(w.open(e,i,!0),f(l,function(a,b){s(a)&&w.setRequestHeader(b,a)}),w.onreadystatechange=function(){if(w&&4==w.readyState){var a=null,b=null,c="";t!==h&&(a=w.getAllResponseHeaders(),b="response"in w?w.response:w.responseText),t===h&&10>td||(c=w.statusText),r(k,t||w.status,b,a,c)}},n&&(w.withCredentials=!0),p)try{w.responseType=p}catch(x){if("json"!==p)throw x}w.send(j||null)}if(m>0)var y=c(q,m);else D(m)&&m.then(q)}}function ac(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(f,i,j){for(var k,l,m,n,o=0,p=[],q=f.length,r=!1,s=[];q>o;)-1!=(k=f.indexOf(a,o))&&-1!=(l=f.indexOf(b,k+g))?(o!=k&&p.push(f.substring(o,k)),p.push(m=c(n=f.substring(k+g,l))),m.exp=n,o=l+h,r=!0):(o!=q&&p.push(f.substring(o)),o=q);if((q=p.length)||(p.push(""),q=1),j&&p.length>1)throw fe("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",f);return!i||r?(s.length=q,m=function(a){try{for(var b,c=0,g=q;g>c;c++){if("function"==typeof(b=p[c]))if(b=b(a),b=j?e.getTrusted(j,b):e.valueOf(b),null==b)b="";else switch(typeof b){case"string":break;case"number":b=""+b;break;default:b=Q(b)}s[c]=b}return s.join("")}catch(h){var i=fe("interr","Can't interpolate: {0}\n{1}",f,h.toString());d(i)}},m.exp=f,m.parts=p,m):void 0}var g=a.length,h=b.length;return f.startSymbol=function(){return a},f.endSymbol=function(){return b},f}]}function bc(){this.$get=["$rootScope","$window","$q",function(a,b,c){function d(d,f,g,h){var i=b.setInterval,j=b.clearInterval,k=c.defer(),l=k.promise,m=0,n=s(h)&&!h;return g=s(g)?g:0,l.then(null,null,d),l.$$intervalId=i(function(){k.notify(m++),g>0&&m>=g&&(k.resolve(m),j(l.$$intervalId),delete e[l.$$intervalId]),n||a.$apply()},f),e[l.$$intervalId]=k,l}var e={};return d.cancel=function(a){return a&&a.$$intervalId in e?(e[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete e[a.$$intervalId],!0):!1},d}]}function cc(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(a){return 1===a?"one":"other"}}}}function dc(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=X(b[c]);return b.join("/")}function ec(a,b,c){var d=Mc(a,c);b.$$protocol=d.protocol,b.$$host=d.hostname,b.$$port=m(d.port)||he[d.protocol]||null}function fc(a,b,c){var d="/"!==a.charAt(0);d&&(a="/"+a);var e=Mc(a,c);b.$$path=decodeURIComponent(d&&"/"===e.pathname.charAt(0)?e.pathname.substring(1):e.pathname),b.$$search=V(e.search),b.$$hash=decodeURIComponent(e.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function gc(a,b){return 0===b.indexOf(a)?b.substr(a.length):void 0}function hc(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function ic(a){return a.substr(0,hc(a).lastIndexOf("/")+1)}function jc(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function kc(a,b){this.$$html5=!0,b=b||"";var d=ic(a);ec(a,this,a),this.$$parse=function(b){var c=gc(d,b);if(!u(c))throw ie("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',b,d);fc(c,this,a),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=W(this.$$search),b=this.$$hash?"#"+X(this.$$hash):"";this.$$url=dc(this.$$path)+(a?"?"+a:"")+b,this.$$absUrl=d+this.$$url.substr(1)},this.$$parseLinkUrl=function(e){var f,g,h;return(f=gc(a,e))!==c?(g=f,h=(f=gc(b,f))!==c?d+(gc("/",f)||f):a+g):(f=gc(d,e))!==c?h=d+f:d==e+"/"&&(h=d),h&&this.$$parse(h),!!h}}function lc(a,b){var c=ic(a);ec(a,this,a),this.$$parse=function(d){function e(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return 0===b.indexOf(c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}var f=gc(a,d)||gc(c,d),g="#"==f.charAt(0)?gc(b,f):this.$$html5?f:"";if(!u(g))throw ie("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',d,b);fc(g,this,a),this.$$path=e(this.$$path,g,a),this.$$compose()},this.$$compose=function(){var c=W(this.$$search),d=this.$$hash?"#"+X(this.$$hash):"";this.$$url=dc(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+(this.$$url?b+this.$$url:"")},this.$$parseLinkUrl=function(b){return hc(a)==hc(b)?(this.$$parse(b),!0):!1}}function mc(a,b){this.$$html5=!0,lc.apply(this,arguments);var c=ic(a);this.$$parseLinkUrl=function(d){var e,f;return a==hc(d)?e=d:(f=gc(c,d))?e=a+b+f:c===d+"/"&&(e=c),e&&this.$$parse(e),!!e},this.$$compose=function(){var c=W(this.$$search),d=this.$$hash?"#"+X(this.$$hash):"";this.$$url=dc(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+b+this.$$url}}function nc(a){return function(){return this[a]}}function oc(a,b){return function(c){return r(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function pc(){var b="",c=!1;this.hashPrefix=function(a){return s(a)?(b=a,this):b},this.html5Mode=function(a){return s(a)?(c=a,this):c},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(d,e,f,g){function h(a){d.$broadcast("$locationChangeSuccess",i.absUrl(),a)}var i,j,k,l=e.baseHref(),m=e.url();c?(k=jc(m)+(l||"/"),j=f.history?kc:mc):(k=hc(m),j=lc),i=new j(k,"#"+b),i.$$parseLinkUrl(m,m);var n=/^\s*(javascript|mailto):/i;g.on("click",function(b){if(!b.ctrlKey&&!b.metaKey&&2!=b.which){for(var c=ud(b.target);"a"!==od(c[0].nodeName);)if(c[0]===g[0]||!(c=c.parent())[0])return;var f=c.prop("href"),h=c.attr("href")||c.attr("xlink:href");t(f)&&"[object SVGAnimatedString]"===f.toString()&&(f=Mc(f.animVal).href),n.test(f)||!f||c.attr("target")||b.isDefaultPrevented()||i.$$parseLinkUrl(f,h)&&(b.preventDefault(),i.absUrl()!=e.url()&&(d.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),i.absUrl()!=m&&e.url(i.absUrl(),!0),e.onUrlChange(function(a){i.absUrl()!=a&&(d.$evalAsync(function(){var b=i.absUrl();i.$$parse(a),d.$broadcast("$locationChangeStart",a,b).defaultPrevented?(i.$$parse(b),e.url(b)):h(b)}),d.$$phase||d.$digest())});var o=0;return d.$watch(function(){var a=e.url(),b=i.$$replace;return o&&a==i.absUrl()||(o++,d.$evalAsync(function(){d.$broadcast("$locationChangeStart",i.absUrl(),a).defaultPrevented?i.$$parse(a):(e.url(i.absUrl(),b),h(a))})),i.$$replace=!1,o}),i}]}function qc(){var a=!0,b=this;this.debugEnabled=function(b){return s(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||o,g=!1;try{g=!!e.apply}catch(h){}return g?function(){var a=[];return f(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function rc(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw ke("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function sc(a,b){if(a){if(a.constructor===a)throw ke("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.document&&a.location&&a.alert&&a.setInterval)throw ke("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw ke("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw ke("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}function tc(a,b){if(a){if(a.constructor===a)throw ke("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===me||a===ne||oe&&a===oe)throw ke("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}function uc(a,b,d,e,f){sc(a,e),f=f||{};for(var g,h=b.split("."),i=0;h.length>1;i++){g=rc(h.shift(),e);var j=sc(a[g],e);j||(j={},a[g]=j),a=j,a.then&&f.unwrapPromises&&(je(e),"$$v"in a||!function(a){a.then(function(b){a.$$v=b})}(a),a.$$v===c&&(a.$$v={}),a=a.$$v)}return g=rc(h.shift(),e),sc(a[g],e),a[g]=d,d}function vc(a){return"constructor"==a}function wc(a,b,d,e,f,g,h){rc(a,g),rc(b,g),rc(d,g),rc(e,g),rc(f,g);var i=function(a){return sc(a,g)},j=h.expensiveChecks,k=j||vc(a)?i:p,l=j||vc(b)?i:p,m=j||vc(d)?i:p,n=j||vc(e)?i:p,o=j||vc(f)?i:p;return h.unwrapPromises?function(h,i){var j,p=i&&i.hasOwnProperty(a)?i:h;return null==p?p:(p=k(p[a]),p&&p.then&&(je(g),"$$v"in p||(j=p,j.$$v=c,j.then(function(a){j.$$v=k(a)})),p=k(p.$$v)),b?null==p?c:(p=l(p[b]),p&&p.then&&(je(g),"$$v"in p||(j=p,j.$$v=c,j.then(function(a){j.$$v=l(a)})),p=l(p.$$v)),d?null==p?c:(p=m(p[d]),p&&p.then&&(je(g),"$$v"in p||(j=p,j.$$v=c,j.then(function(a){j.$$v=m(a)})),p=m(p.$$v)),e?null==p?c:(p=n(p[e]),p&&p.then&&(je(g),"$$v"in p||(j=p,j.$$v=c,j.then(function(a){j.$$v=n(a)})),p=n(p.$$v)),f?null==p?c:(p=o(p[f]),p&&p.then&&(je(g),"$$v"in p||(j=p,j.$$v=c,j.then(function(a){j.$$v=o(a)})),p=o(p.$$v)),p):p):p):p):p)}:function(g,h){var i=h&&h.hasOwnProperty(a)?h:g;return null==i?i:(i=k(i[a]),b?null==i?c:(i=l(i[b]),d?null==i?c:(i=m(i[d]),e?null==i?c:(i=n(i[e]),f?null==i?c:i=o(i[f]):i):i):i):i)}}function xc(a,b){return function(c,d){return a(c,d,je,sc,b)}}function yc(a,b,d){var e=b.expensiveChecks,g=e?ue:te;if(g.hasOwnProperty(a))return g[a];var h,i=a.split("."),j=i.length;if(b.csp)h=6>j?wc(i[0],i[1],i[2],i[3],i[4],d,b):function(a,e){var f,g=0;do f=wc(i[g++],i[g++],i[g++],i[g++],i[g++],d,b)(a,e),e=c,a=f;while(j>g);return f};else{var k="var p;\n";e&&(k+="s = eso(s, fe);\nl = eso(l, fe);\n");var l=e;f(i,function(a,c){rc(a,d);var f=(c?"s":'((l&&l.hasOwnProperty("'+a+'"))?l:s)')+'["'+a+'"]',g=e||vc(a);g&&(f="eso("+f+", fe)",l=!0),k+="if(s == null) return undefined;\ns="+f+";\n",b.unwrapPromises&&(k+='if (s && s.then) {\n pw("'+d.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v='+(g?"eso(v)":"v")+";});\n}\n s="+(g?"eso(s.$$v)":"s.$$v")+"\n}\n")}),k+="return s;";var m=new Function("s","l","pw","eso","fe",k);m.toString=q(k),(l||b.unwrapPromises)&&(m=xc(m,d)),h=m}return"hasOwnProperty"!==a&&(g[a]=h),h}function zc(){var a={},b={},c={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0,expensiveChecks:!1};this.unwrapPromises=function(a){return s(a)?(c.unwrapPromises=!!a,this):c.unwrapPromises},this.logPromiseWarnings=function(a){return s(a)?(c.logPromiseWarnings=a,this):c.logPromiseWarnings
},this.$get=["$filter","$sniffer","$log",function(d,e,f){c.csp=e.csp;var g={csp:c.csp,unwrapPromises:c.unwrapPromises,logPromiseWarnings:c.logPromiseWarnings,expensiveChecks:!0};return je=function(a){c.logPromiseWarnings&&!le.hasOwnProperty(a)&&(le[a]=!0,f.warn("[$parse] Promise found in the expression `"+a+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(e,f){var h;switch(typeof e){case"string":var i=f?b:a;if(i.hasOwnProperty(e))return i[e];var j=f?g:c,k=new re(j),l=new se(k,d,j);return h=l.parse(e),"hasOwnProperty"!==e&&(i[e]=h),h;case"function":return e;default:return o}}}]}function Ac(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return Bc(function(b){a.$evalAsync(b)},b)}]}function Bc(a,b){function d(a){return a}function e(a){return j(a)}function g(a){var b=h(),c=0,d=Ed(a)?[]:{};return f(a,function(a,e){c++,i(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}var h=function(){var f,g,j=[];return g={resolve:function(b){if(j){var d=j;j=c,f=i(b),d.length&&a(function(){for(var a,b=0,c=d.length;c>b;b++)a=d[b],f.then(a[0],a[1],a[2])})}},reject:function(a){g.resolve(k(a))},notify:function(b){if(j){var c=j;j.length&&a(function(){for(var a,d=0,e=c.length;e>d;d++)a=c[d],a[2](b)})}},promise:{then:function(a,c,g){var i=h(),k=function(c){try{i.resolve((x(a)?a:d)(c))}catch(e){i.reject(e),b(e)}},l=function(a){try{i.resolve((x(c)?c:e)(a))}catch(d){i.reject(d),b(d)}},m=function(a){try{i.notify((x(g)?g:d)(a))}catch(c){b(c)}};return j?j.push([k,l,m]):f.then(k,l,m),i.promise},"catch":function(a){return this.then(null,a)},"finally":function(a){function b(a,b){var c=h();return b?c.resolve(a):c.reject(a),c.promise}function c(c,e){var f=null;try{f=(a||d)()}catch(g){return b(g,!1)}return D(f)?f.then(function(){return b(c,e)},function(a){return b(a,!1)}):b(c,e)}return this.then(function(a){return c(a,!0)},function(a){return c(a,!1)})}}}},i=function(b){return D(b)?b:{then:function(c){var d=h();return a(function(){d.resolve(c(b))}),d.promise}}},j=function(a){var b=h();return b.reject(a),b.promise},k=function(c){return{then:function(d,f){var g=h();return a(function(){try{g.resolve((x(f)?f:e)(c))}catch(a){g.reject(a),b(a)}}),g.promise}}},l=function(c,f,g,k){var l,m=h(),n=function(a){try{return(x(f)?f:d)(a)}catch(c){return b(c),j(c)}},o=function(a){try{return(x(g)?g:e)(a)}catch(c){return b(c),j(c)}},p=function(a){try{return(x(k)?k:d)(a)}catch(c){b(c)}};return a(function(){i(c).then(function(a){l||(l=!0,m.resolve(i(a).then(n,o,p)))},function(a){l||(l=!0,m.resolve(o(a)))},function(a){l||m.notify(p(a))})}),m.promise};return{defer:h,reject:j,when:l,all:g}}function Cc(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function Dc(){var a=10,b=d("$rootScope"),c=null;this.digestTtl=function(b){return arguments.length&&(a=b),a},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,g,h,i){function k(){this.$id=j(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function l(a){if(r.$$phase)throw b("inprog","{0} already in progress",r.$$phase);r.$$phase=a}function m(){r.$$phase=null}function n(a,b){var c=h(a);return cb(c,b),c}function p(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function q(){}k.prototype={constructor:k,$new:function(a){var b;return a?(b=new k,b.$root=this.$root,b.$$asyncQueue=this.$$asyncQueue,b.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=j(),this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),b=new this.$$childScopeClass),b["this"]=b,b.$parent=this,b.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=b,this.$$childTail=b):this.$$childHead=this.$$childTail=b,b},$watch:function(a,b,d){var e=this,f=n(a,"watch"),g=e.$$watchers,h={fn:b,last:q,get:f,exp:a,eq:!!d};if(c=null,!x(b)){var i=n(b||o,"listener");h.fn=function(a,b,c){i(c)}}if("string"==typeof a&&f.constant){var j=h.fn;h.fn=function(a,b,c){j.call(this,a,b,c),I(g,h)}}return g||(g=e.$$watchers=[]),g.unshift(h),function(){I(g,h),c=null}},$watchCollection:function(a,b){function c(){f=m(j);var a,b,c;if(t(f))if(e(f)){g!==n&&(g=n,q=g.length=0,l++),a=f.length,q!==a&&(l++,g.length=q=a);for(var d=0;a>d;d++)c=g[d]!==g[d]&&f[d]!==f[d],c||g[d]===f[d]||(l++,g[d]=f[d])}else{g!==o&&(g=o={},q=0,l++),a=0;for(b in f)f.hasOwnProperty(b)&&(a++,g.hasOwnProperty(b)?(c=g[b]!==g[b]&&f[b]!==f[b],c||g[b]===f[b]||(l++,g[b]=f[b])):(q++,g[b]=f[b],l++));if(q>a){l++;for(b in g)g.hasOwnProperty(b)&&!f.hasOwnProperty(b)&&(q--,delete g[b])}}else g!==f&&(g=f,l++);return l}function d(){if(p?(p=!1,b(f,f,j)):b(f,i,j),k)if(t(f))if(e(f)){i=new Array(f.length);for(var a=0;a<f.length;a++)i[a]=f[a]}else{i={};for(var c in f)pd.call(f,c)&&(i[c]=f[c])}else i=f}var f,g,i,j=this,k=b.length>1,l=0,m=h(a),n=[],o={},p=!0,q=0;return this.$watch(c,d)},$digest:function(){var d,e,f,h,j,k,n,o,p,r,s,t=this.$$asyncQueue,u=this.$$postDigestQueue,v=a,w=this,y=[];l("$digest"),i.$$checkUrlChange(),c=null;do{for(k=!1,o=w;t.length;){try{s=t.shift(),s.scope.$eval(s.expression)}catch(z){m(),g(z)}c=null}a:do{if(h=o.$$watchers)for(j=h.length;j--;)try{if(d=h[j])if((e=d.get(o))===(f=d.last)||(d.eq?L(e,f):"number"==typeof e&&"number"==typeof f&&isNaN(e)&&isNaN(f))){if(d===c){k=!1;break a}}else k=!0,c=d,d.last=d.eq?J(e,null):e,d.fn(e,f===q?e:f,o),5>v&&(p=4-v,y[p]||(y[p]=[]),r=x(d.exp)?"fn: "+(d.exp.name||d.exp.toString()):d.exp,r+="; newVal: "+Q(e)+"; oldVal: "+Q(f),y[p].push(r))}catch(z){m(),g(z)}if(!(n=o.$$childHead||o!==w&&o.$$nextSibling))for(;o!==w&&!(n=o.$$nextSibling);)o=o.$parent}while(o=n);if((k||t.length)&&!v--)throw m(),b("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",a,Q(y))}while(k||t.length);for(m();u.length;)try{u.shift()()}catch(z){g(z)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==r&&(f(this.$$listenerCount,O(null,p,this)),a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=o,this.$on=this.$watch=function(){return o})}},$eval:function(a,b){return h(a)(this,b)},$evalAsync:function(a){r.$$phase||r.$$asyncQueue.length||i.defer(function(){r.$$asyncQueue.length&&r.$digest()}),this.$$asyncQueue.push({scope:this,expression:a})},$$postDigest:function(a){this.$$postDigestQueue.push(a)},$apply:function(a){try{return l("$apply"),this.$eval(a)}catch(b){g(b)}finally{m();try{r.$digest()}catch(b){throw g(b),b}}},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=H(c,b);-1!==d&&(c[d]=null,p(e,1,a))}},$emit:function(a){var b,c,d,e=[],f=this,h=!1,i={name:a,targetScope:f,stopPropagation:function(){h=!0},preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1},j=M([i],arguments,1);do{for(b=f.$$listeners[a]||e,i.currentScope=f,c=0,d=b.length;d>c;c++)if(b[c])try{b[c].apply(null,j)}catch(k){g(k)}else b.splice(c,1),c--,d--;if(h)return i;f=f.$parent}while(f);return i},$broadcast:function(a){for(var b,c,d,e=this,f=e,h=e,i={name:a,targetScope:e,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1},j=M([i],arguments,1);f=h;){for(i.currentScope=f,b=f.$$listeners[a]||[],c=0,d=b.length;d>c;c++)if(b[c])try{b[c].apply(null,j)}catch(k){g(k)}else b.splice(c,1),c--,d--;if(!(h=f.$$listenerCount[a]&&f.$$childHead||f!==e&&f.$$nextSibling))for(;f!==e&&!(h=f.$$nextSibling);)f=f.$parent}return i}};var r=new k;return r}]}function Ec(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return s(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return td&&!(td>=8)||(e=Mc(c).href,""===e||e.match(f))?c:"unsafe:"+e}}}function Fc(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Gc(a){if("self"===a)return a;if(u(a)){if(a.indexOf("***")>-1)throw ve("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=Fc(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(y(a))return new RegExp("^"+a.source+"$");throw ve("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Hc(a){var b=[];return s(a)&&f(a,function(a){b.push(Gc(a))}),b}function Ic(){this.SCE_CONTEXTS=we;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=Hc(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=Hc(a)),b},this.$get=["$injector",function(d){function e(a,b){return"self"===a?Nc(b):!!a.exec(b.href)}function f(c){var d,f,g=Mc(c.toString()),h=!1;for(d=0,f=a.length;f>d;d++)if(e(a[d],g)){h=!0;break}if(h)for(d=0,f=b.length;f>d;d++)if(e(b[d],g)){h=!1;break}return h}function g(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function h(a,b){var d=m.hasOwnProperty(a)?m[a]:null;if(!d)throw ve("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||b===c||""===b)return b;if("string"!=typeof b)throw ve("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new d(b)}function i(a){return a instanceof l?a.$$unwrapTrustedValue():a}function j(a,b){if(null===b||b===c||""===b)return b;var d=m.hasOwnProperty(a)?m[a]:null;if(d&&b instanceof d)return b.$$unwrapTrustedValue();if(a===we.RESOURCE_URL){if(f(b))return b;throw ve("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===we.HTML)return k(b);throw ve("unsafe","Attempting to use an unsafe value in a safe context.")}var k=function(){throw ve("unsafe","Attempting to use an unsafe value in a safe context.")};d.has("$sanitize")&&(k=d.get("$sanitize"));var l=g(),m={};return m[we.HTML]=g(l),m[we.CSS]=g(l),m[we.URL]=g(l),m[we.JS]=g(l),m[we.RESOURCE_URL]=g(m[we.URL]),{trustAs:h,getTrusted:j,valueOf:i}}]}function Jc(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sniffer","$sceDelegate",function(b,c,d){if(a&&c.msie&&c.msieDocumentMode<8)throw ve("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var e=K(we);e.isEnabled=function(){return a},e.trustAs=d.trustAs,e.getTrusted=d.getTrusted,e.valueOf=d.valueOf,a||(e.trustAs=e.getTrusted=function(a,b){return b},e.valueOf=p),e.parseAs=function(a,c){var d=b(c);return d.literal&&d.constant?d:function(b,c){return e.getTrusted(a,d(b,c))}};var g=e.parseAs,h=e.getTrusted,i=e.trustAs;return f(we,function(a,b){var c=od(b);e[jb("parse_as_"+c)]=function(b){return g(a,b)},e[jb("get_trusted_"+c)]=function(b){return h(a,b)},e[jb("trust_as_"+c)]=function(b){return i(a,b)}}),e}]}function Kc(){this.$get=["$window","$document",function(a,b){var c,d,e={},f=m((/android (\d+)/.exec(od((a.navigator||{}).userAgent))||[])[1]),g=/Boxee/i.test((a.navigator||{}).userAgent),h=b[0]||{},i=h.documentMode,j=/^(Moz|webkit|O|ms)(?=[A-Z])/,k=h.body&&h.body.style,l=!1,n=!1;if(k){for(var o in k)if(d=j.exec(o)){c=d[0],c=c.substr(0,1).toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in k&&"webkit"),l=!!("transition"in k||c+"Transition"in k),n=!!("animation"in k||c+"Animation"in k),!f||l&&n||(l=u(h.body.style.webkitTransition),n=u(h.body.style.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||4>f||g),hashchange:"onhashchange"in a&&(!i||i>7),hasEvent:function(a){if("input"==a&&9==td)return!1;if(r(e[a])){var b=h.createElement("div");e[a]="on"+a in b}return e[a]},csp:Gd(),vendorPrefix:c,transitions:l,animations:n,android:f,msie:td,msieDocumentMode:i}}]}function Lc(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(a,b,c,d){function e(e,g,h){var i,j=c.defer(),k=j.promise,l=s(h)&&!h;return i=b.defer(function(){try{j.resolve(e())}catch(b){j.reject(b),d(b)}finally{delete f[k.$$timeoutId]}l||a.$apply()},g),k.$$timeoutId=i,f[i]=j,k}var f={};return e.cancel=function(a){return a&&a.$$timeoutId in f?(f[a.$$timeoutId].reject("canceled"),delete f[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1},e}]}function Mc(a){var b=a;return td&&(xe.setAttribute("href",b),b=xe.href),xe.setAttribute("href",b),{href:xe.href,protocol:xe.protocol?xe.protocol.replace(/:$/,""):"",host:xe.host,search:xe.search?xe.search.replace(/^\?/,""):"",hash:xe.hash?xe.hash.replace(/^#/,""):"",hostname:xe.hostname,port:xe.port,pathname:"/"===xe.pathname.charAt(0)?xe.pathname:"/"+xe.pathname}}function Nc(a){var b=u(a)?Mc(a):a;return b.protocol===ye.protocol&&b.host===ye.host}function Oc(){this.$get=q(a)}function Pc(a){function b(d,e){if(t(d)){var g={};return f(d,function(a,c){g[c]=b(c,a)}),g}return a.factory(d+c,e)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",Rc),b("date",Zc),b("filter",Qc),b("json",$c),b("limitTo",_c),b("lowercase",De),b("number",Sc),b("orderBy",ad),b("uppercase",Ee)}function Qc(){return function(a,b,c){if(!Ed(a))return a;var d=typeof c,e=[];e.check=function(a){for(var b=0;b<e.length;b++)if(!e[b](a))return!1;return!0},"function"!==d&&(c="boolean"===d&&c?function(a,b){return Cd.equals(a,b)}:function(a,b){if(a&&b&&"object"==typeof a&&"object"==typeof b){for(var d in a)if("$"!==d.charAt(0)&&pd.call(a,d)&&c(a[d],b[d]))return!0;return!1}return b=(""+b).toLowerCase(),(""+a).toLowerCase().indexOf(b)>-1});var f=function(a,b){if("string"==typeof b&&"!"===b.charAt(0))return!f(a,b.substr(1));switch(typeof a){case"boolean":case"number":case"string":return c(a,b);case"object":switch(typeof b){case"object":return c(a,b);default:for(var d in a)if("$"!==d.charAt(0)&&f(a[d],b))return!0}return!1;case"array":for(var e=0;e<a.length;e++)if(f(a[e],b))return!0;return!1;default:return!1}};switch(typeof b){case"boolean":case"number":case"string":b={$:b};case"object":for(var g in b)!function(a){"undefined"!=typeof b[a]&&e.push(function(c){return f("$"==a?c:c&&c[a],b[a])})}(g);break;case"function":e.push(b);break;default:return a}for(var h=[],i=0;i<a.length;i++){var j=a[i];e.check(j)&&h.push(j)}return h}}function Rc(a){var b=a.NUMBER_FORMATS;return function(a,c){return r(c)&&(c=b.CURRENCY_SYM),Tc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,2).replace(/\u00A4/g,c)}}function Sc(a){var b=a.NUMBER_FORMATS;return function(a,c){return Tc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Tc(a,b,c,d,e){if(null==a||!isFinite(a)||t(a))return"";var f=0>a;a=Math.abs(a);var g=a+"",h="",i=[],j=!1;if(-1!==g.indexOf("e")){var k=g.match(/([\d\.]+)e(-?)(\d+)/);k&&"-"==k[2]&&k[3]>e+1?(g="0",a=0):(h=g,j=!0)}if(j)e>0&&a>-1&&1>a&&(h=a.toFixed(e));else{var l=(g.split(ze)[1]||"").length;r(e)&&(e=Math.min(Math.max(b.minFrac,l),b.maxFrac)),a=+(Math.round(+(a.toString()+"e"+e)).toString()+"e"+-e),0===a&&(f=!1);var m=(""+a).split(ze),n=m[0];m=m[1]||"";var o,p=0,q=b.lgSize,s=b.gSize;if(n.length>=q+s)for(p=n.length-q,o=0;p>o;o++)(p-o)%s===0&&0!==o&&(h+=c),h+=n.charAt(o);for(o=p;o<n.length;o++)(n.length-o)%q===0&&0!==o&&(h+=c),h+=n.charAt(o);for(;m.length<e;)m+="0";e&&"0"!==e&&(h+=d+m.substr(0,e))}return i.push(f?b.negPre:b.posPre),i.push(h),i.push(f?b.negSuf:b.posSuf),i.join("")}function Uc(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function Vc(a,b,c,d){return c=c||0,function(e){var f=e["get"+a]();return(c>0||f>-c)&&(f+=c),0===f&&-12==c&&(f=12),Uc(f,b,d)}}function Wc(a,b){return function(c,d){var e=c["get"+a](),f=qd(b?"SHORT"+a:a);return d[f][e]}}function Xc(a){var b=-1*a.getTimezoneOffset(),c=b>=0?"+":"";return c+=Uc(Math[b>0?"floor":"ceil"](b/60),2)+Uc(Math.abs(b%60),2)}function Yc(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function Zc(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=m(b[9]+b[10]),f=m(b[9]+b[11])),g.call(d,m(b[1]),m(b[2])-1,m(b[3]));var i=m(b[4]||0)-e,j=m(b[5]||0)-f,k=m(b[6]||0),l=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,l),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d){var e,g,h="",i=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,u(c)&&(c=Ce.test(c)?m(c):b(c)),v(c)&&(c=new Date(c)),!w(c))return c;for(;d;)g=Be.exec(d),g?(i=M(i,g,1),d=i.pop()):(i.push(d),d=null);return f(i,function(b){e=Ae[b],h+=e?e(c,a.DATETIME_FORMATS):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}}function $c(){return function(a){return Q(a,!0)}}function _c(){return function(a,b){if(!Ed(a)&&!u(a))return a;if(b=1/0===Math.abs(Number(b))?Number(b):m(b),u(a))return b?b>=0?a.slice(0,b):a.slice(b,a.length):"";var c,d,e=[];for(b>a.length?b=a.length:b<-a.length&&(b=-a.length),b>0?(c=0,d=b):(c=a.length+b,d=a.length);d>c;c++)e.push(a[c]);return e}}function ad(a){return function(b,c,d){function f(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0}function g(a,b){return S(b)?function(b,c){return a(c,b)}:a}function h(a,b){var c=typeof a,d=typeof b;return c==d?(w(a)&&w(b)&&(a=a.valueOf(),b=b.valueOf()),"string"==c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:b>a?-1:1):d>c?-1:1}return e(b)?(c=Ed(c)?c:[c],0===c.length&&(c=["+"]),c=F(c,function(b){var c=!1,d=b||p;if(u(b)){if(("+"==b.charAt(0)||"-"==b.charAt(0))&&(c="-"==b.charAt(0),b=b.substring(1)),""===b)return g(function(a,b){return h(a,b)},c);if(d=a(b),d.constant){var e=d();return g(function(a,b){return h(a[e],b[e])},c)}}return g(function(a,b){return h(d(a),d(b))},c)}),yd.call(b).sort(g(f,d))):b}}function bd(a){return x(a)&&(a={link:a}),a.restrict=a.restrict||"AC",q(a)}function cd(a,b,c,d){function e(b,c){c=c?"-"+_(c,"-"):"",d.setClass(a,(b?Re:Se)+c,(b?Se:Re)+c)}var g=this,h=a.parent().controller("form")||He,i=0,j=g.$error={},k=[];g.$name=b.name||b.ngForm,g.$dirty=!1,g.$pristine=!0,g.$valid=!0,g.$invalid=!1,h.$addControl(g),a.addClass(Te),e(!0),g.$addControl=function(a){db(a.$name,"input"),k.push(a),a.$name&&(g[a.$name]=a)},g.$removeControl=function(a){a.$name&&g[a.$name]===a&&delete g[a.$name],f(j,function(b,c){g.$setValidity(c,!0,a)}),I(k,a)},g.$setValidity=function(a,b,c){var d=j[a];if(b)d&&(I(d,c),d.length||(i--,i||(e(b),g.$valid=!0,g.$invalid=!1),j[a]=!1,e(!0,a),h.$setValidity(a,!0,g)));else{if(i||e(b),d){if(G(d,c))return}else j[a]=d=[],i++,e(!1,a),h.$setValidity(a,!1,g);d.push(c),g.$valid=!1,g.$invalid=!0}},g.$setDirty=function(){d.removeClass(a,Te),d.addClass(a,Ue),g.$dirty=!0,g.$pristine=!1,h.$setDirty()},g.$setPristine=function(){d.removeClass(a,Ue),d.addClass(a,Te),g.$dirty=!1,g.$pristine=!0,f(k,function(a){a.$setPristine()})}}function dd(a,b,d,e){return a.$setValidity(b,d),d?e:c}function ed(a,b){var c,d;if(b)for(c=0;c<b.length;++c)if(d=b[c],a[d])return!0;return!1}function fd(a,b,c,d,e){if(t(e)){a.$$hasNativeValidators=!0;var f=function(f){return a.$error[b]||ed(e,d)||!ed(e,c)?f:void a.$setValidity(b,!1)};a.$parsers.push(f)}}function gd(a,b,c,e,f,g){var h=b.prop(nd),i=b[0].placeholder,j={},k=od(b[0].type);if(e.$$validityState=h,!f.android){var l=!1;b.on("compositionstart",function(){l=!0}),b.on("compositionend",function(){l=!1,n()})}var n=function(d){if(!l){var f=b.val();if(td&&"input"===(d||j).type&&b[0].placeholder!==i)return void(i=b[0].placeholder);"password"!==k&&S(c.ngTrim||"T")&&(f=Fd(f));var g=h&&e.$$hasNativeValidators;(e.$viewValue!==f||""===f&&g)&&(a.$root.$$phase?e.$setViewValue(f):a.$apply(function(){e.$setViewValue(f)}))}};if(f.hasEvent("input"))b.on("input",n);else{var o,p=function(){o||(o=g.defer(function(){n(),o=null}))};b.on("keydown",function(a){var b=a.keyCode;91===b||b>15&&19>b||b>=37&&40>=b||p()}),f.hasEvent("paste")&&b.on("paste cut",p)}b.on("change",n),e.$render=function(){b.val(e.$isEmpty(e.$viewValue)?"":e.$viewValue)};var q,r,s=c.ngPattern;if(s){var t=function(a,b){return dd(e,"pattern",e.$isEmpty(b)||a.test(b),b)};r=s.match(/^\/(.*)\/([gim]*)$/),r?(s=new RegExp(r[1],r[2]),q=function(a){return t(s,a)}):q=function(c){var e=a.$eval(s);if(!e||!e.test)throw d("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,T(b));return t(e,c)},e.$formatters.push(q),e.$parsers.push(q)}if(c.ngMinlength){var u=m(c.ngMinlength),v=function(a){return dd(e,"minlength",e.$isEmpty(a)||a.length>=u,a)};e.$parsers.push(v),e.$formatters.push(v)}if(c.ngMaxlength){var w=m(c.ngMaxlength),x=function(a){return dd(e,"maxlength",e.$isEmpty(a)||a.length<=w,a)};e.$parsers.push(x),e.$formatters.push(x)}}function hd(a,b,d,e,f,g){if(gd(a,b,d,e,f,g),e.$parsers.push(function(a){var b=e.$isEmpty(a);return b||Ne.test(a)?(e.$setValidity("number",!0),""===a?null:b?a:parseFloat(a)):(e.$setValidity("number",!1),c)}),fd(e,"number",Pe,null,e.$$validityState),e.$formatters.push(function(a){return e.$isEmpty(a)?"":""+a}),d.min){var h=function(a){var b=parseFloat(d.min);return dd(e,"min",e.$isEmpty(a)||a>=b,a)};e.$parsers.push(h),e.$formatters.push(h)}if(d.max){var i=function(a){var b=parseFloat(d.max);return dd(e,"max",e.$isEmpty(a)||b>=a,a)};e.$parsers.push(i),e.$formatters.push(i)}e.$formatters.push(function(a){return dd(e,"number",e.$isEmpty(a)||v(a),a)})}function id(a,b,c,d,e,f){gd(a,b,c,d,e,f);var g=function(a){return dd(d,"url",d.$isEmpty(a)||Le.test(a),a)};d.$formatters.push(g),d.$parsers.push(g)}function jd(a,b,c,d,e,f){gd(a,b,c,d,e,f);var g=function(a){return dd(d,"email",d.$isEmpty(a)||Me.test(a),a)};d.$formatters.push(g),d.$parsers.push(g)}function kd(a,b,c,d){r(c.name)&&b.attr("name",j()),b.on("click",function(){b[0].checked&&a.$apply(function(){d.$setViewValue(c.value)})}),d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue},c.$observe("value",d.$render)}function ld(a,b,c,d){var e=c.ngTrueValue,f=c.ngFalseValue;u(e)||(e=!0),u(f)||(f=!1),b.on("click",function(){a.$apply(function(){d.$setViewValue(b[0].checked)})}),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a!==e},d.$formatters.push(function(a){return a===e}),d.$parsers.push(function(a){return a?e:f})}function md(a,b){return a="ngClass"+a,["$animate",function(c){function d(a,b){var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function e(a){if(Ed(a))return a;if(u(a))return a.split(" ");if(t(a)){var b=[];return f(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b}return a}return{restrict:"AC",link:function(g,h,i){function j(a){var b=l(a,1);i.$addClass(b)}function k(a){var b=l(a,-1);i.$removeClass(b)}function l(a,b){var c=h.data("$classCounts")||{},d=[];return f(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&d.push(a))}),h.data("$classCounts",c),d.join(" ")}function m(a,b){var e=d(b,a),f=d(a,b);f=l(f,-1),e=l(e,1),0===e.length?c.removeClass(h,f):0===f.length?c.addClass(h,e):c.setClass(h,e,f)}function n(a){if(b===!0||g.$index%2===b){var c=e(a||[]);if(o){if(!L(a,o)){var d=e(o);m(d,c)}}else j(c)}o=K(a)}var o;g.$watch(i[a],n,!0),i.$observe("class",function(){n(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var f=1&c;if(f!==(1&d)){var h=e(g.$eval(i[a]));f===b?j(h):k(h)}})}}}]}var nd="validity",od=function(a){return u(a)?a.toLowerCase():a},pd=Object.prototype.hasOwnProperty,qd=function(a){return u(a)?a.toUpperCase():a},rd=function(a){return u(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},sd=function(a){return u(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(-33&a.charCodeAt(0))}):a};"i"!=="I".toLowerCase()&&(od=rd,qd=sd);var td,ud,vd,wd,xd,yd=[].slice,zd=[].push,Ad=Object.prototype.toString,Bd=d("ng"),Cd=a.angular||(a.angular={}),Dd=["0","0","0"];td=m((/msie (\d+)/.exec(od(navigator.userAgent))||[])[1]),isNaN(td)&&(td=m((/trident\/.*; rv:(\d+)/.exec(od(navigator.userAgent))||[])[1])),o.$inject=[],p.$inject=[];var Ed=function(){return x(Array.isArray)?Array.isArray:function(a){return"[object Array]"===Ad.call(a)}}(),Fd=function(){return String.prototype.trim?function(a){return u(a)?a.trim():a}:function(a){return u(a)?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a}}();xd=9>td?function(a){return a=a.nodeName?a:a[0],a.scopeName&&"HTML"!=a.scopeName?qd(a.scopeName+":"+a.nodeName):a.nodeName}:function(a){return a.nodeName?a.nodeName:a[0].nodeName};var Gd=function(){if(s(Gd.isActive_))return Gd.isActive_;var a=!(!b.querySelector("[ng-csp]")&&!b.querySelector("[data-ng-csp]"));if(!a)try{new Function("")}catch(c){a=!0}return Gd.isActive_=a},Hd=/[A-Z]/g,Id={full:"1.2.27",major:1,minor:2,dot:27,codeName:"prime-factorization"};ob.expando="ng339";var Jd=ob.cache={},Kd=1,Ld=a.document.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},Md=a.document.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)},Nd=(ob._data=function(a){return this.cache[a[this.expando]]||{}},/([\:\-\_]+(.))/g),Od=/^moz([A-Z])/,Pd=d("jqLite"),Qd=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Rd=/<|&#?\w+;/,Sd=/<([\w:]+)/,Td=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ud={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ud.optgroup=Ud.option,Ud.tbody=Ud.tfoot=Ud.colgroup=Ud.caption=Ud.thead,Ud.th=Ud.td;var Vd=ob.prototype={ready:function(c){function d(){e||(e=!0,c())}var e=!1;"complete"===b.readyState?setTimeout(d):(this.on("DOMContentLoaded",d),ob(a).on("load",d))},toString:function(){var a=[];return f(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return ud(a>=0?this[a]:this[this.length+a])},length:0,push:zd,sort:[].sort,splice:[].splice},Wd={};f("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){Wd[od(a)]=a});var Xd={};f("input,select,option,textarea,button,form,details".split(","),function(a){Xd[qd(a)]=!0}),f({data:ub,removeData:sb},function(a,b){ob[b]=a}),f({data:ub,inheritedData:Ab,scope:function(a){return ud.data(a,"$scope")||Ab(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return ud.data(a,"$isolateScope")||ud.data(a,"$isolateScopeNoTemplate")},controller:zb,injector:function(a){return Ab(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:vb,css:function(a,b,d){if(b=jb(b),!s(d)){var e;return 8>=td&&(e=a.currentStyle&&a.currentStyle[b],""===e&&(e="auto")),e=e||a.style[b],8>=td&&(e=""===e?c:e),e}a.style[b]=d},attr:function(a,b,d){var e=od(b);if(Wd[e]){if(!s(d))return a[b]||(a.attributes.getNamedItem(b)||o).specified?e:c;d?(a[b]=!0,a.setAttribute(b,e)):(a[b]=!1,a.removeAttribute(e))}else if(s(d))a.setAttribute(b,d);else if(a.getAttribute){var f=a.getAttribute(b,2);return null===f?c:f}},prop:function(a,b,c){return s(c)?void(a[b]=c):a[b]},text:function(){function a(a,c){var d=b[a.nodeType];return r(c)?d?a[d]:"":void(a[d]=c)}var b=[];return 9>td?(b[1]="innerText",b[3]="nodeValue"):b[1]=b[3]="textContent",a.$dv="",a}(),val:function(a,b){if(r(b)){if("SELECT"===xd(a)&&a.multiple){var c=[];return f(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){if(r(b))return a.innerHTML;for(var c=0,d=a.childNodes;c<d.length;c++)qb(d[c]);a.innerHTML=b},empty:Bb},function(a,b){ob.prototype[b]=function(b,d){var e,f,g=this.length;if(a!==Bb&&(2==a.length&&a!==vb&&a!==zb?b:d)===c){if(t(b)){for(e=0;g>e;e++)if(a===ub)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}for(var h=a.$dv,i=h===c?Math.min(g,1):g,j=0;i>j;j++){var k=a(this[j],b,d);h=h?h+k:k}return h}for(e=0;g>e;e++)a(this[e],b,d);return this}}),f({removeData:sb,dealoc:qb,on:function Ff(a,c,d,e){if(s(e))throw Pd("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var g=tb(a,"events"),h=tb(a,"handle");g||tb(a,"events",g={}),h||tb(a,"handle",h=Db(a,g)),f(c.split(" "),function(c){var e=g[c];if(!e){if("mouseenter"==c||"mouseleave"==c){var f=b.body.contains||b.body.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};g[c]=[];var i={mouseleave:"mouseout",mouseenter:"mouseover"};Ff(a,i[c],function(a){var b=this,d=a.relatedTarget;(!d||d!==b&&!f(b,d))&&h(a,c)})}else Ld(a,c,h),g[c]=[];e=g[c]}e.push(d)})},off:rb,one:function(a,b,c){a=ud(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;qb(a),f(new ob(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return f(a.childNodes,function(a){1===a.nodeType&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){f(new ob(b),function(b){(1===a.nodeType||11===a.nodeType)&&a.appendChild(b)})},prepend:function(a,b){if(1===a.nodeType){var c=a.firstChild;f(new ob(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){b=ud(b)[0];var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)},remove:function(a){qb(a);var b=a.parentNode;b&&b.removeChild(a)},after:function(a,b){var c=a,d=a.parentNode;f(new ob(b),function(a){d.insertBefore(a,c.nextSibling),c=a})},addClass:xb,removeClass:wb,toggleClass:function(a,b,c){b&&f(b.split(" "),function(b){var d=c;r(d)&&(d=!vb(a,b)),(d?xb:wb)(a,b)})},parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},next:function(a){if(a.nextElementSibling)return a.nextElementSibling;for(var b=a.nextSibling;null!=b&&1!==b.nodeType;)b=b.nextSibling;return b},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:pb,triggerHandler:function(a,b,c){var d,e,g,h=b.type||b,i=(tb(a,"events")||{})[h];i&&(d={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopPropagation:o,type:h,target:a},b.type&&(d=l(d,b)),e=K(i),g=c?[d].concat(c):[d],f(e,function(b){b.apply(a,g)}))}},function(a,b){ob.prototype[b]=function(b,c,d){for(var e,f=0;f<this.length;f++)r(e)?(e=a(this[f],b,c,d),s(e)&&(e=ud(e))):yb(e,a(this[f],b,c,d));return s(e)?e:this},ob.prototype.bind=ob.prototype.on,ob.prototype.unbind=ob.prototype.off
}),Fb.prototype={put:function(a,b){this[Eb(a,this.nextUid)]=b},get:function(a){return this[Eb(a,this.nextUid)]},remove:function(a){var b=this[a=Eb(a,this.nextUid)];return delete this[a],b}};var Yd=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Zd=/,/,$d=/^\s*(_?)(\S+?)\1\s*$/,_d=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ae=d("$injector"),be=d("$animate"),ce=["$provide",function(a){this.$$selectors={},this.register=function(b,c){var d=b+"-animation";if(b&&"."!=b.charAt(0))throw be("notcsel","Expecting class selector starting with '.' got '{0}'.",b);this.$$selectors[b.substr(1)]=d,a.factory(d,c)},this.classNameFilter=function(a){return 1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(a,b){function c(a){a&&b(a)}return{enter:function(a,b,d,e){d?d.after(a):(b&&b[0]||(b=d.parent()),b.append(a)),c(e)},leave:function(a,b){a.remove(),c(b)},move:function(a,b,c,d){this.enter(a,b,c,d)},addClass:function(a,b,d){b=u(b)?b:Ed(b)?b.join(" "):"",f(a,function(a){xb(a,b)}),c(d)},removeClass:function(a,b,d){b=u(b)?b:Ed(b)?b.join(" "):"",f(a,function(a){wb(a,b)}),c(d)},setClass:function(a,b,d,e){f(a,function(a){xb(a,b),wb(a,d)}),c(e)},enabled:o}}]}],de=d("$compile");Ob.$inject=["$provide","$$sanitizeUriProvider"];var ee=/^(x[\:\-_]|data[\:\-_])/i,fe=d("$interpolate"),ge=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,he={http:80,https:443,ftp:21},ie=d("$location");mc.prototype=lc.prototype=kc.prototype={$$html5:!1,$$replace:!1,absUrl:nc("$$absUrl"),url:function(a){if(r(a))return this.$$url;var b=ge.exec(a);return b[1]&&this.path(decodeURIComponent(b[1])),(b[2]||b[1])&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:nc("$$protocol"),host:nc("$$host"),port:nc("$$port"),path:oc("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(u(a)||v(a))a=a.toString(),this.$$search=V(a);else{if(!t(a))throw ie("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");f(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:r(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:oc("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};var je,ke=d("$parse"),le={},me=Function.prototype.call,ne=Function.prototype.apply,oe=Function.prototype.bind,pe={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:o,"+":function(a,b,d,e){return d=d(a,b),e=e(a,b),s(d)?s(e)?d+e:d:s(e)?e:c},"-":function(a,b,c,d){return c=c(a,b),d=d(a,b),(s(c)?c:0)-(s(d)?d:0)},"*":function(a,b,c,d){return c(a,b)*d(a,b)},"/":function(a,b,c,d){return c(a,b)/d(a,b)},"%":function(a,b,c,d){return c(a,b)%d(a,b)},"^":function(a,b,c,d){return c(a,b)^d(a,b)},"=":o,"===":function(a,b,c,d){return c(a,b)===d(a,b)},"!==":function(a,b,c,d){return c(a,b)!==d(a,b)},"==":function(a,b,c,d){return c(a,b)==d(a,b)},"!=":function(a,b,c,d){return c(a,b)!=d(a,b)},"<":function(a,b,c,d){return c(a,b)<d(a,b)},">":function(a,b,c,d){return c(a,b)>d(a,b)},"<=":function(a,b,c,d){return c(a,b)<=d(a,b)},">=":function(a,b,c,d){return c(a,b)>=d(a,b)},"&&":function(a,b,c,d){return c(a,b)&&d(a,b)},"||":function(a,b,c,d){return c(a,b)||d(a,b)},"&":function(a,b,c,d){return c(a,b)&d(a,b)},"|":function(a,b,c,d){return d(a,b)(a,b,c(a,b))},"!":function(a,b,c){return!c(a,b)}},qe={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},re=function(a){this.options=a};re.prototype={constructor:re,lex:function(a){for(this.text=a,this.index=0,this.ch=c,this.lastCh=":",this.tokens=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var b=this.ch+this.peek(),d=b+this.peek(2),e=pe[this.ch],f=pe[b],g=pe[d];g?(this.tokens.push({index:this.index,text:d,fn:g}),this.index+=3):f?(this.tokens.push({index:this.index,text:b,fn:f}),this.index+=2):e?(this.tokens.push({index:this.index,text:this.ch,fn:e}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(a){return-1!==a.indexOf(this.ch)},was:function(a){return-1!==a.indexOf(this.lastCh)},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):!1},isNumber:function(a){return a>="0"&&"9">=a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||" "===a},isIdent:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=s(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw ke("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=od(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}a=1*a,this.tokens.push({index:b,text:a,literal:!0,constant:!0,fn:function(){return a}})},readIdent:function(){for(var a,b,c,d,e=this,f="",g=this.index;this.index<this.text.length&&(d=this.text.charAt(this.index),"."===d||this.isIdent(d)||this.isNumber(d));)"."===d&&(a=this.index),f+=d,this.index++;if(a)for(b=this.index;b<this.text.length;){if(d=this.text.charAt(b),"("===d){c=f.substr(a-g+1),f=f.substr(0,a-g),this.index=b;break}if(!this.isWhitespace(d))break;b++}var h={index:g,text:f};if(pe.hasOwnProperty(f))h.fn=pe[f],h.literal=!0,h.constant=!0;else{var i=yc(f,this.options,this.text);h.fn=l(function(a,b){return i(a,b)},{assign:function(a,b){return uc(a,f,b,e.text,e.options)}})}this.tokens.push(h),c&&(this.tokens.push({index:a,text:"."}),this.tokens.push({index:a+1,text:c}))},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=qe[f];c+=h||f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,string:c,literal:!0,constant:!0,fn:function(){return c}});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var se=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c};se.ZERO=l(function(){return 0},{constant:!0}),se.prototype={constructor:se,parse:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b.literal=!!b.literal,b.constant=!!b.constant,b},primary:function(){var a;if(this.expect("("))a=this.filterChain(),this.consume(")");else if(this.expect("["))a=this.arrayDeclaration();else if(this.expect("{"))a=this.object();else{var b=this.expect();a=b.fn,a||this.throwError("not a primary expression",b),a.literal=!!b.literal,a.constant=!!b.constant}for(var c,d;c=this.expect("(","[",".");)"("===c.text?(a=this.functionCall(a,d),d=null):"["===c.text?(d=a,a=this.objectIndex(a)):"."===c.text?(d=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,b){throw ke("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},peekToken:function(){if(0===this.tokens.length)throw ke("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){if(this.tokens.length>0){var e=this.tokens[0],f=e.text;if(f===a||f===b||f===c||f===d||!a&&!b&&!c&&!d)return e}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return e?(this.tokens.shift(),e):!1},consume:function(a){this.expect(a)||this.throwError("is unexpected, expecting ["+a+"]",this.peek())},unaryFn:function(a,b){return l(function(c,d){return a(c,d,b)},{constant:b.constant})},ternaryFn:function(a,b,c){return l(function(d,e){return a(d,e)?b(d,e):c(d,e)},{constant:a.constant&&b.constant&&c.constant})},binaryFn:function(a,b,c){return l(function(d,e){return b(d,e,a,c)},{constant:a.constant&&c.constant})},statements:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(b,c){for(var d,e=0;e<a.length;e++){var f=a[e];f&&(d=f(b,c))}return d}},filterChain:function(){for(var a,b=this.expression();;){if(!(a=this.expect("|")))return b;b=this.binaryFn(b,a.fn,this.filter())}},filter:function(){for(var a=this.expect(),b=this.$filter(a.text),c=[];;){if(!(a=this.expect(":"))){var d=function(a,d,e){for(var f=[e],g=0;g<c.length;g++)f.push(c[g](a,d));return b.apply(a,f)};return function(){return d}}c.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var a,b,c=this.ternary();return(b=this.expect("="))?(c.assign||this.throwError("implies assignment but ["+this.text.substring(0,b.index)+"] can not be assigned to",b),a=this.ternary(),function(b,d){return c.assign(b,a(b,d),d)}):c},ternary:function(){var a,b,c=this.logicalOR();return(b=this.expect("?"))?(a=this.assignment(),(b=this.expect(":"))?this.ternaryFn(c,a,this.assignment()):void this.throwError("expected :",b)):c},logicalOR:function(){for(var a,b=this.logicalAND();;){if(!(a=this.expect("||")))return b;b=this.binaryFn(b,a.fn,this.logicalAND())}},logicalAND:function(){var a,b=this.equality();return(a=this.expect("&&"))&&(b=this.binaryFn(b,a.fn,this.logicalAND())),b},equality:function(){var a,b=this.relational();return(a=this.expect("==","!=","===","!=="))&&(b=this.binaryFn(b,a.fn,this.equality())),b},relational:function(){var a,b=this.additive();return(a=this.expect("<",">","<=",">="))&&(b=this.binaryFn(b,a.fn,this.relational())),b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b=this.binaryFn(b,a.fn,this.multiplicative());return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b=this.binaryFn(b,a.fn,this.unary());return b},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(se.ZERO,a.fn,this.unary()):(a=this.expect("!"))?this.unaryFn(a.fn,this.unary()):this.primary()},fieldAccess:function(a){var b=this,c=this.expect().text,d=yc(c,this.options,this.text);return l(function(b,c,e){return d(e||a(b,c))},{assign:function(d,e,f){var g=a(d,f);return g||a.assign(d,g={}),uc(g,c,e,b.text,b.options)}})},objectIndex:function(a){var b=this,d=this.expression();return this.consume("]"),l(function(e,f){var g,h,i=a(e,f),j=d(e,f);return rc(j,b.text),i?(g=sc(i[j],b.text),g&&g.then&&b.options.unwrapPromises&&(h=g,"$$v"in g||(h.$$v=c,h.then(function(a){h.$$v=a})),g=g.$$v),g):c},{assign:function(c,e,f){var g=rc(d(c,f),b.text),h=sc(a(c,f),b.text);return h||a.assign(c,h={}),h[g]=e}})},functionCall:function(a,b){var c=[];if(")"!==this.peekToken().text)do c.push(this.expression());while(this.expect(","));this.consume(")");var d=this;return function(e,f){for(var g=[],h=b?b(e,f):e,i=0;i<c.length;i++)g.push(sc(c[i](e,f),d.text));var j=a(e,f,h)||o;sc(h,d.text),tc(j,d.text);var k=j.apply?j.apply(h,g):j(g[0],g[1],g[2],g[3],g[4]);return sc(k,d.text)}},arrayDeclaration:function(){var a=[],b=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var c=this.expression();a.push(c),c.constant||(b=!1)}while(this.expect(","));return this.consume("]"),l(function(b,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e](b,c));return d},{literal:!0,constant:b})},object:function(){var a=[],b=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var c=this.expect(),d=c.string||c.text;this.consume(":");var e=this.expression();a.push({key:d,value:e}),e.constant||(b=!1)}while(this.expect(","));return this.consume("}"),l(function(b,c){for(var d={},e=0;e<a.length;e++){var f=a[e];d[f.key]=f.value(b,c)}return d},{literal:!0,constant:b})}};var te={},ue={},ve=d("$sce"),we={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},xe=b.createElement("a"),ye=Mc(a.location.href,!0);Pc.$inject=["$provide"],Rc.$inject=["$locale"],Sc.$inject=["$locale"];var ze=".",Ae={yyyy:Vc("FullYear",4),yy:Vc("FullYear",2,0,!0),y:Vc("FullYear",1),MMMM:Wc("Month"),MMM:Wc("Month",!0),MM:Vc("Month",2,1),M:Vc("Month",1,1),dd:Vc("Date",2),d:Vc("Date",1),HH:Vc("Hours",2),H:Vc("Hours",1),hh:Vc("Hours",2,-12),h:Vc("Hours",1,-12),mm:Vc("Minutes",2),m:Vc("Minutes",1),ss:Vc("Seconds",2),s:Vc("Seconds",1),sss:Vc("Milliseconds",3),EEEE:Wc("Day"),EEE:Wc("Day",!0),a:Yc,Z:Xc},Be=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Ce=/^\-?\d+$/;Zc.$inject=["$locale"];var De=q(od),Ee=q(qd);ad.$inject=["$parse"];var Fe=q({restrict:"E",compile:function(a,c){return 8>=td&&(c.href||c.name||c.$set("href",""),a.append(b.createComment("IE fix"))),c.href||c.xlinkHref||c.name?void 0:function(a,b){var c="[object SVGAnimatedString]"===Ad.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}),Ge={};f(Wd,function(a,b){if("multiple"!=a){var c=Pb("ng-"+b);Ge[c]=function(){return{priority:100,link:function(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}}}}}),f(["src","srcset","href"],function(a){var b=Pb("ng-"+a);Ge[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===Ad.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){return b?(e.$set(g,b),void(td&&f&&d.prop(f,e[g]))):void("href"===a&&e.$set(g,null))})}}}});var He={$addControl:o,$removeControl:o,$setValidity:o,$setDirty:o,$setPristine:o};cd.$inject=["$element","$attrs","$scope","$animate"];var Ie=function(a){return["$timeout",function(b){var d={name:"form",restrict:a?"EAC":"E",controller:cd,compile:function(){return{pre:function(a,d,e,f){if(!e.action){var g=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};Ld(d[0],"submit",g),d.on("$destroy",function(){b(function(){Md(d[0],"submit",g)},0,!1)})}var h=d.parent().controller("form"),i=e.name||e.ngForm;i&&uc(a,i,f,i),h&&d.on("$destroy",function(){h.$removeControl(f),i&&uc(a,i,c,i),l(f,He)})}}}};return d}]},Je=Ie(),Ke=Ie(!0),Le=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Me=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Ne=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Oe={text:gd,number:hd,url:id,email:jd,radio:kd,checkbox:ld,hidden:o,button:o,submit:o,reset:o,file:o},Pe=["badInput"],Qe=["$browser","$sniffer",function(a,b){return{restrict:"E",require:"?ngModel",link:function(c,d,e,f){f&&(Oe[od(e.type)]||Oe.text)(c,d,e,f,b,a)}}}],Re="ng-valid",Se="ng-invalid",Te="ng-pristine",Ue="ng-dirty",Ve=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(a,b,c,e,g,h){function i(a,b){b=b?"-"+_(b,"-"):"",h.removeClass(e,(a?Se:Re)+b),h.addClass(e,(a?Re:Se)+b)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=c.name;var j=g(c.ngModel),k=j.assign;if(!k)throw d("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",c.ngModel,T(e));this.$render=o,this.$isEmpty=function(a){return r(a)||""===a||null===a||a!==a};var l=e.inheritedData("$formController")||He,m=0,n=this.$error={};e.addClass(Te),i(!0),this.$setValidity=function(a,b){n[a]!==!b&&(b?(n[a]&&m--,m||(i(!0),this.$valid=!0,this.$invalid=!1)):(i(!1),this.$invalid=!0,this.$valid=!1,m++),n[a]=!b,i(b,a),l.$setValidity(a,b,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,h.removeClass(e,Ue),h.addClass(e,Te)},this.$setViewValue=function(c){this.$viewValue=c,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,h.removeClass(e,Te),h.addClass(e,Ue),l.$setDirty()),f(this.$parsers,function(a){c=a(c)}),this.$modelValue!==c&&(this.$modelValue=c,k(a,c),f(this.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}}))};var p=this;a.$watch(function(){var b=j(a);if(p.$modelValue!==b){var c=p.$formatters,d=c.length;for(p.$modelValue=b;d--;)b=c[d](b);p.$viewValue!==b&&(p.$viewValue=b,p.$render())}return b})}],We=function(){return{require:["ngModel","^?form"],controller:Ve,link:function(a,b,c,d){var e=d[0],f=d[1]||He;f.$addControl(e),a.$on("$destroy",function(){f.$removeControl(e)})}}},Xe=q({require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),Ye=function(){return{require:"?ngModel",link:function(a,b,c,d){if(d){c.required=!0;var e=function(a){return c.required&&d.$isEmpty(a)?void d.$setValidity("required",!1):(d.$setValidity("required",!0),a)};d.$formatters.push(e),d.$parsers.unshift(e),c.$observe("required",function(){e(d.$viewValue)})}}}},Ze=function(){return{require:"ngModel",link:function(a,b,d,e){var g=/\/(.*)\//.exec(d.ngList),h=g&&new RegExp(g[1])||d.ngList||",",i=function(a){if(!r(a)){var b=[];return a&&f(a.split(h),function(a){a&&b.push(Fd(a))}),b}};e.$parsers.push(i),e.$formatters.push(function(a){return Ed(a)?a.join(", "):c}),e.$isEmpty=function(a){return!a||!a.length}}}},$e=/^(true|false|\d+)$/,_e=function(){return{priority:100,compile:function(a,b){return $e.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},af=bd({compile:function(a){return a.addClass("ng-binding"),function(a,b,d){b.data("$binding",d.ngBind),a.$watch(d.ngBind,function(a){b.text(a==c?"":a)})}}}),bf=["$interpolate",function(a){return function(b,c,d){var e=a(c.attr(d.$attr.ngBindTemplate));c.addClass("ng-binding").data("$binding",e),d.$observe("ngBindTemplate",function(a){c.text(a)})}}],cf=["$sce","$parse",function(a,b){return{compile:function(c){return c.addClass("ng-binding"),function(c,d,e){function f(){return(g(c)||"").toString()}d.data("$binding",e.ngBindHtml);var g=b(e.ngBindHtml);c.$watch(f,function(){d.html(a.getTrustedHtml(g(c))||"")})}}}}],df=md("",!0),ef=md("Odd",0),ff=md("Even",1),gf=bd({compile:function(a,b){b.$set("ngCloak",c),a.removeClass("ng-cloak")}}),hf=[function(){return{scope:!0,controller:"@",priority:500}}],jf={},kf={blur:!0,focus:!0};f("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=Pb("ng-"+a);jf[b]=["$parse","$rootScope",function(c,d){return{compile:function(e,f){var g=c(f[b],!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};kf[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var lf=["$animate",function(a){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(f){S(f)?i||(i=c.$new(),g(i,function(c){c[c.length++]=b.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)})):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=fb(h.clone),a.leave(j,function(){j=null}),h=null))})}}}],mf=["$http","$templateCache","$anchorScroll","$animate","$sce",function(a,b,c,d,e){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Cd.noop,compile:function(f,g){var h=g.ngInclude||g.src,i=g.onload||"",j=g.autoscroll;return function(f,g,k,l,m){var n,o,p,q=0,r=function(){o&&(o.remove(),o=null),n&&(n.$destroy(),n=null),p&&(d.leave(p,function(){o=null}),o=p,p=null)};f.$watch(e.parseAsResourceUrl(h),function(e){var h=function(){!s(j)||j&&!f.$eval(j)||c()},k=++q;e?(a.get(e,{cache:b}).success(function(a){if(k===q){var b=f.$new();l.template=a;var c=m(b,function(a){r(),d.enter(a,null,g,h)});n=b,p=c,n.$emit("$includeContentLoaded"),f.$eval(i)}}).error(function(){k===q&&r()}),f.$emit("$includeContentRequested")):(r(),l.template=null)})}}}}],nf=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,c,d,e){c.html(e.template),a(c.contents())(b)}}}],of=bd({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),pf=bd({terminal:!0,priority:1e3}),qf=["$locale","$interpolate",function(a,b){var c=/{}/g;return{restrict:"EA",link:function(d,e,g){var h=g.count,i=g.$attr.when&&e.attr(g.$attr.when),j=g.offset||0,k=d.$eval(i)||{},l={},m=b.startSymbol(),n=b.endSymbol(),o=/^when(Minus)?(.+)$/;f(g,function(a,b){o.test(b)&&(k[od(b.replace("when","").replace("Minus","-"))]=e.attr(g.$attr[b]))}),f(k,function(a,d){l[d]=b(a.replace(c,m+h+"-"+j+n))}),d.$watch(function(){var b=parseFloat(d.$eval(h));return isNaN(b)?"":(b in k||(b=a.pluralCat(b-j)),l[b](d,e,!0))},function(a){e.text(a)})}}}],rf=["$parse","$animate",function(a,c){function g(a){return a.clone[0]}function h(a){return a.clone[a.clone.length-1]}var i="$$NG_REMOVED",j=d("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(d,k,l,m,n){var o,p,q,r,s,t,u,v,w,x=l.ngRepeat,y=x.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),z={$id:Eb};if(!y)throw j("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",x);if(t=y[1],u=y[2],o=y[3],o?(p=a(o),q=function(a,b,c){return w&&(z[w]=a),z[v]=b,z.$index=c,p(d,z)}):(r=function(a,b){return Eb(b)},s=function(a){return a}),y=t.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!y)throw j("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",t);v=y[3]||y[1],w=y[2];var A={};d.$watchCollection(u,function(a){var l,m,o,p,t,u,y,z,B,C,D,E,F=k[0],G={},H=[];if(e(a))C=a,B=q||r;else{B=q||s,C=[];for(u in a)a.hasOwnProperty(u)&&"$"!=u.charAt(0)&&C.push(u);C.sort()}for(p=C.length,m=H.length=C.length,l=0;m>l;l++)if(u=a===C?l:C[l],y=a[u],z=B(u,y,l),db(z,"`track by` id"),A.hasOwnProperty(z))D=A[z],delete A[z],G[z]=D,H[l]=D;else{if(G.hasOwnProperty(z))throw f(H,function(a){a&&a.scope&&(A[a.id]=a)}),j("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",x,z,Q(y));H[l]={id:z},G[z]=!1}for(u in A)A.hasOwnProperty(u)&&(D=A[u],E=fb(D.clone),c.leave(E),f(E,function(a){a[i]=!0}),D.scope.$destroy());for(l=0,m=C.length;m>l;l++){if(u=a===C?l:C[l],y=a[u],D=H[l],H[l-1]&&(F=h(H[l-1])),D.scope){t=D.scope,o=F;do o=o.nextSibling;while(o&&o[i]);g(D)!=o&&c.move(fb(D.clone),null,ud(F)),F=h(D)}else t=d.$new();t[v]=y,w&&(t[w]=u),t.$index=l,t.$first=0===l,t.$last=l===p-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&l)),D.scope||n(t,function(a){a[a.length++]=b.createComment(" end ngRepeat: "+x+" "),c.enter(a,null,ud(F)),F=a,D.scope=t,D.clone=a,G[D.id]=D})}A=G})}}}],sf=["$animate",function(a){return function(b,c,d){b.$watch(d.ngShow,function(b){a[S(b)?"removeClass":"addClass"](c,"ng-hide")})}}],tf=["$animate",function(a){return function(b,c,d){b.$watch(d.ngHide,function(b){a[S(b)?"addClass":"removeClass"](c,"ng-hide")})}}],uf=bd(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&f(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),vf=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(b,c,d,e){var g=d.ngSwitch||d.on,h=[],i=[],j=[],k=[];b.$watch(g,function(c){var g,l;for(g=0,l=j.length;l>g;++g)j[g].remove();for(j.length=0,g=0,l=k.length;l>g;++g){var m=i[g];k[g].$destroy(),j[g]=m,a.leave(m,function(){j.splice(g,1)})}i.length=0,k.length=0,(h=e.cases["!"+c]||e.cases["?"])&&(b.$eval(d.change),f(h,function(c){var d=b.$new();k.push(d),c.transclude(d,function(b){var d=c.element;i.push(b),a.enter(b,d.parent(),d)})}))})}}}],wf=bd({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),xf=bd({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),yf=bd({link:function(a,b,c,e,f){if(!f)throw d("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",T(b));f(function(a){b.empty(),b.append(a)})}}),zf=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"==c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],Af=d("ngOptions"),Bf=q({terminal:!0}),Cf=["$compile","$parse",function(a,d){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,h={$setViewValue:o};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,b,c){var d,e,f=this,g={},i=h;f.databound=c.ngModel,f.init=function(a,b,c){i=a,d=b,e=c},f.addOption=function(b){db(b,'"option value"'),g[b]=!0,i.$viewValue==b&&(a.val(b),e.parent()&&e.remove())},f.removeOption=function(a){this.hasOption(a)&&(delete g[a],i.$viewValue==a&&this.renderUnknownOption(a))},f.renderUnknownOption=function(b){var c="? "+Eb(b)+" ?";e.val(c),a.prepend(e),a.val(c),e.prop("selected",!0)},f.hasOption=function(a){return g.hasOwnProperty(a)},b.$on("$destroy",function(){f.renderUnknownOption=o})}],link:function(h,i,j,k){function l(a,b,c,d){c.$render=function(){var a=c.$viewValue;d.hasOption(a)?(y.parent()&&y.remove(),b.val(a),""===a&&o.prop("selected",!0)):r(a)&&o?b.val(""):d.renderUnknownOption(a)},b.on("change",function(){a.$apply(function(){y.parent()&&y.remove(),c.$setViewValue(b.val())})})}function m(a,b,c){var d;c.$render=function(){var a=new Fb(c.$viewValue);f(b.find("option"),function(b){b.selected=s(a.get(b.value))})},a.$watch(function(){L(d,c.$viewValue)||(d=K(c.$viewValue),c.$render())}),b.on("change",function(){a.$apply(function(){var a=[];f(b.find("option"),function(b){b.selected&&a.push(b.value)}),c.$setViewValue(a)})})}function n(b,f,h){function i(){var a=!1;if(t){var c=h.$modelValue;if(z&&Ed(c)){a=new Fb([]);for(var d={},e=0;e<c.length;e++)d[m]=c[e],a.put(z(b,d),c[e])}else a=new Fb(c)}return a}function j(){var a,c,d,e,j,k,u,y,B,C,D,E,F,G,H,I={"":[]},J=[""],K=h.$modelValue,L=r(b)||[],M=n?g(L):L,N={},O=i();for(D=0;B=M.length,B>D;D++){if(u=D,n){if(u=M[D],"$"===u.charAt(0))continue;N[n]=u}if(N[m]=L[u],a=o(b,N)||"",(c=I[a])||(c=I[a]=[],J.push(a)),t)E=s(O.remove(z?z(b,N):q(b,N)));else{if(z){var P={};P[m]=K,E=z(b,P)===z(b,N)}else E=K===q(b,N);O=O||E}H=l(b,N),H=s(H)?H:"",c.push({id:z?z(b,N):n?M[D]:D,label:H,selected:E})}for(t||(v||null===K?I[""].unshift({id:"",label:"",selected:!O}):O||I[""].unshift({id:"?",label:"",selected:!0})),C=0,y=J.length;y>C;C++){for(a=J[C],c=I[a],A.length<=C?(e={element:x.clone().attr("label",a),label:c.label},j=[e],A.push(j),f.append(e.element)):(j=A[C],e=j[0],e.label!=a&&e.element.attr("label",e.label=a)),F=null,D=0,B=c.length;B>D;D++)d=c[D],(k=j[D+1])?(F=k.element,k.label!==d.label&&(F.text(k.label=d.label),F.prop("label",k.label)),k.id!==d.id&&F.val(k.id=d.id),F[0].selected!==d.selected&&(F.prop("selected",k.selected=d.selected),td&&F.prop("selected",k.selected))):(""===d.id&&v?G=v:(G=w.clone()).val(d.id).prop("selected",d.selected).attr("selected",d.selected).prop("label",d.label).text(d.label),j.push(k={element:G,label:d.label,id:d.id,selected:d.selected}),p.addOption(d.label,G),F?F.after(G):e.element.append(G),F=G);for(D++;j.length>D;)d=j.pop(),p.removeOption(d.label),d.element.remove()}for(;A.length>C;)A.pop()[0].element.remove()}var k;if(!(k=u.match(e)))throw Af("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",u,T(f));var l=d(k[2]||k[1]),m=k[4]||k[6],n=k[5],o=d(k[3]||""),q=d(k[2]?k[1]:m),r=d(k[7]),y=k[8],z=y?d(k[8]):null,A=[[{element:f,label:""}]];v&&(a(v)(b),v.removeClass("ng-scope"),v.remove()),f.empty(),f.on("change",function(){b.$apply(function(){var a,d,e,g,i,k,l,o,p,s=r(b)||[],u={};if(t){for(e=[],k=0,o=A.length;o>k;k++)for(a=A[k],i=1,l=a.length;l>i;i++)if((g=a[i].element)[0].selected){if(d=g.val(),n&&(u[n]=d),z)for(p=0;p<s.length&&(u[m]=s[p],z(b,u)!=d);p++);else u[m]=s[d];e.push(q(b,u))}}else if(d=f.val(),"?"==d)e=c;else if(""===d)e=null;else if(z){for(p=0;p<s.length;p++)if(u[m]=s[p],z(b,u)==d){e=q(b,u);break}}else u[m]=s[d],n&&(u[n]=d),e=q(b,u);h.$setViewValue(e),j()})}),h.$render=j,b.$watchCollection(r,j),b.$watchCollection(function(){var a={},c=r(b);if(c){for(var d=new Array(c.length),e=0,f=c.length;f>e;e++)a[m]=c[e],d[e]=l(b,a);return d}},j),t&&b.$watchCollection(function(){return h.$modelValue},j)}if(k[1]){for(var o,p=k[0],q=k[1],t=j.multiple,u=j.ngOptions,v=!1,w=ud(b.createElement("option")),x=ud(b.createElement("optgroup")),y=w.clone(),z=0,A=i.children(),B=A.length;B>z;z++)if(""===A[z].value){o=v=A.eq(z);break}p.init(q,v,y),t&&(q.$isEmpty=function(a){return!a||0===a.length}),u?n(h,i,q):t?m(h,i,q):l(h,i,q,p)}}}}],Df=["$interpolate",function(a){var b={addOption:o,removeOption:o};return{restrict:"E",priority:100,compile:function(c,d){if(r(d.value)){var e=a(c.text(),!0);e||d.$set("value",c.text())}return function(a,c,d){var f="$selectController",g=c.parent(),h=g.data(f)||g.parent().data(f);h&&h.databound?c.prop("selected",!1):h=b,e?a.$watch(e,function(a,b){d.$set("value",a),a!==b&&h.removeOption(b),h.addOption(a)}):h.addOption(d.value),c.on("$destroy",function(){h.removeOption(d.value)})}}}}],Ef=q({restrict:"E",terminal:!0});return a.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ab(),hb(Cd),void ud(b).ready(function(){Z(b,$)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>'),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):"object"==typeof exports?exports.vis=b():a.vis=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){b.util=c(1),b.DOMutil=c(2),b.DataSet=c(3),b.DataView=c(4),b.Queue=c(5),b.Graph3d=c(6),b.graph3d={Camera:c(7),Filter:c(8),Point2d:c(9),Point3d:c(10),Slider:c(11),StepNumber:c(12)},b.Timeline=c(13),b.Graph2d=c(14),b.timeline={DateUtil:c(15),DataStep:c(16),Range:c(17),stack:c(18),TimeStep:c(19),components:{items:{Item:c(31),BackgroundItem:c(32),BoxItem:c(33),PointItem:c(34),RangeItem:c(35)},Component:c(20),CurrentTime:c(21),CustomTime:c(22),DataAxis:c(23),GraphGroup:c(24),Group:c(25),BackgroundGroup:c(26),ItemSet:c(27),Legend:c(28),LineGraph:c(29),TimeAxis:c(30)}},b.Network=c(36),b.network={Edge:c(37),Groups:c(38),Images:c(39),Node:c(40),Popup:c(41),dotparser:c(42),gephiParser:c(43)},b.Graph=function(){throw new Error("Graph is renamed to Network. Please create a graph as new vis.Network(...)")},b.moment=c(44),b.hammer=c(45)},function(module,exports,__webpack_require__){var moment=__webpack_require__(44);exports.isNumber=function(a){return a instanceof Number||"number"==typeof a
},exports.isString=function(a){return a instanceof String||"string"==typeof a},exports.isDate=function(a){if(a instanceof Date)return!0;if(exports.isString(a)){var b=ASPDateRegex.exec(a);if(b)return!0;if(!isNaN(Date.parse(a)))return!0}return!1},exports.isDataTable=function(a){return"undefined"!=typeof google&&google.visualization&&google.visualization.DataTable&&a instanceof google.visualization.DataTable},exports.randomUUID=function(){var a=function(){return Math.floor(65536*Math.random()).toString(16)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},exports.extend=function(a){for(var b=1,c=arguments.length;c>b;b++){var d=arguments[b];for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e])}return a},exports.selectiveExtend=function(a,b){if(!Array.isArray(a))throw new Error("Array with property names expected as first argument");for(var c=2;c<arguments.length;c++)for(var d=arguments[c],e=0;e<a.length;e++){var f=a[e];d.hasOwnProperty(f)&&(b[f]=d[f])}return b},exports.selectiveDeepExtend=function(a,b,c){if(Array.isArray(c))throw new TypeError("Arrays are not supported by deepExtend");for(var d=2;d<arguments.length;d++)for(var e=arguments[d],f=0;f<a.length;f++){var g=a[f];if(e.hasOwnProperty(g))if(c[g]&&c[g].constructor===Object)void 0===b[g]&&(b[g]={}),b[g].constructor===Object?exports.deepExtend(b[g],c[g]):b[g]=c[g];else{if(Array.isArray(c[g]))throw new TypeError("Arrays are not supported by deepExtend");b[g]=c[g]}}return b},exports.selectiveNotDeepExtend=function(a,b,c){if(Array.isArray(c))throw new TypeError("Arrays are not supported by deepExtend");for(var d in c)if(c.hasOwnProperty(d)&&-1==a.indexOf(d))if(c[d]&&c[d].constructor===Object)void 0===b[d]&&(b[d]={}),b[d].constructor===Object?exports.deepExtend(b[d],c[d]):b[d]=c[d];else{if(Array.isArray(c[d]))throw new TypeError("Arrays are not supported by deepExtend");b[d]=c[d]}return b},exports.deepExtend=function(a,b){if(Array.isArray(b))throw new TypeError("Arrays are not supported by deepExtend");for(var c in b)if(b.hasOwnProperty(c))if(b[c]&&b[c].constructor===Object)void 0===a[c]&&(a[c]={}),a[c].constructor===Object?exports.deepExtend(a[c],b[c]):a[c]=b[c];else{if(Array.isArray(b[c]))throw new TypeError("Arrays are not supported by deepExtend");a[c]=b[c]}return a},exports.equalArray=function(a,b){if(a.length!=b.length)return!1;for(var c=0,d=a.length;d>c;c++)if(a[c]!=b[c])return!1;return!0},exports.convert=function(a,b){var c;if(void 0===a)return void 0;if(null===a)return null;if(!b)return a;if("string"!=typeof b&&!(b instanceof String))throw new Error("Type must be a string");switch(b){case"boolean":case"Boolean":return Boolean(a);case"number":case"Number":return Number(a.valueOf());case"string":case"String":return String(a);case"Date":if(exports.isNumber(a))return new Date(a);if(a instanceof Date)return new Date(a.valueOf());if(moment.isMoment(a))return new Date(a.valueOf());if(exports.isString(a))return c=ASPDateRegex.exec(a),c?new Date(Number(c[1])):moment(a).toDate();throw new Error("Cannot convert object of type "+exports.getType(a)+" to type Date");case"Moment":if(exports.isNumber(a))return moment(a);if(a instanceof Date)return moment(a.valueOf());if(moment.isMoment(a))return moment(a);if(exports.isString(a))return c=ASPDateRegex.exec(a),moment(c?Number(c[1]):a);throw new Error("Cannot convert object of type "+exports.getType(a)+" to type Date");case"ISODate":if(exports.isNumber(a))return new Date(a);if(a instanceof Date)return a.toISOString();if(moment.isMoment(a))return a.toDate().toISOString();if(exports.isString(a))return c=ASPDateRegex.exec(a),c?new Date(Number(c[1])).toISOString():new Date(a).toISOString();throw new Error("Cannot convert object of type "+exports.getType(a)+" to type ISODate");case"ASPDate":if(exports.isNumber(a))return"/Date("+a+")/";if(a instanceof Date)return"/Date("+a.valueOf()+")/";if(exports.isString(a)){c=ASPDateRegex.exec(a);var d;return d=c?new Date(Number(c[1])).valueOf():new Date(a).valueOf(),"/Date("+d+")/"}throw new Error("Cannot convert object of type "+exports.getType(a)+" to type ASPDate");default:throw new Error('Unknown type "'+b+'"')}};var ASPDateRegex=/^\/?Date\((\-?\d+)/i;exports.getType=function(a){var b=typeof a;return"object"==b?null==a?"null":a instanceof Boolean?"Boolean":a instanceof Number?"Number":a instanceof String?"String":Array.isArray(a)?"Array":a instanceof Date?"Date":"Object":"number"==b?"Number":"boolean"==b?"Boolean":"string"==b?"String":b},exports.getAbsoluteLeft=function(a){return a.getBoundingClientRect().left+window.pageXOffset},exports.getAbsoluteTop=function(a){return a.getBoundingClientRect().top+window.pageYOffset},exports.addClassName=function(a,b){var c=a.className.split(" ");-1==c.indexOf(b)&&(c.push(b),a.className=c.join(" "))},exports.removeClassName=function(a,b){var c=a.className.split(" "),d=c.indexOf(b);-1!=d&&(c.splice(d,1),a.className=c.join(" "))},exports.forEach=function(a,b){var c,d;if(Array.isArray(a))for(c=0,d=a.length;d>c;c++)b(a[c],c,a);else for(c in a)a.hasOwnProperty(c)&&b(a[c],c,a)},exports.toArray=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b},exports.updateProperty=function(a,b,c){return a[b]!==c?(a[b]=c,!0):!1},exports.addEventListener=function(a,b,c,d){a.addEventListener?(void 0===d&&(d=!1),"mousewheel"===b&&navigator.userAgent.indexOf("Firefox")>=0&&(b="DOMMouseScroll"),a.addEventListener(b,c,d)):a.attachEvent("on"+b,c)},exports.removeEventListener=function(a,b,c,d){a.removeEventListener?(void 0===d&&(d=!1),"mousewheel"===b&&navigator.userAgent.indexOf("Firefox")>=0&&(b="DOMMouseScroll"),a.removeEventListener(b,c,d)):a.detachEvent("on"+b,c)},exports.preventDefault=function(a){a||(a=window.event),a.preventDefault?a.preventDefault():a.returnValue=!1},exports.getTarget=function(a){a||(a=window.event);var b;return a.target?b=a.target:a.srcElement&&(b=a.srcElement),void 0!=b.nodeType&&3==b.nodeType&&(b=b.parentNode),b},exports.option={},exports.option.asBoolean=function(a,b){return"function"==typeof a&&(a=a()),null!=a?0!=a:b||null},exports.option.asNumber=function(a,b){return"function"==typeof a&&(a=a()),null!=a?Number(a)||b||null:b||null},exports.option.asString=function(a,b){return"function"==typeof a&&(a=a()),null!=a?String(a):b||null},exports.option.asSize=function(a,b){return"function"==typeof a&&(a=a()),exports.isString(a)?a:exports.isNumber(a)?a+"px":b||null},exports.option.asElement=function(a,b){return"function"==typeof a&&(a=a()),a||b||null},exports.GiveDec=function(Hex){var Value;return Value="A"==Hex?10:"B"==Hex?11:"C"==Hex?12:"D"==Hex?13:"E"==Hex?14:"F"==Hex?15:eval(Hex)},exports.GiveHex=function(a){var b;return b=10==a?"A":11==a?"B":12==a?"C":13==a?"D":14==a?"E":15==a?"F":""+a},exports.parseColor=function(a){var b;if(exports.isString(a)){if(exports.isValidRGB(a)){var c=a.substr(4).substr(0,a.length-5).split(",");a=exports.RGBToHex(c[0],c[1],c[2])}if(exports.isValidHex(a)){var d=exports.hexToHSV(a),e={h:d.h,s:.45*d.s,v:Math.min(1,1.05*d.v)},f={h:d.h,s:Math.min(1,1.25*d.v),v:.6*d.v},g=exports.HSVToHex(f.h,f.h,f.v),h=exports.HSVToHex(e.h,e.s,e.v);b={background:a,border:g,highlight:{background:h,border:g},hover:{background:h,border:g}}}else b={background:a,border:a,highlight:{background:a,border:a},hover:{background:a,border:a}}}else b={},b.background=a.background||"white",b.border=a.border||b.background,exports.isString(a.highlight)?b.highlight={border:a.highlight,background:a.highlight}:(b.highlight={},b.highlight.background=a.highlight&&a.highlight.background||b.background,b.highlight.border=a.highlight&&a.highlight.border||b.border),exports.isString(a.hover)?b.hover={border:a.hover,background:a.hover}:(b.hover={},b.hover.background=a.hover&&a.hover.background||b.background,b.hover.border=a.hover&&a.hover.border||b.border);return b},exports.hexToRGB=function(a){a=a.replace("#","").toUpperCase();var b=exports.GiveDec(a.substring(0,1)),c=exports.GiveDec(a.substring(1,2)),d=exports.GiveDec(a.substring(2,3)),e=exports.GiveDec(a.substring(3,4)),f=exports.GiveDec(a.substring(4,5)),g=exports.GiveDec(a.substring(5,6)),h=16*b+c,i=16*d+e,c=16*f+g;return{r:h,g:i,b:c}},exports.RGBToHex=function(a,b,c){var d=exports.GiveHex(Math.floor(a/16)),e=exports.GiveHex(a%16),f=exports.GiveHex(Math.floor(b/16)),g=exports.GiveHex(b%16),h=exports.GiveHex(Math.floor(c/16)),i=exports.GiveHex(c%16),j=d+e+f+g+h+i;return"#"+j},exports.RGBToHSV=function(a,b,c){a/=255,b/=255,c/=255;var d=Math.min(a,Math.min(b,c)),e=Math.max(a,Math.max(b,c));if(d==e)return{h:0,s:0,v:d};var f=a==d?b-c:c==d?a-b:c-a,g=a==d?3:c==d?1:5,h=60*(g-f/(e-d))/360,i=(e-d)/e,j=e;return{h:h,s:i,v:j}};var cssUtil={split:function(a){var b={};return a.split(";").forEach(function(a){if(""!=a.trim()){var c=a.split(":"),d=c[0].trim(),e=c[1].trim();b[d]=e}}),b},join:function(a){return Object.keys(a).map(function(b){return b+": "+a[b]}).join("; ")}};exports.addCssText=function(a,b){var c=cssUtil.split(a.style.cssText),d=cssUtil.split(b),e=exports.extend(c,d);a.style.cssText=cssUtil.join(e)},exports.removeCssText=function(a,b){var c=cssUtil.split(a.style.cssText),d=cssUtil.split(b);for(var e in d)d.hasOwnProperty(e)&&delete c[e];a.style.cssText=cssUtil.join(c)},exports.HSVToRGB=function(a,b,c){var d,e,f,g=Math.floor(6*a),h=6*a-g,i=c*(1-b),j=c*(1-h*b),k=c*(1-(1-h)*b);switch(g%6){case 0:d=c,e=k,f=i;break;case 1:d=j,e=c,f=i;break;case 2:d=i,e=c,f=k;break;case 3:d=i,e=j,f=c;break;case 4:d=k,e=i,f=c;break;case 5:d=c,e=i,f=j}return{r:Math.floor(255*d),g:Math.floor(255*e),b:Math.floor(255*f)}},exports.HSVToHex=function(a,b,c){var d=exports.HSVToRGB(a,b,c);return exports.RGBToHex(d.r,d.g,d.b)},exports.hexToHSV=function(a){var b=exports.hexToRGB(a);return exports.RGBToHSV(b.r,b.g,b.b)},exports.isValidHex=function(a){var b=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a);return b},exports.isValidRGB=function(a){a=a.replace(" ","");var b=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(a);return b},exports.selectiveBridgeObject=function(a,b){if("object"==typeof b){for(var c=Object.create(b),d=0;d<a.length;d++)b.hasOwnProperty(a[d])&&"object"==typeof b[a[d]]&&(c[a[d]]=exports.bridgeObject(b[a[d]]));return c}return null},exports.bridgeObject=function(a){if("object"==typeof a){var b=Object.create(a);for(var c in a)a.hasOwnProperty(c)&&"object"==typeof a[c]&&(b[c]=exports.bridgeObject(a[c]));return b}return null},exports.mergeOptions=function(a,b,c){if(void 0!==b[c])if("boolean"==typeof b[c])a[c].enabled=b[c];else{a[c].enabled=!0;for(var d in b[c])b[c].hasOwnProperty(d)&&(a[c][d]=b[c][d])}},exports.binarySearchCustom=function(a,b,c,d){for(var e=1e4,f=0,g=0,h=a.length-1;h>=g&&e>f;){var i=Math.floor((g+h)/2),j=a[i],k=void 0===d?j[c]:j[c][d],l=b(k);if(0==l)return i;-1==l?g=i+1:h=i-1,f++}return-1},exports.binarySearchValue=function(a,b,c,d){for(var e,f,g,h,i=1e4,j=0,k=0,l=a.length-1;l>=k&&i>j;){if(h=Math.floor(.5*(l+k)),e=a[Math.max(0,h-1)][c],f=a[h][c],g=a[Math.min(a.length-1,h+1)][c],f==b)return h;if(b>e&&f>b)return"before"==d?Math.max(0,h-1):h;if(b>f&&g>b)return"before"==d?h:Math.min(a.length-1,h+1);b>f?k=h+1:l=h-1,j++}return-1},exports.easeInOutQuad=function(a,b,c,d){var e=c-b;return a/=d/2,1>a?e/2*a*a+b:(a--,-e/2*(a*(a-2)-1)+b)},exports.easingFunctions={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return a*(2-a)},easeInOutQuad:function(a){return.5>a?2*a*a:-1+(4-2*a)*a},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1- --a*a*a*a},easeInOutQuart:function(a){return.5>a?8*a*a*a*a:1-8*--a*a*a*a},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return 1+--a*a*a*a*a},easeInOutQuint:function(a){return.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}}},function(a,b){b.prepareElements=function(a){for(var b in a)a.hasOwnProperty(b)&&(a[b].redundant=a[b].used,a[b].used=[])},b.cleanupElements=function(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b].redundant){for(var c=0;c<a[b].redundant.length;c++)a[b].redundant[c].parentNode.removeChild(a[b].redundant[c]);a[b].redundant=[]}},b.getSVGElement=function(a,b,c){var d;return b.hasOwnProperty(a)?b[a].redundant.length>0?(d=b[a].redundant[0],b[a].redundant.shift()):(d=document.createElementNS("http://www.w3.org/2000/svg",a),c.appendChild(d)):(d=document.createElementNS("http://www.w3.org/2000/svg",a),b[a]={used:[],redundant:[]},c.appendChild(d)),b[a].used.push(d),d},b.getDOMElement=function(a,b,c,d){var e;return b.hasOwnProperty(a)?b[a].redundant.length>0?(e=b[a].redundant[0],b[a].redundant.shift()):(e=document.createElement(a),void 0!==d?c.insertBefore(e,d):c.appendChild(e)):(e=document.createElement(a),b[a]={used:[],redundant:[]},void 0!==d?c.insertBefore(e,d):c.appendChild(e)),b[a].used.push(e),e},b.drawPoint=function(a,c,d,e,f){var g;return"circle"==d.options.drawPoints.style?(g=b.getSVGElement("circle",e,f),g.setAttributeNS(null,"cx",a),g.setAttributeNS(null,"cy",c),g.setAttributeNS(null,"r",.5*d.options.drawPoints.size)):(g=b.getSVGElement("rect",e,f),g.setAttributeNS(null,"x",a-.5*d.options.drawPoints.size),g.setAttributeNS(null,"y",c-.5*d.options.drawPoints.size),g.setAttributeNS(null,"width",d.options.drawPoints.size),g.setAttributeNS(null,"height",d.options.drawPoints.size)),void 0!==d.options.drawPoints.styles&&g.setAttributeNS(null,"style",d.group.options.drawPoints.styles),g.setAttributeNS(null,"class",d.className+" point"),g},b.drawBar=function(a,c,d,e,f,g,h){if(0!=e){0>e&&(e*=-1,c-=e);var i=b.getSVGElement("rect",g,h);i.setAttributeNS(null,"x",a-.5*d),i.setAttributeNS(null,"y",c),i.setAttributeNS(null,"width",d),i.setAttributeNS(null,"height",e),i.setAttributeNS(null,"class",f)}}},function(a,b,c){function d(a,b){if(!a||Array.isArray(a)||e.isDataTable(a)||(b=a,a=null),this._options=b||{},this._data={},this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var c in this._options.type)if(this._options.type.hasOwnProperty(c)){var d=this._options.type[c];this._type[c]="Date"==d||"ISODate"==d||"ASPDate"==d?"Date":d}if(this._options.convert)throw new Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={},a&&this.add(a),this.setOptions(b)}var e=c(1),f=c(5);d.prototype.setOptions=function(a){a&&void 0!==a.queue&&(a.queue===!1?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=f.extend(this,{replace:["add","update","remove"]})),"object"==typeof a.queue&&this._queue.setOptions(a.queue)))},d.prototype.on=function(a,b){var c=this._subscribers[a];c||(c=[],this._subscribers[a]=c),c.push({callback:b})},d.prototype.subscribe=d.prototype.on,d.prototype.off=function(a,b){var c=this._subscribers[a];c&&(this._subscribers[a]=c.filter(function(a){return a.callback!=b}))},d.prototype.unsubscribe=d.prototype.off,d.prototype._trigger=function(a,b,c){if("*"==a)throw new Error("Cannot trigger event *");var d=[];a in this._subscribers&&(d=d.concat(this._subscribers[a])),"*"in this._subscribers&&(d=d.concat(this._subscribers["*"]));for(var e=0;e<d.length;e++){var f=d[e];f.callback&&f.callback(a,b,c||null)}},d.prototype.add=function(a,b){var c,d=[],f=this;if(Array.isArray(a))for(var g=0,h=a.length;h>g;g++)c=f._addItem(a[g]),d.push(c);else if(e.isDataTable(a))for(var i=this._getColumnNames(a),j=0,k=a.getNumberOfRows();k>j;j++){for(var l={},m=0,n=i.length;n>m;m++){var o=i[m];l[o]=a.getValue(j,m)}c=f._addItem(l),d.push(c)}else{if(!(a instanceof Object))throw new Error("Unknown dataType");c=f._addItem(a),d.push(c)}return d.length&&this._trigger("add",{items:d},b),d},d.prototype.update=function(a,b){var c=[],d=[],f=[],g=this,h=g._fieldId,i=function(a){var b=a[h];g._data[b]?(b=g._updateItem(a),d.push(b),f.push(a)):(b=g._addItem(a),c.push(b))};if(Array.isArray(a))for(var j=0,k=a.length;k>j;j++)i(a[j]);else if(e.isDataTable(a))for(var l=this._getColumnNames(a),m=0,n=a.getNumberOfRows();n>m;m++){for(var o={},p=0,q=l.length;q>p;p++){var r=l[p];o[r]=a.getValue(m,p)}i(o)}else{if(!(a instanceof Object))throw new Error("Unknown dataType");i(a)}return c.length&&this._trigger("add",{items:c},b),d.length&&this._trigger("update",{items:d,data:f},b),c.concat(d)},d.prototype.get=function(){var a,b,c,d,f=this,g=e.getType(arguments[0]);"String"==g||"Number"==g?(a=arguments[0],c=arguments[1],d=arguments[2]):"Array"==g?(b=arguments[0],c=arguments[1],d=arguments[2]):(c=arguments[0],d=arguments[1]);var h;if(c&&c.returnType){var i=["DataTable","Array","Object"];if(h=-1==i.indexOf(c.returnType)?"Array":c.returnType,d&&h!=e.getType(d))throw new Error('Type of parameter "data" ('+e.getType(d)+") does not correspond with specified options.type ("+c.type+")");if("DataTable"==h&&!e.isDataTable(d))throw new Error('Parameter "data" must be a DataTable when options.type is "DataTable"')}else h=d&&"DataTable"==e.getType(d)?"DataTable":"Array";var j,k,l,m,n=c&&c.type||this._options.type,o=c&&c.filter,p=[];if(void 0!=a)j=f._getItem(a,n),o&&!o(j)&&(j=null);else if(void 0!=b)for(l=0,m=b.length;m>l;l++)j=f._getItem(b[l],n),(!o||o(j))&&p.push(j);else for(k in this._data)this._data.hasOwnProperty(k)&&(j=f._getItem(k,n),(!o||o(j))&&p.push(j));if(c&&c.order&&void 0==a&&this._sort(p,c.order),c&&c.fields){var q=c.fields;if(void 0!=a)j=this._filterFields(j,q);else for(l=0,m=p.length;m>l;l++)p[l]=this._filterFields(p[l],q)}if("DataTable"==h){var r=this._getColumnNames(d);if(void 0!=a)f._appendRow(d,r,j);else for(l=0;l<p.length;l++)f._appendRow(d,r,p[l]);return d}if("Object"==h){var s={};for(l=0;l<p.length;l++)s[p[l].id]=p[l];return s}if(void 0!=a)return j;if(d){for(l=0,m=p.length;m>l;l++)d.push(p[l]);return d}return p},d.prototype.getIds=function(a){var b,c,d,e,f,g=this._data,h=a&&a.filter,i=a&&a.order,j=a&&a.type||this._options.type,k=[];if(h)if(i){f=[];for(d in g)g.hasOwnProperty(d)&&(e=this._getItem(d,j),h(e)&&f.push(e));for(this._sort(f,i),b=0,c=f.length;c>b;b++)k[b]=f[b][this._fieldId]}else for(d in g)g.hasOwnProperty(d)&&(e=this._getItem(d,j),h(e)&&k.push(e[this._fieldId]));else if(i){f=[];for(d in g)g.hasOwnProperty(d)&&f.push(g[d]);for(this._sort(f,i),b=0,c=f.length;c>b;b++)k[b]=f[b][this._fieldId]}else for(d in g)g.hasOwnProperty(d)&&(e=g[d],k.push(e[this._fieldId]));return k},d.prototype.getDataSet=function(){return this},d.prototype.forEach=function(a,b){var c,d,e=b&&b.filter,f=b&&b.type||this._options.type,g=this._data;if(b&&b.order)for(var h=this.get(b),i=0,j=h.length;j>i;i++)c=h[i],d=c[this._fieldId],a(c,d);else for(d in g)g.hasOwnProperty(d)&&(c=this._getItem(d,f),(!e||e(c))&&a(c,d))},d.prototype.map=function(a,b){var c,d=b&&b.filter,e=b&&b.type||this._options.type,f=[],g=this._data;for(var h in g)g.hasOwnProperty(h)&&(c=this._getItem(h,e),(!d||d(c))&&f.push(a(c,h)));return b&&b.order&&this._sort(f,b.order),f},d.prototype._filterFields=function(a,b){var c={};for(var d in a)a.hasOwnProperty(d)&&-1!=b.indexOf(d)&&(c[d]=a[d]);return c},d.prototype._sort=function(a,b){if(e.isString(b)){var c=b;a.sort(function(a,b){var d=a[c],e=b[c];return d>e?1:e>d?-1:0})}else{if("function"!=typeof b)throw new TypeError("Order must be a function or a string");a.sort(b)}},d.prototype.remove=function(a,b){var c,d,e,f=[];if(Array.isArray(a))for(c=0,d=a.length;d>c;c++)e=this._remove(a[c]),null!=e&&f.push(e);else e=this._remove(a),null!=e&&f.push(e);return f.length&&this._trigger("remove",{items:f},b),f},d.prototype._remove=function(a){if(e.isNumber(a)||e.isString(a)){if(this._data[a])return delete this._data[a],a}else if(a instanceof Object){var b=a[this._fieldId];if(b&&this._data[b])return delete this._data[b],b}return null},d.prototype.clear=function(a){var b=Object.keys(this._data);return this._data={},this._trigger("remove",{items:b},a),b},d.prototype.max=function(a){var b=this._data,c=null,d=null;for(var e in b)if(b.hasOwnProperty(e)){var f=b[e],g=f[a];null!=g&&(!c||g>d)&&(c=f,d=g)}return c},d.prototype.min=function(a){var b=this._data,c=null,d=null;for(var e in b)if(b.hasOwnProperty(e)){var f=b[e],g=f[a];null!=g&&(!c||d>g)&&(c=f,d=g)}return c},d.prototype.distinct=function(a){var b,c=this._data,d=[],f=this._options.type&&this._options.type[a]||null,g=0;for(var h in c)if(c.hasOwnProperty(h)){var i=c[h],j=i[a],k=!1;for(b=0;g>b;b++)if(d[b]==j){k=!0;break}k||void 0===j||(d[g]=j,g++)}if(f)for(b=0;b<d.length;b++)d[b]=e.convert(d[b],f);return d},d.prototype._addItem=function(a){var b=a[this._fieldId];if(void 0!=b){if(this._data[b])throw new Error("Cannot add item: item with id "+b+" already exists")}else b=e.randomUUID(),a[this._fieldId]=b;var c={};for(var d in a)if(a.hasOwnProperty(d)){var f=this._type[d];c[d]=e.convert(a[d],f)}return this._data[b]=c,b},d.prototype._getItem=function(a,b){var c,d,f=this._data[a];if(!f)return null;var g={};if(b)for(c in f)f.hasOwnProperty(c)&&(d=f[c],g[c]=e.convert(d,b[c]));else for(c in f)f.hasOwnProperty(c)&&(d=f[c],g[c]=d);return g},d.prototype._updateItem=function(a){var b=a[this._fieldId];if(void 0==b)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(a)+")");var c=this._data[b];if(!c)throw new Error("Cannot update item: no item with id "+b+" found");for(var d in a)if(a.hasOwnProperty(d)){var f=this._type[d];c[d]=e.convert(a[d],f)}return b},d.prototype._getColumnNames=function(a){for(var b=[],c=0,d=a.getNumberOfColumns();d>c;c++)b[c]=a.getColumnId(c)||a.getColumnLabel(c);return b},d.prototype._appendRow=function(a,b,c){for(var d=a.addRow(),e=0,f=b.length;f>e;e++){var g=b[e];a.setValue(d,e,c[g])}},a.exports=d},function(a,b,c){function d(a,b){this._data=null,this._ids={},this._options=b||{},this._fieldId="id",this._subscribers={};var c=this;this.listener=function(){c._onEvent.apply(c,arguments)},this.setData(a)}var e=c(1),f=c(3);d.prototype.setData=function(a){var b,c,d;if(this._data){this._data.unsubscribe&&this._data.unsubscribe("*",this.listener),b=[];for(var e in this._ids)this._ids.hasOwnProperty(e)&&b.push(e);this._ids={},this._trigger("remove",{items:b})}if(this._data=a,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",b=this._data.getIds({filter:this._options&&this._options.filter}),c=0,d=b.length;d>c;c++)e=b[c],this._ids[e]=!0;this._trigger("add",{items:b}),this._data.on&&this._data.on("*",this.listener)}},d.prototype.get=function(){var a,b,c,d=this,f=e.getType(arguments[0]);"String"==f||"Number"==f||"Array"==f?(a=arguments[0],b=arguments[1],c=arguments[2]):(b=arguments[0],c=arguments[1]);var g=e.extend({},this._options,b);this._options.filter&&b&&b.filter&&(g.filter=function(a){return d._options.filter(a)&&b.filter(a)});var h=[];return void 0!=a&&h.push(a),h.push(g),h.push(c),this._data&&this._data.get.apply(this._data,h)},d.prototype.getIds=function(a){var b;if(this._data){var c,d=this._options.filter;c=a&&a.filter?d?function(b){return d(b)&&a.filter(b)}:a.filter:d,b=this._data.getIds({filter:c,order:a&&a.order})}else b=[];return b},d.prototype.getDataSet=function(){for(var a=this;a instanceof d;)a=a._data;return a||null},d.prototype._onEvent=function(a,b,c){var d,e,f,g,h=b&&b.items,i=this._data,j=[],k=[],l=[];if(h&&i){switch(a){case"add":for(d=0,e=h.length;e>d;d++)f=h[d],g=this.get(f),g&&(this._ids[f]=!0,j.push(f));break;case"update":for(d=0,e=h.length;e>d;d++)f=h[d],g=this.get(f),g?this._ids[f]?k.push(f):(this._ids[f]=!0,j.push(f)):this._ids[f]&&(delete this._ids[f],l.push(f));break;case"remove":for(d=0,e=h.length;e>d;d++)f=h[d],this._ids[f]&&(delete this._ids[f],l.push(f))}j.length&&this._trigger("add",{items:j},c),k.length&&this._trigger("update",{items:k},c),l.length&&this._trigger("remove",{items:l},c)}},d.prototype.on=f.prototype.on,d.prototype.off=f.prototype.off,d.prototype._trigger=f.prototype._trigger,d.prototype.subscribe=d.prototype.on,d.prototype.unsubscribe=d.prototype.off,a.exports=d},function(a){function b(a){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(a)}b.prototype.setOptions=function(a){a&&"undefined"!=typeof a.delay&&(this.delay=a.delay),a&&"undefined"!=typeof a.max&&(this.max=a.max),this._flushIfNeeded()},b.extend=function(a,c){var d=new b(c);if(void 0!==a.flush)throw new Error("Target object already has a property flush");a.flush=function(){d.flush()};var e=[{name:"flush",original:void 0}];if(c&&c.replace)for(var f=0;f<c.replace.length;f++){var g=c.replace[f];e.push({name:g,original:a[g]}),d.replace(a,g)}return d._extended={object:a,methods:e},d},b.prototype.destroy=function(){if(this.flush(),this._extended){for(var a=this._extended.object,b=this._extended.methods,c=0;c<b.length;c++){var d=b[c];d.original?a[d.name]=d.original:delete a[d.name]}this._extended=null}},b.prototype.replace=function(a,b){var c=this,d=a[b];if(!d)throw new Error("Method "+b+" undefined");a[b]=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];c.queue({args:a,fn:d,context:this})}},b.prototype.queue=function(a){this._queue.push("function"==typeof a?{fn:a}:a),this._flushIfNeeded()},b.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var a=this;this._timeout=setTimeout(function(){a.flush()},this.delay)}},b.prototype.flush=function(){for(;this._queue.length>0;){var a=this._queue.shift();a.fn.apply(a.context||a.fn,a.args||[])}},a.exports=b},function(a,b,c){function d(a,b,c){if(!(this instanceof d))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=a,this.width="400px",this.height="400px",this.margin=10,this.defaultXCenter="55%",this.defaultYCenter="50%",this.xLabel="x",this.yLabel="y",this.zLabel="z";var e=function(a){return a};this.xValueLabel=e,this.yValueLabel=e,this.zValueLabel=e,this.filterLabel="time",this.legendLabel="value",this.style=d.STYLE.DOT,this.showPerspective=!0,this.showGrid=!0,this.keepAspectRatio=!0,this.showShadow=!1,this.showGrayBottom=!1,this.showTooltip=!1,this.verticalRatio=.5,this.animationInterval=1e3,this.animationPreload=!1,this.camera=new m,this.eye=new k(0,0,-1),this.dataTable=null,this.dataPoints=null,this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.colFilter=void 0,this.xMin=0,this.xStep=void 0,this.xMax=1,this.yMin=0,this.yStep=void 0,this.yMax=1,this.zMin=0,this.zStep=void 0,this.zMax=1,this.valueMin=0,this.valueMax=1,this.xBarWidth=1,this.yBarWidth=1,this.colorAxis="#4D4D4D",this.colorGrid="#D3D3D3",this.colorDot="#7DC1FF",this.colorDotBorder="#3267D2",this.create(),this.setOptions(c),b&&this.setData(b)}function e(a){return"clientX"in a?a.clientX:a.targetTouches[0]&&a.targetTouches[0].clientX||0}function f(a){return"clientY"in a?a.clientY:a.targetTouches[0]&&a.targetTouches[0].clientY||0}var g=c(56),h=c(3),i=c(4),j=c(1),k=c(10),l=c(9),m=c(7),n=c(8),o=c(11),p=c(12);g(d.prototype),d.prototype._setScale=function(){this.scale=new k(1/(this.xMax-this.xMin),1/(this.yMax-this.yMin),1/(this.zMax-this.zMin)),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,this.scale.value=1/(this.valueMax-this.valueMin);var a=(this.xMax+this.xMin)/2*this.scale.x,b=(this.yMax+this.yMin)/2*this.scale.y,c=(this.zMax+this.zMin)/2*this.scale.z;this.camera.setArmLocation(a,b,c)},d.prototype._convert3Dto2D=function(a){var b=this._convertPointToTranslation(a);return this._convertTranslationToScreen(b)},d.prototype._convertPointToTranslation=function(a){var b=a.x*this.scale.x,c=a.y*this.scale.y,d=a.z*this.scale.z,e=this.camera.getCameraLocation().x,f=this.camera.getCameraLocation().y,g=this.camera.getCameraLocation().z,h=Math.sin(this.camera.getCameraRotation().x),i=Math.cos(this.camera.getCameraRotation().x),j=Math.sin(this.camera.getCameraRotation().y),l=Math.cos(this.camera.getCameraRotation().y),m=Math.sin(this.camera.getCameraRotation().z),n=Math.cos(this.camera.getCameraRotation().z),o=l*(m*(c-f)+n*(b-e))-j*(d-g),p=h*(l*(d-g)+j*(m*(c-f)+n*(b-e)))+i*(n*(c-f)-m*(b-e)),q=i*(l*(d-g)+j*(m*(c-f)+n*(b-e)))-h*(n*(c-f)-m*(b-e));return new k(o,p,q)},d.prototype._convertTranslationToScreen=function(a){var b,c,d=this.eye.x,e=this.eye.y,f=this.eye.z,g=a.x,h=a.y,i=a.z;return this.showPerspective?(b=(g-d)*(f/i),c=(h-e)*(f/i)):(b=g*-(f/this.camera.getArmLength()),c=h*-(f/this.camera.getArmLength())),new l(this.xcenter+b*this.frame.canvas.clientWidth,this.ycenter-c*this.frame.canvas.clientWidth)},d.prototype._setBackgroundColor=function(a){var b="white",c="gray",d=1;if("string"==typeof a)b=a,c="none",d=0;else if("object"==typeof a)void 0!==a.fill&&(b=a.fill),void 0!==a.stroke&&(c=a.stroke),void 0!==a.strokeWidth&&(d=a.strokeWidth);else if(void 0!==a)throw"Unsupported type of backgroundColor";this.frame.style.backgroundColor=b,this.frame.style.borderColor=c,this.frame.style.borderWidth=d+"px",this.frame.style.borderStyle="solid"},d.STYLE={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},d.prototype._getStyleNumber=function(a){switch(a){case"dot":return d.STYLE.DOT;case"dot-line":return d.STYLE.DOTLINE;case"dot-color":return d.STYLE.DOTCOLOR;case"dot-size":return d.STYLE.DOTSIZE;case"line":return d.STYLE.LINE;case"grid":return d.STYLE.GRID;case"surface":return d.STYLE.SURFACE;case"bar":return d.STYLE.BAR;case"bar-color":return d.STYLE.BARCOLOR;case"bar-size":return d.STYLE.BARSIZE}return-1},d.prototype._determineColumnIndexes=function(a){if(this.style===d.STYLE.DOT||this.style===d.STYLE.DOTLINE||this.style===d.STYLE.LINE||this.style===d.STYLE.GRID||this.style===d.STYLE.SURFACE||this.style===d.STYLE.BAR)this.colX=0,this.colY=1,this.colZ=2,this.colValue=void 0,a.getNumberOfColumns()>3&&(this.colFilter=3);else{if(this.style!==d.STYLE.DOTCOLOR&&this.style!==d.STYLE.DOTSIZE&&this.style!==d.STYLE.BARCOLOR&&this.style!==d.STYLE.BARSIZE)throw'Unknown style "'+this.style+'"';this.colX=0,this.colY=1,this.colZ=2,this.colValue=3,a.getNumberOfColumns()>4&&(this.colFilter=4)}},d.prototype.getNumberOfRows=function(a){return a.length},d.prototype.getNumberOfColumns=function(a){var b=0;for(var c in a[0])a[0].hasOwnProperty(c)&&b++;return b},d.prototype.getDistinctValues=function(a,b){for(var c=[],d=0;d<a.length;d++)-1==c.indexOf(a[d][b])&&c.push(a[d][b]);return c},d.prototype.getColumnRange=function(a,b){for(var c={min:a[0][b],max:a[0][b]},d=0;d<a.length;d++)c.min>a[d][b]&&(c.min=a[d][b]),c.max<a[d][b]&&(c.max=a[d][b]);return c},d.prototype._dataInitialize=function(a){var b=this;if(this.dataSet&&this.dataSet.off("*",this._onChange),void 0!==a){Array.isArray(a)&&(a=new h(a));var c;if(!(a instanceof h||a instanceof i))throw new Error("Array, DataSet, or DataView expected");if(c=a.get(),0!=c.length){this.dataSet=a,this.dataTable=c,this._onChange=function(){b.setData(b.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z",this.colValue="style",this.colFilter="filter",c[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new n(a,this.colFilter,this),this.dataFilter.setOnLoadCallback(function(){b.redraw()}));var e=this.style==d.STYLE.BAR||this.style==d.STYLE.BARCOLOR||this.style==d.STYLE.BARSIZE;if(e){if(void 0!==this.defaultXBarWidth)this.xBarWidth=this.defaultXBarWidth;else{var f=this.getDistinctValues(c,this.colX);this.xBarWidth=f[1]-f[0]||1}if(void 0!==this.defaultYBarWidth)this.yBarWidth=this.defaultYBarWidth;else{var g=this.getDistinctValues(c,this.colY);this.yBarWidth=g[1]-g[0]||1}}var j=this.getColumnRange(c,this.colX);e&&(j.min-=this.xBarWidth/2,j.max+=this.xBarWidth/2),this.xMin=void 0!==this.defaultXMin?this.defaultXMin:j.min,this.xMax=void 0!==this.defaultXMax?this.defaultXMax:j.max,this.xMax<=this.xMin&&(this.xMax=this.xMin+1),this.xStep=void 0!==this.defaultXStep?this.defaultXStep:(this.xMax-this.xMin)/5;var k=this.getColumnRange(c,this.colY);e&&(k.min-=this.yBarWidth/2,k.max+=this.yBarWidth/2),this.yMin=void 0!==this.defaultYMin?this.defaultYMin:k.min,this.yMax=void 0!==this.defaultYMax?this.defaultYMax:k.max,this.yMax<=this.yMin&&(this.yMax=this.yMin+1),this.yStep=void 0!==this.defaultYStep?this.defaultYStep:(this.yMax-this.yMin)/5;
var l=this.getColumnRange(c,this.colZ);if(this.zMin=void 0!==this.defaultZMin?this.defaultZMin:l.min,this.zMax=void 0!==this.defaultZMax?this.defaultZMax:l.max,this.zMax<=this.zMin&&(this.zMax=this.zMin+1),this.zStep=void 0!==this.defaultZStep?this.defaultZStep:(this.zMax-this.zMin)/5,void 0!==this.colValue){var m=this.getColumnRange(c,this.colValue);this.valueMin=void 0!==this.defaultValueMin?this.defaultValueMin:m.min,this.valueMax=void 0!==this.defaultValueMax?this.defaultValueMax:m.max,this.valueMax<=this.valueMin&&(this.valueMax=this.valueMin+1)}this._setScale()}}},d.prototype._getDataPoints=function(a){var b,c,e,f,g,h,i=[];if(this.style===d.STYLE.GRID||this.style===d.STYLE.SURFACE){var j=[],l=[];for(e=0;e<this.getNumberOfRows(a);e++)b=a[e][this.colX]||0,c=a[e][this.colY]||0,-1===j.indexOf(b)&&j.push(b),-1===l.indexOf(c)&&l.push(c);var m=function(a,b){return a-b};j.sort(m),l.sort(m);var n=[];for(e=0;e<a.length;e++){b=a[e][this.colX]||0,c=a[e][this.colY]||0,f=a[e][this.colZ]||0;var o=j.indexOf(b),p=l.indexOf(c);void 0===n[o]&&(n[o]=[]);var q=new k;q.x=b,q.y=c,q.z=f,g={},g.point=q,g.trans=void 0,g.screen=void 0,g.bottom=new k(b,c,this.zMin),n[o][p]=g,i.push(g)}for(b=0;b<n.length;b++)for(c=0;c<n[b].length;c++)n[b][c]&&(n[b][c].pointRight=b<n.length-1?n[b+1][c]:void 0,n[b][c].pointTop=c<n[b].length-1?n[b][c+1]:void 0,n[b][c].pointCross=b<n.length-1&&c<n[b].length-1?n[b+1][c+1]:void 0)}else for(e=0;e<a.length;e++)h=new k,h.x=a[e][this.colX]||0,h.y=a[e][this.colY]||0,h.z=a[e][this.colZ]||0,void 0!==this.colValue&&(h.value=a[e][this.colValue]||0),g={},g.point=h,g.bottom=new k(h.x,h.y,this.zMin),g.trans=void 0,g.screen=void 0,i.push(g);return i},d.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(a),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var b=this,c=function(a){b._onMouseDown(a)},d=function(a){b._onTouchStart(a)},e=function(a){b._onWheel(a)},f=function(a){b._onTooltip(a)};j.addEventListener(this.frame.canvas,"keydown",onkeydown),j.addEventListener(this.frame.canvas,"mousedown",c),j.addEventListener(this.frame.canvas,"touchstart",d),j.addEventListener(this.frame.canvas,"mousewheel",e),j.addEventListener(this.frame.canvas,"mousemove",f),this.containerElement.appendChild(this.frame)},d.prototype.setSize=function(a,b){this.frame.style.width=a,this.frame.style.height=b,this._resizeCanvas()},d.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},d.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw"No animation available";this.frame.filter.slider.play()},d.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},d.prototype._resizeCenter=function(){this.xcenter="%"===this.defaultXCenter.charAt(this.defaultXCenter.length-1)?parseFloat(this.defaultXCenter)/100*this.frame.canvas.clientWidth:parseFloat(this.defaultXCenter),this.ycenter="%"===this.defaultYCenter.charAt(this.defaultYCenter.length-1)?parseFloat(this.defaultYCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):parseFloat(this.defaultYCenter)},d.prototype.setCameraPosition=function(a){void 0!==a&&(void 0!==a.horizontal&&void 0!==a.vertical&&this.camera.setArmRotation(a.horizontal,a.vertical),void 0!==a.distance&&this.camera.setArmLength(a.distance),this.redraw())},d.prototype.getCameraPosition=function(){var a=this.camera.getArmRotation();return a.distance=this.camera.getArmLength(),a},d.prototype._readData=function(a){this._dataInitialize(a,this.style),this.dataPoints=this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.dataTable),this._redrawFilter()},d.prototype.setData=function(a){this._readData(a),this.redraw(),this.animationAutoStart&&this.dataFilter&&this.animationStart()},d.prototype.setOptions=function(a){var b=void 0;if(this.animationStop(),void 0!==a){if(void 0!==a.width&&(this.width=a.width),void 0!==a.height&&(this.height=a.height),void 0!==a.xCenter&&(this.defaultXCenter=a.xCenter),void 0!==a.yCenter&&(this.defaultYCenter=a.yCenter),void 0!==a.filterLabel&&(this.filterLabel=a.filterLabel),void 0!==a.legendLabel&&(this.legendLabel=a.legendLabel),void 0!==a.xLabel&&(this.xLabel=a.xLabel),void 0!==a.yLabel&&(this.yLabel=a.yLabel),void 0!==a.zLabel&&(this.zLabel=a.zLabel),void 0!==a.xValueLabel&&(this.xValueLabel=a.xValueLabel),void 0!==a.yValueLabel&&(this.yValueLabel=a.yValueLabel),void 0!==a.zValueLabel&&(this.zValueLabel=a.zValueLabel),void 0!==a.style){var c=this._getStyleNumber(a.style);-1!==c&&(this.style=c)}void 0!==a.showGrid&&(this.showGrid=a.showGrid),void 0!==a.showPerspective&&(this.showPerspective=a.showPerspective),void 0!==a.showShadow&&(this.showShadow=a.showShadow),void 0!==a.tooltip&&(this.showTooltip=a.tooltip),void 0!==a.showAnimationControls&&(this.showAnimationControls=a.showAnimationControls),void 0!==a.keepAspectRatio&&(this.keepAspectRatio=a.keepAspectRatio),void 0!==a.verticalRatio&&(this.verticalRatio=a.verticalRatio),void 0!==a.animationInterval&&(this.animationInterval=a.animationInterval),void 0!==a.animationPreload&&(this.animationPreload=a.animationPreload),void 0!==a.animationAutoStart&&(this.animationAutoStart=a.animationAutoStart),void 0!==a.xBarWidth&&(this.defaultXBarWidth=a.xBarWidth),void 0!==a.yBarWidth&&(this.defaultYBarWidth=a.yBarWidth),void 0!==a.xMin&&(this.defaultXMin=a.xMin),void 0!==a.xStep&&(this.defaultXStep=a.xStep),void 0!==a.xMax&&(this.defaultXMax=a.xMax),void 0!==a.yMin&&(this.defaultYMin=a.yMin),void 0!==a.yStep&&(this.defaultYStep=a.yStep),void 0!==a.yMax&&(this.defaultYMax=a.yMax),void 0!==a.zMin&&(this.defaultZMin=a.zMin),void 0!==a.zStep&&(this.defaultZStep=a.zStep),void 0!==a.zMax&&(this.defaultZMax=a.zMax),void 0!==a.valueMin&&(this.defaultValueMin=a.valueMin),void 0!==a.valueMax&&(this.defaultValueMax=a.valueMax),void 0!==a.cameraPosition&&(b=a.cameraPosition),void 0!==b?(this.camera.setArmRotation(b.horizontal,b.vertical),this.camera.setArmLength(b.distance)):(this.camera.setArmRotation(1,.5),this.camera.setArmLength(1.7))}this._setBackgroundColor(a&&a.backgroundColor),this.setSize(this.width,this.height),this.dataTable&&this.setData(this.dataTable),this.animationAutoStart&&this.dataFilter&&this.animationStart()},d.prototype.redraw=function(){if(void 0===this.dataPoints)throw"Error: graph data not initialized";this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this.style===d.STYLE.GRID||this.style===d.STYLE.SURFACE?this._redrawDataGrid():this.style===d.STYLE.LINE?this._redrawDataLine():this.style===d.STYLE.BAR||this.style===d.STYLE.BARCOLOR||this.style===d.STYLE.BARSIZE?this._redrawDataBar():this._redrawDataDot(),this._redrawInfo(),this._redrawLegend()},d.prototype._redrawClear=function(){var a=this.frame.canvas,b=a.getContext("2d");b.clearRect(0,0,a.width,a.height)},d.prototype._redrawLegend=function(){var a;if(this.style===d.STYLE.DOTCOLOR||this.style===d.STYLE.DOTSIZE){var b,c,e=.02*this.frame.clientWidth;this.style===d.STYLE.DOTSIZE?(b=e/2,c=e/2+2*e):(b=20,c=20);var f=Math.max(.25*this.frame.clientHeight,100),g=this.margin,h=this.frame.clientWidth-this.margin,i=h-c,j=g+f}var k=this.frame.canvas,l=k.getContext("2d");if(l.lineWidth=1,l.font="14px arial",this.style===d.STYLE.DOTCOLOR){var m=0,n=f;for(a=m;n>a;a++){var o=(a-m)/(n-m),q=240*o,r=this._hsv2rgb(q,1,1);l.strokeStyle=r,l.beginPath(),l.moveTo(i,g+a),l.lineTo(h,g+a),l.stroke()}l.strokeStyle=this.colorAxis,l.strokeRect(i,g,c,f)}if(this.style===d.STYLE.DOTSIZE&&(l.strokeStyle=this.colorAxis,l.fillStyle=this.colorDot,l.beginPath(),l.moveTo(i,g),l.lineTo(h,g),l.lineTo(h-c+b,j),l.lineTo(i,j),l.closePath(),l.fill(),l.stroke()),this.style===d.STYLE.DOTCOLOR||this.style===d.STYLE.DOTSIZE){var s=5,t=new p(this.valueMin,this.valueMax,(this.valueMax-this.valueMin)/5,!0);for(t.start(),t.getCurrent()<this.valueMin&&t.next();!t.end();)a=j-(t.getCurrent()-this.valueMin)/(this.valueMax-this.valueMin)*f,l.beginPath(),l.moveTo(i-s,a),l.lineTo(i,a),l.stroke(),l.textAlign="right",l.textBaseline="middle",l.fillStyle=this.colorAxis,l.fillText(t.getCurrent(),i-2*s,a),t.next();l.textAlign="right",l.textBaseline="top";var u=this.legendLabel;l.fillText(u,h,j+this.margin)}},d.prototype._redrawFilter=function(){if(this.frame.filter.innerHTML="",this.dataFilter){var a={visible:this.showAnimationControls},b=new o(this.frame.filter,a);this.frame.filter.slider=b,this.frame.filter.style.padding="10px",b.setValues(this.dataFilter.values),b.setPlayInterval(this.animationInterval);var c=this,d=function(){var a=b.getIndex();c.dataFilter.selectValue(a),c.dataPoints=c.dataFilter._getDataPoints(),c.redraw()};b.setOnChangeCallback(d)}else this.frame.filter.slider=void 0},d.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},d.prototype._redrawInfo=function(){if(this.dataFilter){var a=this.frame.canvas,b=a.getContext("2d");b.font="14px arial",b.lineStyle="gray",b.fillStyle="gray",b.textAlign="left",b.textBaseline="top";var c=this.margin,d=this.margin;b.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),c,d)}},d.prototype._redrawAxis=function(){var a,b,c,d,e,f,g,h,i,j,l,m,n,o=this.frame.canvas,q=o.getContext("2d");q.font=24/this.camera.getArmLength()+"px arial";var r=.025/this.scale.x,s=.025/this.scale.y,t=5/this.camera.getArmLength(),u=this.camera.getArmRotation().horizontal;for(q.lineWidth=1,d=void 0===this.defaultXStep,c=new p(this.xMin,this.xMax,this.xStep,d),c.start(),c.getCurrent()<this.xMin&&c.next();!c.end();){var v=c.getCurrent();this.showGrid?(a=this._convert3Dto2D(new k(v,this.yMin,this.zMin)),b=this._convert3Dto2D(new k(v,this.yMax,this.zMin)),q.strokeStyle=this.colorGrid,q.beginPath(),q.moveTo(a.x,a.y),q.lineTo(b.x,b.y),q.stroke()):(a=this._convert3Dto2D(new k(v,this.yMin,this.zMin)),b=this._convert3Dto2D(new k(v,this.yMin+r,this.zMin)),q.strokeStyle=this.colorAxis,q.beginPath(),q.moveTo(a.x,a.y),q.lineTo(b.x,b.y),q.stroke(),a=this._convert3Dto2D(new k(v,this.yMax,this.zMin)),b=this._convert3Dto2D(new k(v,this.yMax-r,this.zMin)),q.strokeStyle=this.colorAxis,q.beginPath(),q.moveTo(a.x,a.y),q.lineTo(b.x,b.y),q.stroke()),g=Math.cos(u)>0?this.yMin:this.yMax,e=this._convert3Dto2D(new k(v,g,this.zMin)),Math.cos(2*u)>0?(q.textAlign="center",q.textBaseline="top",e.y+=t):Math.sin(2*u)<0?(q.textAlign="right",q.textBaseline="middle"):(q.textAlign="left",q.textBaseline="middle"),q.fillStyle=this.colorAxis,q.fillText("  "+this.xValueLabel(c.getCurrent())+"  ",e.x,e.y),c.next()}for(q.lineWidth=1,d=void 0===this.defaultYStep,c=new p(this.yMin,this.yMax,this.yStep,d),c.start(),c.getCurrent()<this.yMin&&c.next();!c.end();)this.showGrid?(a=this._convert3Dto2D(new k(this.xMin,c.getCurrent(),this.zMin)),b=this._convert3Dto2D(new k(this.xMax,c.getCurrent(),this.zMin)),q.strokeStyle=this.colorGrid,q.beginPath(),q.moveTo(a.x,a.y),q.lineTo(b.x,b.y),q.stroke()):(a=this._convert3Dto2D(new k(this.xMin,c.getCurrent(),this.zMin)),b=this._convert3Dto2D(new k(this.xMin+s,c.getCurrent(),this.zMin)),q.strokeStyle=this.colorAxis,q.beginPath(),q.moveTo(a.x,a.y),q.lineTo(b.x,b.y),q.stroke(),a=this._convert3Dto2D(new k(this.xMax,c.getCurrent(),this.zMin)),b=this._convert3Dto2D(new k(this.xMax-s,c.getCurrent(),this.zMin)),q.strokeStyle=this.colorAxis,q.beginPath(),q.moveTo(a.x,a.y),q.lineTo(b.x,b.y),q.stroke()),f=Math.sin(u)>0?this.xMin:this.xMax,e=this._convert3Dto2D(new k(f,c.getCurrent(),this.zMin)),Math.cos(2*u)<0?(q.textAlign="center",q.textBaseline="top",e.y+=t):Math.sin(2*u)>0?(q.textAlign="right",q.textBaseline="middle"):(q.textAlign="left",q.textBaseline="middle"),q.fillStyle=this.colorAxis,q.fillText("  "+this.yValueLabel(c.getCurrent())+"  ",e.x,e.y),c.next();for(q.lineWidth=1,d=void 0===this.defaultZStep,c=new p(this.zMin,this.zMax,this.zStep,d),c.start(),c.getCurrent()<this.zMin&&c.next(),f=Math.cos(u)>0?this.xMin:this.xMax,g=Math.sin(u)<0?this.yMin:this.yMax;!c.end();)a=this._convert3Dto2D(new k(f,g,c.getCurrent())),q.strokeStyle=this.colorAxis,q.beginPath(),q.moveTo(a.x,a.y),q.lineTo(a.x-t,a.y),q.stroke(),q.textAlign="right",q.textBaseline="middle",q.fillStyle=this.colorAxis,q.fillText(this.zValueLabel(c.getCurrent())+" ",a.x-5,a.y),c.next();q.lineWidth=1,a=this._convert3Dto2D(new k(f,g,this.zMin)),b=this._convert3Dto2D(new k(f,g,this.zMax)),q.strokeStyle=this.colorAxis,q.beginPath(),q.moveTo(a.x,a.y),q.lineTo(b.x,b.y),q.stroke(),q.lineWidth=1,m=this._convert3Dto2D(new k(this.xMin,this.yMin,this.zMin)),n=this._convert3Dto2D(new k(this.xMax,this.yMin,this.zMin)),q.strokeStyle=this.colorAxis,q.beginPath(),q.moveTo(m.x,m.y),q.lineTo(n.x,n.y),q.stroke(),m=this._convert3Dto2D(new k(this.xMin,this.yMax,this.zMin)),n=this._convert3Dto2D(new k(this.xMax,this.yMax,this.zMin)),q.strokeStyle=this.colorAxis,q.beginPath(),q.moveTo(m.x,m.y),q.lineTo(n.x,n.y),q.stroke(),q.lineWidth=1,a=this._convert3Dto2D(new k(this.xMin,this.yMin,this.zMin)),b=this._convert3Dto2D(new k(this.xMin,this.yMax,this.zMin)),q.strokeStyle=this.colorAxis,q.beginPath(),q.moveTo(a.x,a.y),q.lineTo(b.x,b.y),q.stroke(),a=this._convert3Dto2D(new k(this.xMax,this.yMin,this.zMin)),b=this._convert3Dto2D(new k(this.xMax,this.yMax,this.zMin)),q.strokeStyle=this.colorAxis,q.beginPath(),q.moveTo(a.x,a.y),q.lineTo(b.x,b.y),q.stroke();var w=this.xLabel;w.length>0&&(l=.1/this.scale.y,f=(this.xMin+this.xMax)/2,g=Math.cos(u)>0?this.yMin-l:this.yMax+l,e=this._convert3Dto2D(new k(f,g,this.zMin)),Math.cos(2*u)>0?(q.textAlign="center",q.textBaseline="top"):Math.sin(2*u)<0?(q.textAlign="right",q.textBaseline="middle"):(q.textAlign="left",q.textBaseline="middle"),q.fillStyle=this.colorAxis,q.fillText(w,e.x,e.y));var x=this.yLabel;x.length>0&&(j=.1/this.scale.x,f=Math.sin(u)>0?this.xMin-j:this.xMax+j,g=(this.yMin+this.yMax)/2,e=this._convert3Dto2D(new k(f,g,this.zMin)),Math.cos(2*u)<0?(q.textAlign="center",q.textBaseline="top"):Math.sin(2*u)>0?(q.textAlign="right",q.textBaseline="middle"):(q.textAlign="left",q.textBaseline="middle"),q.fillStyle=this.colorAxis,q.fillText(x,e.x,e.y));var y=this.zLabel;y.length>0&&(i=30,f=Math.cos(u)>0?this.xMin:this.xMax,g=Math.sin(u)<0?this.yMin:this.yMax,h=(this.zMin+this.zMax)/2,e=this._convert3Dto2D(new k(f,g,h)),q.textAlign="right",q.textBaseline="middle",q.fillStyle=this.colorAxis,q.fillText(y,e.x-i,e.y))},d.prototype._hsv2rgb=function(a,b,c){var d,e,f,g,h,i;switch(g=c*b,h=Math.floor(a/60),i=g*(1-Math.abs(a/60%2-1)),h){case 0:d=g,e=i,f=0;break;case 1:d=i,e=g,f=0;break;case 2:d=0,e=g,f=i;break;case 3:d=0,e=i,f=g;break;case 4:d=i,e=0,f=g;break;case 5:d=g,e=0,f=i;break;default:d=0,e=0,f=0}return"RGB("+parseInt(255*d)+","+parseInt(255*e)+","+parseInt(255*f)+")"},d.prototype._redrawDataGrid=function(){var a,b,c,e,f,g,h,i,j,l,m,n,o,p=this.frame.canvas,q=p.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(f=0;f<this.dataPoints.length;f++){var r=this._convertPointToTranslation(this.dataPoints[f].point),s=this._convertTranslationToScreen(r);this.dataPoints[f].trans=r,this.dataPoints[f].screen=s;var t=this._convertPointToTranslation(this.dataPoints[f].bottom);this.dataPoints[f].dist=this.showPerspective?t.length():-t.z}var u=function(a,b){return b.dist-a.dist};if(this.dataPoints.sort(u),this.style===d.STYLE.SURFACE){for(f=0;f<this.dataPoints.length;f++)if(a=this.dataPoints[f],b=this.dataPoints[f].pointRight,c=this.dataPoints[f].pointTop,e=this.dataPoints[f].pointCross,void 0!==a&&void 0!==b&&void 0!==c&&void 0!==e){if(this.showGrayBottom||this.showShadow){var v=k.subtract(e.trans,a.trans),w=k.subtract(c.trans,b.trans),x=k.crossProduct(v,w),y=x.length();g=x.z>0}else g=!0;g?(o=(a.point.z+b.point.z+c.point.z+e.point.z)/4,l=240*(1-(o-this.zMin)*this.scale.z/this.verticalRatio),m=1,this.showShadow?(n=Math.min(1+x.x/y/2,1),h=this._hsv2rgb(l,m,n),i=h):(n=1,h=this._hsv2rgb(l,m,n),i=this.colorAxis)):(h="gray",i=this.colorAxis),j=.5,q.lineWidth=j,q.fillStyle=h,q.strokeStyle=i,q.beginPath(),q.moveTo(a.screen.x,a.screen.y),q.lineTo(b.screen.x,b.screen.y),q.lineTo(e.screen.x,e.screen.y),q.lineTo(c.screen.x,c.screen.y),q.closePath(),q.fill(),q.stroke()}}else for(f=0;f<this.dataPoints.length;f++)a=this.dataPoints[f],b=this.dataPoints[f].pointRight,c=this.dataPoints[f].pointTop,void 0!==a&&(j=this.showPerspective?2/-a.trans.z:2*-(this.eye.z/this.camera.getArmLength())),void 0!==a&&void 0!==b&&(o=(a.point.z+b.point.z)/2,l=240*(1-(o-this.zMin)*this.scale.z/this.verticalRatio),q.lineWidth=j,q.strokeStyle=this._hsv2rgb(l,1,1),q.beginPath(),q.moveTo(a.screen.x,a.screen.y),q.lineTo(b.screen.x,b.screen.y),q.stroke()),void 0!==a&&void 0!==c&&(o=(a.point.z+c.point.z)/2,l=240*(1-(o-this.zMin)*this.scale.z/this.verticalRatio),q.lineWidth=j,q.strokeStyle=this._hsv2rgb(l,1,1),q.beginPath(),q.moveTo(a.screen.x,a.screen.y),q.lineTo(c.screen.x,c.screen.y),q.stroke())}},d.prototype._redrawDataDot=function(){var a,b=this.frame.canvas,c=b.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(a=0;a<this.dataPoints.length;a++){var e=this._convertPointToTranslation(this.dataPoints[a].point),f=this._convertTranslationToScreen(e);this.dataPoints[a].trans=e,this.dataPoints[a].screen=f;var g=this._convertPointToTranslation(this.dataPoints[a].bottom);this.dataPoints[a].dist=this.showPerspective?g.length():-g.z}var h=function(a,b){return b.dist-a.dist};this.dataPoints.sort(h);var i=.02*this.frame.clientWidth;for(a=0;a<this.dataPoints.length;a++){var j=this.dataPoints[a];if(this.style===d.STYLE.DOTLINE){var k=this._convert3Dto2D(j.bottom);c.lineWidth=1,c.strokeStyle=this.colorGrid,c.beginPath(),c.moveTo(k.x,k.y),c.lineTo(j.screen.x,j.screen.y),c.stroke()}var l;l=this.style===d.STYLE.DOTSIZE?i/2+2*i*(j.point.value-this.valueMin)/(this.valueMax-this.valueMin):i;var m;m=this.showPerspective?l/-j.trans.z:l*-(this.eye.z/this.camera.getArmLength()),0>m&&(m=0);var n,o,p;this.style===d.STYLE.DOTCOLOR?(n=240*(1-(j.point.value-this.valueMin)*this.scale.value),o=this._hsv2rgb(n,1,1),p=this._hsv2rgb(n,1,.8)):this.style===d.STYLE.DOTSIZE?(o=this.colorDot,p=this.colorDotBorder):(n=240*(1-(j.point.z-this.zMin)*this.scale.z/this.verticalRatio),o=this._hsv2rgb(n,1,1),p=this._hsv2rgb(n,1,.8)),c.lineWidth=1,c.strokeStyle=p,c.fillStyle=o,c.beginPath(),c.arc(j.screen.x,j.screen.y,m,0,2*Math.PI,!0),c.fill(),c.stroke()}}},d.prototype._redrawDataBar=function(){var a,b,c,e,f=this.frame.canvas,g=f.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(a=0;a<this.dataPoints.length;a++){var h=this._convertPointToTranslation(this.dataPoints[a].point),i=this._convertTranslationToScreen(h);this.dataPoints[a].trans=h,this.dataPoints[a].screen=i;var j=this._convertPointToTranslation(this.dataPoints[a].bottom);this.dataPoints[a].dist=this.showPerspective?j.length():-j.z}var l=function(a,b){return b.dist-a.dist};this.dataPoints.sort(l);var m=this.xBarWidth/2,n=this.yBarWidth/2;for(a=0;a<this.dataPoints.length;a++){var o,p,q,r=this.dataPoints[a];this.style===d.STYLE.BARCOLOR?(o=240*(1-(r.point.value-this.valueMin)*this.scale.value),p=this._hsv2rgb(o,1,1),q=this._hsv2rgb(o,1,.8)):this.style===d.STYLE.BARSIZE?(p=this.colorDot,q=this.colorDotBorder):(o=240*(1-(r.point.z-this.zMin)*this.scale.z/this.verticalRatio),p=this._hsv2rgb(o,1,1),q=this._hsv2rgb(o,1,.8)),this.style===d.STYLE.BARSIZE&&(m=this.xBarWidth/2*((r.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2),n=this.yBarWidth/2*((r.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2));var s=this,t=r.point,u=[{point:new k(t.x-m,t.y-n,t.z)},{point:new k(t.x+m,t.y-n,t.z)},{point:new k(t.x+m,t.y+n,t.z)},{point:new k(t.x-m,t.y+n,t.z)}],v=[{point:new k(t.x-m,t.y-n,this.zMin)},{point:new k(t.x+m,t.y-n,this.zMin)},{point:new k(t.x+m,t.y+n,this.zMin)},{point:new k(t.x-m,t.y+n,this.zMin)}];u.forEach(function(a){a.screen=s._convert3Dto2D(a.point)}),v.forEach(function(a){a.screen=s._convert3Dto2D(a.point)});var w=[{corners:u,center:k.avg(v[0].point,v[2].point)},{corners:[u[0],u[1],v[1],v[0]],center:k.avg(v[1].point,v[0].point)},{corners:[u[1],u[2],v[2],v[1]],center:k.avg(v[2].point,v[1].point)},{corners:[u[2],u[3],v[3],v[2]],center:k.avg(v[3].point,v[2].point)},{corners:[u[3],u[0],v[0],v[3]],center:k.avg(v[0].point,v[3].point)}];for(r.surfaces=w,b=0;b<w.length;b++){c=w[b];var x=this._convertPointToTranslation(c.center);c.dist=this.showPerspective?x.length():-x.z}for(w.sort(function(a,b){var c=b.dist-a.dist;return c?c:a.corners===u?1:b.corners===u?-1:0}),g.lineWidth=1,g.strokeStyle=q,g.fillStyle=p,b=2;b<w.length;b++)c=w[b],e=c.corners,g.beginPath(),g.moveTo(e[3].screen.x,e[3].screen.y),g.lineTo(e[0].screen.x,e[0].screen.y),g.lineTo(e[1].screen.x,e[1].screen.y),g.lineTo(e[2].screen.x,e[2].screen.y),g.lineTo(e[3].screen.x,e[3].screen.y),g.fill(),g.stroke()}}},d.prototype._redrawDataLine=function(){var a,b,c=this.frame.canvas,d=c.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(b=0;b<this.dataPoints.length;b++){var e=this._convertPointToTranslation(this.dataPoints[b].point),f=this._convertTranslationToScreen(e);this.dataPoints[b].trans=e,this.dataPoints[b].screen=f}for(this.dataPoints.length>0&&(a=this.dataPoints[0],d.lineWidth=1,d.strokeStyle="blue",d.beginPath(),d.moveTo(a.screen.x,a.screen.y)),b=1;b<this.dataPoints.length;b++)a=this.dataPoints[b],d.lineTo(a.screen.x,a.screen.y);this.dataPoints.length>0&&d.stroke()}},d.prototype._onMouseDown=function(a){if(a=a||window.event,this.leftButtonDown&&this._onMouseUp(a),this.leftButtonDown=a.which?1===a.which:1===a.button,this.leftButtonDown||this.touchDown){this.startMouseX=e(a),this.startMouseY=f(a),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var b=this;this.onmousemove=function(a){b._onMouseMove(a)},this.onmouseup=function(a){b._onMouseUp(a)},j.addEventListener(document,"mousemove",b.onmousemove),j.addEventListener(document,"mouseup",b.onmouseup),j.preventDefault(a)}},d.prototype._onMouseMove=function(a){a=a||window.event;var b=parseFloat(e(a))-this.startMouseX,c=parseFloat(f(a))-this.startMouseY,d=this.startArmRotation.horizontal+b/200,g=this.startArmRotation.vertical+c/200,h=4,i=Math.sin(h/360*2*Math.PI);Math.abs(Math.sin(d))<i&&(d=Math.round(d/Math.PI)*Math.PI-.001),Math.abs(Math.cos(d))<i&&(d=(Math.round(d/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(g))<i&&(g=Math.round(g/Math.PI)*Math.PI),Math.abs(Math.cos(g))<i&&(g=(Math.round(g/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(d,g),this.redraw();var k=this.getCameraPosition();this.emit("cameraPositionChange",k),j.preventDefault(a)},d.prototype._onMouseUp=function(a){this.frame.style.cursor="auto",this.leftButtonDown=!1,j.removeEventListener(document,"mousemove",this.onmousemove),j.removeEventListener(document,"mouseup",this.onmouseup),j.preventDefault(a)},d.prototype._onTooltip=function(a){var b=300,c=e(a)-j.getAbsoluteLeft(this.frame),d=f(a)-j.getAbsoluteTop(this.frame);if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();if(this.tooltip&&this.tooltip.dataPoint){var g=this._dataPointFromXY(c,d);g!==this.tooltip.dataPoint&&(g?this._showTooltip(g):this._hideTooltip())}else{var h=this;this.tooltipTimeout=setTimeout(function(){h.tooltipTimeout=null;var a=h._dataPointFromXY(c,d);a&&h._showTooltip(a)},b)}}},d.prototype._onTouchStart=function(a){this.touchDown=!0;var b=this;this.ontouchmove=function(a){b._onTouchMove(a)},this.ontouchend=function(a){b._onTouchEnd(a)},j.addEventListener(document,"touchmove",b.ontouchmove),j.addEventListener(document,"touchend",b.ontouchend),this._onMouseDown(a)},d.prototype._onTouchMove=function(a){this._onMouseMove(a)},d.prototype._onTouchEnd=function(a){this.touchDown=!1,j.removeEventListener(document,"touchmove",this.ontouchmove),j.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(a)},d.prototype._onWheel=function(a){a||(a=window.event);var b=0;if(a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3),b){var c=this.camera.getArmLength(),d=c*(1-b/10);this.camera.setArmLength(d),this.redraw(),this._hideTooltip()}var e=this.getCameraPosition();this.emit("cameraPositionChange",e),j.preventDefault(a)},d.prototype._insideTriangle=function(a,b){function c(a){return a>0?1:0>a?-1:0}var d=b[0],e=b[1],f=b[2],g=c((e.x-d.x)*(a.y-d.y)-(e.y-d.y)*(a.x-d.x)),h=c((f.x-e.x)*(a.y-e.y)-(f.y-e.y)*(a.x-e.x)),i=c((d.x-f.x)*(a.y-f.y)-(d.y-f.y)*(a.x-f.x));return!(0!=g&&0!=h&&g!=h||0!=h&&0!=i&&h!=i||0!=g&&0!=i&&g!=i)},d.prototype._dataPointFromXY=function(a,b){var c,e=100,f=null,g=null,h=null,i=new l(a,b);if(this.style===d.STYLE.BAR||this.style===d.STYLE.BARCOLOR||this.style===d.STYLE.BARSIZE)for(c=this.dataPoints.length-1;c>=0;c--){f=this.dataPoints[c];var j=f.surfaces;if(j)for(var k=j.length-1;k>=0;k--){var m=j[k],n=m.corners,o=[n[0].screen,n[1].screen,n[2].screen],p=[n[2].screen,n[3].screen,n[0].screen];if(this._insideTriangle(i,o)||this._insideTriangle(i,p))return f}}else for(c=0;c<this.dataPoints.length;c++){f=this.dataPoints[c];var q=f.screen;if(q){var r=Math.abs(a-q.x),s=Math.abs(b-q.y),t=Math.sqrt(r*r+s*s);(null===h||h>t)&&e>t&&(h=t,g=f)}}return g},d.prototype._showTooltip=function(a){var b,c,d;this.tooltip?(b=this.tooltip.dom.content,c=this.tooltip.dom.line,d=this.tooltip.dom.dot):(b=document.createElement("div"),b.style.position="absolute",b.style.padding="10px",b.style.border="1px solid #4d4d4d",b.style.color="#1a1a1a",b.style.background="rgba(255,255,255,0.7)",b.style.borderRadius="2px",b.style.boxShadow="5px 5px 10px rgba(128,128,128,0.5)",c=document.createElement("div"),c.style.position="absolute",c.style.height="40px",c.style.width="0",c.style.borderLeft="1px solid #4d4d4d",d=document.createElement("div"),d.style.position="absolute",d.style.height="0",d.style.width="0",d.style.border="5px solid #4d4d4d",d.style.borderRadius="5px",this.tooltip={dataPoint:null,dom:{content:b,line:c,dot:d}}),this._hideTooltip(),this.tooltip.dataPoint=a,b.innerHTML="function"==typeof this.showTooltip?this.showTooltip(a.point):"<table><tr><td>x:</td><td>"+a.point.x+"</td></tr><tr><td>y:</td><td>"+a.point.y+"</td></tr><tr><td>z:</td><td>"+a.point.z+"</td></tr></table>",b.style.left="0",b.style.top="0",this.frame.appendChild(b),this.frame.appendChild(c),this.frame.appendChild(d);var e=b.offsetWidth,f=b.offsetHeight,g=c.offsetHeight,h=d.offsetWidth,i=d.offsetHeight,j=a.screen.x-e/2;j=Math.min(Math.max(j,10),this.frame.clientWidth-10-e),c.style.left=a.screen.x+"px",c.style.top=a.screen.y-g+"px",b.style.left=j+"px",b.style.top=a.screen.y-g-f+"px",d.style.left=a.screen.x-h/2+"px",d.style.top=a.screen.y-i/2+"px"},d.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var a in this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(a)){var b=this.tooltip.dom[a];b&&b.parentNode&&b.parentNode.removeChild(b)}}},a.exports=d},function(a,b,c){function d(){this.armLocation=new e,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraLocation=new e,this.cameraRotation=new e(.5*Math.PI,0,0),this.calculateCameraOrientation()}var e=c(10);d.prototype.setArmLocation=function(a,b,c){this.armLocation.x=a,this.armLocation.y=b,this.armLocation.z=c,this.calculateCameraOrientation()},d.prototype.setArmRotation=function(a,b){void 0!==a&&(this.armRotation.horizontal=a),void 0!==b&&(this.armRotation.vertical=b,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),(void 0!==a||void 0!==b)&&this.calculateCameraOrientation()},d.prototype.getArmRotation=function(){var a={};return a.horizontal=this.armRotation.horizontal,a.vertical=this.armRotation.vertical,a},d.prototype.setArmLength=function(a){void 0!==a&&(this.armLength=a,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.calculateCameraOrientation())},d.prototype.getArmLength=function(){return this.armLength},d.prototype.getCameraLocation=function(){return this.cameraLocation},d.prototype.getCameraRotation=function(){return this.cameraRotation},d.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal},a.exports=d},function(a,b,c){function d(a,b,c){this.data=a,this.column=b,this.graph=c,this.index=void 0,this.value=void 0,this.values=c.getDistinctValues(a.get(),this.column),this.values.sort(function(a,b){return a>b?1:b>a?-1:0}),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,c.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var e=c(4);d.prototype.isLoaded=function(){return this.loaded},d.prototype.getLoadedProgress=function(){for(var a=this.values.length,b=0;this.dataPoints[b];)b++;return Math.round(b/a*100)},d.prototype.getLabel=function(){return this.graph.filterLabel},d.prototype.getColumn=function(){return this.column},d.prototype.getSelectedValue=function(){return void 0===this.index?void 0:this.values[this.index]},d.prototype.getValues=function(){return this.values},d.prototype.getValue=function(a){if(a>=this.values.length)throw"Error: index out of range";return this.values[a]},d.prototype._getDataPoints=function(a){if(void 0===a&&(a=this.index),void 0===a)return[];var b;if(this.dataPoints[a])b=this.dataPoints[a];else{var c={};c.column=this.column,c.value=this.values[a];var d=new e(this.data,{filter:function(a){return a[c.column]==c.value}}).get();b=this.graph._getDataPoints(d),this.dataPoints[a]=b}return b},d.prototype.setOnLoadCallback=function(a){this.onLoadCallback=a},d.prototype.selectValue=function(a){if(a>=this.values.length)throw"Error: index out of range";this.index=a,this.value=this.values[a]},d.prototype.loadInBackground=function(a){void 0===a&&(a=0);var b=this.graph.frame;if(a<this.values.length){{this._getDataPoints(a)}void 0===b.progress&&(b.progress=document.createElement("DIV"),b.progress.style.position="absolute",b.progress.style.color="gray",b.appendChild(b.progress));var c=this.getLoadedProgress();b.progress.innerHTML="Loading animation... "+c+"%",b.progress.style.bottom="60px",b.progress.style.left="10px";var d=this;setTimeout(function(){d.loadInBackground(a+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==b.progress&&(b.removeChild(b.progress),b.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},a.exports=d},function(a){function b(a,b){this.x=void 0!==a?a:0,this.y=void 0!==b?b:0}a.exports=b},function(a){function b(a,b,c){this.x=void 0!==a?a:0,this.y=void 0!==b?b:0,this.z=void 0!==c?c:0}b.subtract=function(a,c){var d=new b;return d.x=a.x-c.x,d.y=a.y-c.y,d.z=a.z-c.z,d
},b.add=function(a,c){var d=new b;return d.x=a.x+c.x,d.y=a.y+c.y,d.z=a.z+c.z,d},b.avg=function(a,c){return new b((a.x+c.x)/2,(a.y+c.y)/2,(a.z+c.z)/2)},b.crossProduct=function(a,c){var d=new b;return d.x=a.y*c.z-a.z*c.y,d.y=a.z*c.x-a.x*c.z,d.z=a.x*c.y-a.y*c.x,d},b.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},a.exports=b},function(a,b,c){function d(a,b){if(void 0===a)throw"Error: No container element defined";if(this.container=a,this.visible=b&&void 0!=b.visible?b.visible:!0,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var c=this;this.frame.slide.onmousedown=function(a){c._onMouseDown(a)},this.frame.prev.onclick=function(a){c.prev(a)},this.frame.play.onclick=function(a){c.togglePlay(a)},this.frame.next.onclick=function(a){c.next(a)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}var e=c(1);d.prototype.prev=function(){var a=this.getIndex();a>0&&(a--,this.setIndex(a))},d.prototype.next=function(){var a=this.getIndex();a<this.values.length-1&&(a++,this.setIndex(a))},d.prototype.playNext=function(){var a=new Date,b=this.getIndex();b<this.values.length-1?(b++,this.setIndex(b)):this.playLoop&&(b=0,this.setIndex(b));var c=new Date,d=c-a,e=Math.max(this.playInterval-d,0),f=this;this.playTimeout=setTimeout(function(){f.playNext()},e)},d.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},d.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},d.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},d.prototype.setOnChangeCallback=function(a){this.onChangeCallback=a},d.prototype.setPlayInterval=function(a){this.playInterval=a},d.prototype.getPlayInterval=function(){return this.playInterval},d.prototype.setPlayLoop=function(a){this.playLoop=a},d.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},d.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var a=this.indexToLeft(this.index);this.frame.slide.style.left=a+"px"}},d.prototype.setValues=function(a){this.values=a,this.values.length>0?this.setIndex(0):this.index=void 0},d.prototype.setIndex=function(a){if(!(a<this.values.length))throw"Error: index out of range";this.index=a,this.redraw(),this.onChange()},d.prototype.getIndex=function(){return this.index},d.prototype.get=function(){return this.values[this.index]},d.prototype._onMouseDown=function(a){var b=a.which?1===a.which:1===a.button;if(b){this.startClientX=a.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var c=this;this.onmousemove=function(a){c._onMouseMove(a)},this.onmouseup=function(a){c._onMouseUp(a)},e.addEventListener(document,"mousemove",this.onmousemove),e.addEventListener(document,"mouseup",this.onmouseup),e.preventDefault(a)}},d.prototype.leftToIndex=function(a){var b=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,c=a-3,d=Math.round(c/b*(this.values.length-1));return 0>d&&(d=0),d>this.values.length-1&&(d=this.values.length-1),d},d.prototype.indexToLeft=function(a){var b=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,c=a/(this.values.length-1)*b,d=c+3;return d},d.prototype._onMouseMove=function(a){var b=a.clientX-this.startClientX,c=this.startSlideX+b,d=this.leftToIndex(c);this.setIndex(d),e.preventDefault()},d.prototype._onMouseUp=function(){this.frame.style.cursor="auto",e.removeEventListener(document,"mousemove",this.onmousemove),e.removeEventListener(document,"mouseup",this.onmouseup),e.preventDefault()},a.exports=d},function(a){function b(a,b,c,d){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(a,b,c,d)}b.prototype.setRange=function(a,b,c,d){this._start=a?a:0,this._end=b?b:0,this.setStep(c,d)},b.prototype.setStep=function(a,c){void 0===a||0>=a||(void 0!==c&&(this.prettyStep=c),this._step=this.prettyStep===!0?b.calculatePrettyStep(a):a)},b.calculatePrettyStep=function(a){var b=function(a){return Math.log(a)/Math.LN10},c=Math.pow(10,Math.round(b(a))),d=2*Math.pow(10,Math.round(b(a/2))),e=5*Math.pow(10,Math.round(b(a/5))),f=c;return Math.abs(d-a)<=Math.abs(f-a)&&(f=d),Math.abs(e-a)<=Math.abs(f-a)&&(f=e),0>=f&&(f=1),f},b.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},b.prototype.getStep=function(){return this._step},b.prototype.start=function(){this._current=this._start-this._start%this._step},b.prototype.next=function(){this._current+=this._step},b.prototype.end=function(){return this._current>this._end},a.exports=b},function(a,b,c){function d(a,b,c,g){if(!(this instanceof d))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(c)||c instanceof f)&&c instanceof Object){var i=g;g=c,c=i}var n=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:"bottom",width:null,height:null,maxHeight:null,minHeight:null},this.options=e.deepExtend({},this.defaultOptions),this._create(a),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{snap:null,toScreen:n._toScreen.bind(n),toGlobalScreen:n._toGlobalScreen.bind(n),toTime:n._toTime.bind(n),toGlobalTime:n._toGlobalTime.bind(n)}},this.range=new h(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new j(this.body),this.components.push(this.timeAxis),this.body.util.snap=this.timeAxis.snap.bind(this.timeAxis),this.currentTime=new k(this.body),this.components.push(this.currentTime),this.customTime=new l(this.body),this.components.push(this.customTime),this.itemSet=new m(this.body),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,g&&this.setOptions(g),c&&this.setGroups(c),b?this.setItems(b):this.redraw()}var e=(c(56),c(45),c(1)),f=c(3),g=c(4),h=c(17),i=c(46),j=c(30),k=c(21),l=c(22),m=c(27);d.prototype=new i,d.prototype.setItems=function(a){var b,c=null==this.itemsData;if(b=a?a instanceof f||a instanceof g?a:new f(a,{type:{start:"Date",end:"Date"}}):null,this.itemsData=b,this.itemSet&&this.itemSet.setItems(b),c)if(void 0!=this.options.start||void 0!=this.options.end){if(void 0==this.options.start||void 0==this.options.end)var d=this._getDataRange();var e=void 0!=this.options.start?this.options.start:d.start,h=void 0!=this.options.end?this.options.end:d.end;this.setWindow(e,h,{animate:!1})}else this.fit({animate:!1})},d.prototype.setGroups=function(a){var b;b=a?a instanceof f||a instanceof g?a:new f(a):null,this.groupsData=b,this.itemSet.setGroups(b)},d.prototype.setSelection=function(a,b){this.itemSet&&this.itemSet.setSelection(a),b&&b.focus&&this.focus(a,b)},d.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},d.prototype.focus=function(a,b){if(this.itemsData&&void 0!=a){var c=Array.isArray(a)?a:[a],d=this.itemsData.getDataSet().get(c,{type:{start:"Date",end:"Date"}}),e=null,f=null;if(d.forEach(function(a){var b=a.start.valueOf(),c="end"in a?a.end.valueOf():a.start.valueOf();(null===e||e>b)&&(e=b),(null===f||c>f)&&(f=c)}),null!==e&&null!==f){var g=(e+f)/2,h=Math.max(this.range.end-this.range.start,1.1*(f-e)),i=b&&void 0!==b.animate?b.animate:!0;this.range.setRange(g-h/2,g+h/2,i)}}},d.prototype.getItemRange=function(){var a=this.itemsData.getDataSet(),b=null,c=null;if(a){var d=a.min("start");b=d?e.convert(d.start,"Date").valueOf():null;var f=a.max("start");f&&(c=e.convert(f.start,"Date").valueOf());var g=a.max("end");g&&(c=null==c?e.convert(g.end,"Date").valueOf():Math.max(c,e.convert(g.end,"Date").valueOf()))}return{min:null!=b?new Date(b):null,max:null!=c?new Date(c):null}},a.exports=d},function(a,b,c){function d(a,b,c,d){if(!(Array.isArray(c)||c instanceof f)&&c instanceof Object){var g=d;d=c,c=g}var i=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:"bottom",width:null,height:null,maxHeight:null,minHeight:null},this.options=e.deepExtend({},this.defaultOptions),this._create(a),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{snap:null,toScreen:i._toScreen.bind(i),toGlobalScreen:i._toGlobalScreen.bind(i),toTime:i._toTime.bind(i),toGlobalTime:i._toGlobalTime.bind(i)}},this.range=new h(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new j(this.body),this.components.push(this.timeAxis),this.body.util.snap=this.timeAxis.snap.bind(this.timeAxis),this.currentTime=new k(this.body),this.components.push(this.currentTime),this.customTime=new l(this.body),this.components.push(this.customTime),this.linegraph=new m(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,d&&this.setOptions(d),c&&this.setGroups(c),b?this.setItems(b):this.redraw()}var e=(c(56),c(45),c(1)),f=c(3),g=c(4),h=c(17),i=c(46),j=c(30),k=c(21),l=c(22),m=c(29);d.prototype=new i,d.prototype.setItems=function(a){var b,c=null==this.itemsData;if(b=a?a instanceof f||a instanceof g?a:new f(a,{type:{start:"Date",end:"Date"}}):null,this.itemsData=b,this.linegraph&&this.linegraph.setItems(b),c)if(void 0!=this.options.start||void 0!=this.options.end){var d=void 0!=this.options.start?this.options.start:null,e=void 0!=this.options.end?this.options.end:null;this.setWindow(d,e,{animate:!1})}else this.fit({animate:!1})},d.prototype.setGroups=function(a){var b;b=a?a instanceof f||a instanceof g?a:new f(a):null,this.groupsData=b,this.linegraph.setGroups(b)},d.prototype.getLegend=function(a,b,c){return void 0===b&&(b=15),void 0===c&&(c=15),void 0!==this.linegraph.groups[a]?this.linegraph.groups[a].getLegend(b,c):"cannot find group:"+a},d.prototype.isGroupVisible=function(a){return void 0!==this.linegraph.groups[a]?this.linegraph.groups[a].visible&&(void 0===this.linegraph.options.groups.visibility[a]||1==this.linegraph.options.groups.visibility[a]):!1},d.prototype.getItemRange=function(){var a=null,b=null;for(var c in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(c)&&1==this.linegraph.groups[c].visible)for(var d=0;d<this.linegraph.groups[c].itemsData.length;d++){var f=this.linegraph.groups[c].itemsData[d],g=e.convert(f.x,"Date").valueOf();a=null==a?g:a>g?g:a,b=null==b?g:g>b?g:b}return{min:null!=a?new Date(a):null,max:null!=b?new Date(b):null}},a.exports=d},function(a,b,c){var d=c(44);b.convertHiddenOptions=function(a,b){if(a.hiddenDates=[],b&&1==Array.isArray(b)){for(var c=0;c<b.length;c++)if(void 0===b[c].repeat){var e={};e.start=d(b[c].start).toDate().valueOf(),e.end=d(b[c].end).toDate().valueOf(),a.hiddenDates.push(e)}a.hiddenDates.sort(function(a,b){return a.start-b.start})}},b.updateHiddenDates=function(a,c){if(c&&void 0!==a.domProps.centerContainer.width){b.convertHiddenOptions(a,c);for(var e=d(a.range.start),f=d(a.range.end),g=a.range.end-a.range.start,h=g/a.domProps.centerContainer.width,i=0;i<c.length;i++)if(void 0!==c[i].repeat){var j=d(c[i].start),k=d(c[i].end);if("Invalid Date"==j._d)throw new Error("Supplied start date is not valid: "+c[i].start);if("Invalid Date"==k._d)throw new Error("Supplied end date is not valid: "+c[i].end);var l=k-j;if(l>=4*h){var m=0,n=f.clone();switch(c[i].repeat){case"daily":j.day()!=k.day()&&(m=1),j.dayOfYear(e.dayOfYear()),j.year(e.year()),j.subtract(7,"days"),k.dayOfYear(e.dayOfYear()),k.year(e.year()),k.subtract(7-m,"days"),n.add(1,"weeks");break;case"weekly":var o=k.diff(j,"days"),p=j.day();j.date(e.date()),j.month(e.month()),j.year(e.year()),k=j.clone(),j.day(p),k.day(p),k.add(o,"days"),j.subtract(1,"weeks"),k.subtract(1,"weeks"),n.add(1,"weeks");break;case"monthly":j.month()!=k.month()&&(m=1),j.month(e.month()),j.year(e.year()),j.subtract(1,"months"),k.month(e.month()),k.year(e.year()),k.subtract(1,"months"),k.add(m,"months"),n.add(1,"months");break;case"yearly":j.year()!=k.year()&&(m=1),j.year(e.year()),j.subtract(1,"years"),k.year(e.year()),k.subtract(1,"years"),k.add(m,"years"),n.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",c[i].repeat)}for(;n>j;)switch(a.hiddenDates.push({start:j.valueOf(),end:k.valueOf()}),c[i].repeat){case"daily":j.add(1,"days"),k.add(1,"days");break;case"weekly":j.add(1,"weeks"),k.add(1,"weeks");break;case"monthly":j.add(1,"months"),k.add(1,"months");break;case"yearly":j.add(1,"y"),k.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",c[i].repeat)}a.hiddenDates.push({start:j.valueOf(),end:k.valueOf()})}}b.removeDuplicates(a);var q=b.isHidden(a.range.start,a.hiddenDates),r=b.isHidden(a.range.end,a.hiddenDates),s=a.range.start,t=a.range.end;1==q.hidden&&(s=1==a.range.startToFront?q.startDate-1:q.endDate+1),1==r.hidden&&(t=1==a.range.endToFront?r.startDate-1:r.endDate+1),(1==q.hidden||1==r.hidden)&&a.range._applyRange(s,t)}},b.removeDuplicates=function(a){for(var b=a.hiddenDates,c=[],d=0;d<b.length;d++)for(var e=0;e<b.length;e++)d!=e&&1!=b[e].remove&&1!=b[d].remove&&(b[e].start>=b[d].start&&b[e].end<=b[d].end?b[e].remove=!0:b[e].start>=b[d].start&&b[e].start<=b[d].end?(b[d].end=b[e].end,b[e].remove=!0):b[e].end>=b[d].start&&b[e].end<=b[d].end&&(b[d].start=b[e].start,b[e].remove=!0));for(var d=0;d<b.length;d++)b[d].remove!==!0&&c.push(b[d]);a.hiddenDates=c,a.hiddenDates.sort(function(a,b){return a.start-b.start})},b.printDates=function(a){for(var b=0;b<a.length;b++)console.log(b,new Date(a[b].start),new Date(a[b].end),a[b].start,a[b].end,a[b].remove)},b.stepOverHiddenDates=function(a,b){for(var c=!1,e=a.current.valueOf(),f=0;f<a.hiddenDates.length;f++){var g=a.hiddenDates[f].start,h=a.hiddenDates[f].end;if(e>=g&&h>e){c=!0;break}}if(1==c&&e<a._end.valueOf()&&e!=b){var i=d(b),j=d(h);i.year()!=j.year()?a.switchedYear=!0:i.month()!=j.month()?a.switchedMonth=!0:i.dayOfYear()!=j.dayOfYear()&&(a.switchedDay=!0),a.current=j.toDate()}},b.toScreen=function(a,c,d){if(0==a.body.hiddenDates.length){var e=a.range.conversion(d);return(c.valueOf()-e.offset)*e.scale}var f=b.isHidden(c,a.body.hiddenDates);1==f.hidden&&(c=f.startDate);var g=b.getHiddenDurationBetween(a.body.hiddenDates,a.range.start,a.range.end);c=b.correctTimeForHidden(a.body.hiddenDates,a.range,c);var e=a.range.conversion(d,g);return(c.valueOf()-e.offset)*e.scale},b.toTime=function(a,c,d){if(0==a.body.hiddenDates.length){var e=a.range.conversion(d);return new Date(c/e.scale+e.offset)}var f=b.getHiddenDurationBetween(a.body.hiddenDates,a.range.start,a.range.end),g=a.range.end-a.range.start-f,h=g*c/d,i=b.getAccumulatedHiddenDuration(a.body.hiddenDates,a.range,h),j=new Date(i+h+a.range.start);return j},b.getHiddenDurationBetween=function(a,b,c){for(var d=0,e=0;e<a.length;e++){var f=a[e].start,g=a[e].end;f>=b&&c>g&&(d+=g-f)}return d},b.correctTimeForHidden=function(a,c,e){return e=d(e).toDate().valueOf(),e-=b.getHiddenDurationBefore(a,c,e)},b.getHiddenDurationBefore=function(a,b,c){var e=0;c=d(c).toDate().valueOf();for(var f=0;f<a.length;f++){var g=a[f].start,h=a[f].end;g>=b.start&&h<b.end&&c>=h&&(e+=h-g)}return e},b.getAccumulatedHiddenDuration=function(a,b,c){for(var d=0,e=0,f=b.start,g=0;g<a.length;g++){var h=a[g].start,i=a[g].end;if(h>=b.start&&i<b.end){if(e+=h-f,f=i,e>=c)break;d+=i-h}}return d},b.snapAwayFromHidden=function(a,c,d,e){var f=b.isHidden(c,a);return 1==f.hidden?0>d?1==e?f.startDate-(f.endDate-c)-1:f.startDate-1:1==e?f.endDate+(c-f.startDate)+1:f.endDate+1:c},b.isHidden=function(a,b){for(var c=0;c<b.length;c++){var d=b[c].start,e=b[c].end;if(a>=d&&e>a)return{hidden:!0,startDate:d,endDate:e}}return{hidden:!1,startDate:d,endDate:e}}},function(a){function b(a,b,c,d,e,f){this.current=0,this.autoScale=!0,this.stepIndex=0,this.step=1,this.scale=1,this.marginStart,this.marginEnd,this.deadSpace=0,this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.alignZeros=f,this.setRange(a,b,c,d,e)}b.prototype.setRange=function(a,b,c,d,e){this._start=void 0===e.min?a:e.min,this._end=void 0===e.max?b:e.max,this._start==this._end&&(this._start-=.75,this._end+=1),1==this.autoScale&&this.setMinimumStep(c,d),this.setFirst(e)},b.prototype.setMinimumStep=function(a,b){var c=this._end-this._start,d=1.2*c,e=a*(d/b),f=Math.round(Math.log(d)/Math.LN10),g=-1,h=Math.pow(10,f),i=0;0>f&&(i=f);for(var j=!1,k=i;Math.abs(k)<=Math.abs(f);k++){h=Math.pow(10,k);for(var l=0;l<this.minorSteps.length;l++){var m=h*this.minorSteps[l];if(m>=e){j=!0,g=l;break}}if(1==j)break}this.stepIndex=g,this.scale=h,this.step=h*this.minorSteps[g]},b.prototype.setFirst=function(a){void 0===a&&(a={});var b=void 0===a.min?this._start-2*this.scale*this.minorSteps[this.stepIndex]:a.min,c=void 0===a.max?this._end+this.scale*this.minorSteps[this.stepIndex]:a.max;this.marginEnd=void 0===a.max?this.roundToMinor(c):a.max,this.marginStart=void 0===a.min?this.roundToMinor(b):a.min,1==this.alignZeros&&(this.marginEnd-this.marginStart)%this.step!=0&&(this.marginEnd+=this.marginEnd%this.step),this.deadSpace=this.roundToMinor(c)-c+this.roundToMinor(b)-b,this.marginRange=this.marginEnd-this.marginStart,this.current=this.marginEnd},b.prototype.roundToMinor=function(a){var b=a-a%(this.scale*this.minorSteps[this.stepIndex]);return a%(this.scale*this.minorSteps[this.stepIndex])>.5*this.scale*this.minorSteps[this.stepIndex]?b+this.scale*this.minorSteps[this.stepIndex]:b},b.prototype.hasNext=function(){return this.current>=this.marginStart},b.prototype.next=function(){var a=this.current;this.current-=this.step,this.current==a&&(this.current=this._end)},b.prototype.previous=function(){this.current+=this.step,this.marginEnd+=this.step,this.marginRange=this.marginEnd-this.marginStart},b.prototype.getCurrent=function(a){var b=""+Number(this.current).toPrecision(5);if(void 0===a||isNaN(Number(a))){if(-1!=b.indexOf(",")||-1!=b.indexOf("."))for(var c=b.length-1;c>0;c--){if("0"!=b[c]){if("."==b[c]||","==b[c]){b=b.slice(0,c);break}break}b=b.slice(0,c)}}else{var d="",e=b.indexOf("e");if(-1!=e&&(d=b.slice(e),b=b.slice(0,e)),e=Math.max(b.indexOf(","),b.indexOf(".")),-1===e?(0!==a&&(b+="."),e=b.length+a):0!==a&&(e+=a+1),e>b.length)for(var f=e-b.length;f>0;f--)b+="0";else b=b.slice(0,e);b+=d}return b},b.prototype.snap=function(){},b.prototype.isMajor=function(){return this.current%(this.scale*this.majorSteps[this.stepIndex])==0},a.exports=b},function(a,b,c){function d(a,b){var c=i().hours(0).minutes(0).seconds(0).milliseconds(0);this.start=c.clone().add(-3,"days").valueOf(),this.end=c.clone().add(4,"days").valueOf(),this.body=a,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={start:null,end:null,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10},this.options=g.extend({},this.defaultOptions),this.props={touch:{}},this.animateTimer=null,this.body.emitter.on("dragstart",this._onDragStart.bind(this)),this.body.emitter.on("drag",this._onDrag.bind(this)),this.body.emitter.on("dragend",this._onDragEnd.bind(this)),this.body.emitter.on("hold",this._onHold.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("DOMMouseScroll",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.setOptions(b)}function e(a){if("horizontal"!=a&&"vertical"!=a)throw new TypeError('Unknown direction "'+a+'". Choose "horizontal" or "vertical".')}function f(a,b){return{x:a.pageX-g.getAbsoluteLeft(b),y:a.pageY-g.getAbsoluteTop(b)}}var g=c(1),h=c(47),i=c(44),j=c(20),k=c(15);d.prototype=new j,d.prototype.setOptions=function(a){if(a){var b=["direction","min","max","zoomMin","zoomMax","moveable","zoomable","activate","hiddenDates"];g.selectiveExtend(b,this.options,a),("start"in a||"end"in a)&&this.setRange(a.start,a.end)}},d.prototype.setRange=function(a,b,c){var d=void 0!=a?g.convert(a,"Date").valueOf():null,e=void 0!=b?g.convert(b,"Date").valueOf():null;if(this._cancelAnimation(),c){var f=this,h=this.start,i=this.end,j="number"==typeof c?c:500,l=(new Date).valueOf(),m=!1,n=function(){if(!f.props.touch.dragging){var a=(new Date).valueOf(),b=a-l,c=b>j,p=c||null===d?d:g.easeInOutQuad(b,h,d,j),q=c||null===e?e:g.easeInOutQuad(b,i,e,j);o=f._applyRange(p,q),k.updateHiddenDates(f.body,f.options.hiddenDates),m=m||o,o&&f.body.emitter.emit("rangechange",{start:new Date(f.start),end:new Date(f.end)}),c?m&&f.body.emitter.emit("rangechanged",{start:new Date(f.start),end:new Date(f.end)}):f.animateTimer=setTimeout(n,20)}};return n()}var o=this._applyRange(d,e);if(k.updateHiddenDates(this.body,this.options.hiddenDates),o){var p={start:new Date(this.start),end:new Date(this.end)};this.body.emitter.emit("rangechange",p),this.body.emitter.emit("rangechanged",p)}},d.prototype._cancelAnimation=function(){this.animateTimer&&(clearTimeout(this.animateTimer),this.animateTimer=null)},d.prototype._applyRange=function(a,b){var c,d=null!=a?g.convert(a,"Date").valueOf():this.start,e=null!=b?g.convert(b,"Date").valueOf():this.end,f=null!=this.options.max?g.convert(this.options.max,"Date").valueOf():null,h=null!=this.options.min?g.convert(this.options.min,"Date").valueOf():null;if(isNaN(d)||null===d)throw new Error('Invalid start "'+a+'"');if(isNaN(e)||null===e)throw new Error('Invalid end "'+b+'"');if(d>e&&(e=d),null!==h&&h>d&&(c=h-d,d+=c,e+=c,null!=f&&e>f&&(e=f)),null!==f&&e>f&&(c=e-f,d-=c,e-=c,null!=h&&h>d&&(d=h)),null!==this.options.zoomMin){var i=parseFloat(this.options.zoomMin);0>i&&(i=0),i>e-d&&(this.end-this.start===i?(d=this.start,e=this.end):(c=i-(e-d),d-=c/2,e+=c/2))}if(null!==this.options.zoomMax){var j=parseFloat(this.options.zoomMax);0>j&&(j=0),e-d>j&&(this.end-this.start===j?(d=this.start,e=this.end):(c=e-d-j,d+=c/2,e-=c/2))}var k=this.start!=d||this.end!=e;return d>=this.start&&d<=this.end||e>=this.start&&e<=this.end||this.start>=d&&this.start<=e||this.end>=d&&this.end<=e||this.body.emitter.emit("checkRangedItems"),this.start=d,this.end=e,k},d.prototype.getRange=function(){return{start:this.start,end:this.end}},d.prototype.conversion=function(a,b){return d.conversion(this.start,this.end,a,b)},d.conversion=function(a,b,c,d){return void 0===d&&(d=0),0!=c&&b-a!=0?{offset:a,scale:c/(b-a-d)}:{offset:0,scale:1}},d.prototype._onDragStart=function(){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},d.prototype._onDrag=function(a){if(this.options.moveable&&this.props.touch.allowDragging){var b=this.options.direction;e(b);var c="horizontal"==b?a.gesture.deltaX:a.gesture.deltaY;c-=this.deltaDifference;var d=this.props.touch.end-this.props.touch.start,f=k.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);d-=f;var g="horizontal"==b?this.body.domProps.center.width:this.body.domProps.center.height,h=-c/g*d,i=this.props.touch.start+h,j=this.props.touch.end+h,l=k.snapAwayFromHidden(this.body.hiddenDates,i,this.previousDelta-c,!0),m=k.snapAwayFromHidden(this.body.hiddenDates,j,this.previousDelta-c,!0);if(l!=i||m!=j)return this.deltaDifference+=c,this.props.touch.start=l,this.props.touch.end=m,void this._onDrag(a);this.previousDelta=c,this._applyRange(i,j),this.body.emitter.emit("rangechange",{start:new Date(this.start),end:new Date(this.end)})}},d.prototype._onDragEnd=function(){this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end)}))},d.prototype._onMouseWheel=function(a){if(this.options.zoomable&&this.options.moveable){var b=0;if(a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3),b){var c;c=0>b?1-b/5:1/(1+b/5);var d=h.fakeGesture(this,a),e=f(d.center,this.body.dom.center),g=this._pointerToDate(e);this.zoom(c,g,b)}a.preventDefault()}},d.prototype._onTouch=function(){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0},d.prototype._onHold=function(){this.props.touch.allowDragging=!1},d.prototype._onPinch=function(a){if(this.options.zoomable&&this.options.moveable&&(this.props.touch.allowDragging=!1,a.gesture.touches.length>1)){this.props.touch.center||(this.props.touch.center=f(a.gesture.center,this.body.dom.center));var b=1/(a.gesture.scale+this.scaleOffset),c=this._pointerToDate(this.props.touch.center),d=k.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),e=k.getHiddenDurationBefore(this.body.hiddenDates,this,c),g=d-e,h=c-e+(this.props.touch.start-(c-e))*b,i=c+g+(this.props.touch.end-(c+g))*b;this.startToFront=1-b>0?!1:!0,this.endToFront=b-1>0?!1:!0;var j=k.snapAwayFromHidden(this.body.hiddenDates,h,1-b,!0),l=k.snapAwayFromHidden(this.body.hiddenDates,i,b-1,!0);(j!=h||l!=i)&&(this.props.touch.start=j,this.props.touch.end=l,this.scaleOffset=1-a.gesture.scale,h=j,i=l),this.setRange(h,i),this.startToFront=!1,this.endToFront=!0}},d.prototype._pointerToDate=function(a){var b,c=this.options.direction;if(e(c),"horizontal"==c)return this.body.util.toTime(a.x).valueOf();var d=this.body.domProps.center.height;return b=this.conversion(d),a.y/b.scale+b.offset},d.prototype.zoom=function(a,b,c){null==b&&(b=(this.start+this.end)/2);var d=k.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),e=k.getHiddenDurationBefore(this.body.hiddenDates,this,b),f=d-e,g=b-e+(this.start-(b-e))*a,h=b+f+(this.end-(b+f))*a;this.startToFront=c>0?!1:!0,this.endToFront=-c>0?!1:!0;var i=k.snapAwayFromHidden(this.body.hiddenDates,g,c,!0),j=k.snapAwayFromHidden(this.body.hiddenDates,h,-c,!0);(i!=g||j!=h)&&(g=i,h=j),this.setRange(g,h),this.startToFront=!1,this.endToFront=!0},d.prototype.move=function(a){var b=this.end-this.start,c=this.start+b*a,d=this.end+b*a;this.start=c,this.end=d},d.prototype.moveTo=function(a){var b=(this.start+this.end)/2,c=b-a,d=this.start-c,e=this.end-c;this.setRange(d,e)},a.exports=d},function(a,b){var c=.001;b.orderByStart=function(a){a.sort(function(a,b){return a.data.start-b.data.start})},b.orderByEnd=function(a){a.sort(function(a,b){var c="end"in a.data?a.data.end:a.data.start,d="end"in b.data?b.data.end:b.data.start;return c-d})},b.stack=function(a,c,d){var e,f;if(d)for(e=0,f=a.length;f>e;e++)a[e].top=null;for(e=0,f=a.length;f>e;e++){var g=a[e];if(g.stack&&null===g.top){g.top=c.axis;do{for(var h=null,i=0,j=a.length;j>i;i++){var k=a[i];if(null!==k.top&&k!==g&&k.stack&&b.collision(g,k,c.item)){h=k;break}}null!=h&&(g.top=h.top+h.height+c.item.vertical)}while(h)}}},b.nostack=function(a,b,c){var d,e,f;for(d=0,e=a.length;e>d;d++)if(void 0!==a[d].data.subgroup){f=b.axis;for(var g in c)c.hasOwnProperty(g)&&1==c[g].visible&&c[g].index<c[a[d].data.subgroup].index&&(f+=c[g].height+b.item.vertical);a[d].top=f}else a[d].top=b.axis},b.collision=function(a,b,d){return a.left-d.horizontal+c<b.left+b.width&&a.left+a.width+d.horizontal-c>b.left&&a.top-d.vertical+c<b.top+b.height&&a.top+a.height+d.vertical-c>b.top}},function(a,b,c){function d(a,b,c,e){this.current=new Date,this._start=new Date,this._end=new Date,this.autoScale=!0,this.scale=d.SCALE.DAY,this.step=1,this.setRange(a,b,c),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,this.hiddenDates=e,void 0===e&&(this.hiddenDates=[])}var e=c(44),f=c(15);d.SCALE={MILLISECOND:1,SECOND:2,MINUTE:3,HOUR:4,DAY:5,WEEKDAY:6,MONTH:7,YEAR:8},d.prototype.setRange=function(a,b,c){if(!(a instanceof Date&&b instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=a?new Date(a.valueOf()):new Date,this._end=void 0!=b?new Date(b.valueOf()):new Date,this.autoScale&&this.setMinimumStep(c)},d.prototype.first=function(){this.current=new Date(this._start.valueOf()),this.roundToMinor()},d.prototype.roundToMinor=function(){switch(this.scale){case d.SCALE.YEAR:this.current.setFullYear(this.step*Math.floor(this.current.getFullYear()/this.step)),this.current.setMonth(0);case d.SCALE.MONTH:this.current.setDate(1);case d.SCALE.DAY:case d.SCALE.WEEKDAY:this.current.setHours(0);case d.SCALE.HOUR:this.current.setMinutes(0);case d.SCALE.MINUTE:this.current.setSeconds(0);case d.SCALE.SECOND:this.current.setMilliseconds(0)}if(1!=this.step)switch(this.scale){case d.SCALE.MILLISECOND:this.current.setMilliseconds(this.current.getMilliseconds()-this.current.getMilliseconds()%this.step);break;case d.SCALE.SECOND:this.current.setSeconds(this.current.getSeconds()-this.current.getSeconds()%this.step);break;case d.SCALE.MINUTE:this.current.setMinutes(this.current.getMinutes()-this.current.getMinutes()%this.step);break;case d.SCALE.HOUR:this.current.setHours(this.current.getHours()-this.current.getHours()%this.step);break;case d.SCALE.WEEKDAY:case d.SCALE.DAY:this.current.setDate(this.current.getDate()-1-(this.current.getDate()-1)%this.step+1);break;case d.SCALE.MONTH:this.current.setMonth(this.current.getMonth()-this.current.getMonth()%this.step);break;case d.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()-this.current.getFullYear()%this.step)}},d.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},d.prototype.next=function(){var a=this.current.valueOf();if(this.current.getMonth()<6)switch(this.scale){case d.SCALE.MILLISECOND:this.current=new Date(this.current.valueOf()+this.step);break;case d.SCALE.SECOND:this.current=new Date(this.current.valueOf()+1e3*this.step);break;case d.SCALE.MINUTE:this.current=new Date(this.current.valueOf()+1e3*this.step*60);break;case d.SCALE.HOUR:this.current=new Date(this.current.valueOf()+1e3*this.step*60*60);var b=this.current.getHours();this.current.setHours(b-b%this.step);break;case d.SCALE.WEEKDAY:case d.SCALE.DAY:this.current.setDate(this.current.getDate()+this.step);break;case d.SCALE.MONTH:this.current.setMonth(this.current.getMonth()+this.step);break;case d.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()+this.step)}else switch(this.scale){case d.SCALE.MILLISECOND:this.current=new Date(this.current.valueOf()+this.step);break;case d.SCALE.SECOND:this.current.setSeconds(this.current.getSeconds()+this.step);break;case d.SCALE.MINUTE:this.current.setMinutes(this.current.getMinutes()+this.step);break;case d.SCALE.HOUR:this.current.setHours(this.current.getHours()+this.step);
break;case d.SCALE.WEEKDAY:case d.SCALE.DAY:this.current.setDate(this.current.getDate()+this.step);break;case d.SCALE.MONTH:this.current.setMonth(this.current.getMonth()+this.step);break;case d.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()+this.step)}if(1!=this.step)switch(this.scale){case d.SCALE.MILLISECOND:this.current.getMilliseconds()<this.step&&this.current.setMilliseconds(0);break;case d.SCALE.SECOND:this.current.getSeconds()<this.step&&this.current.setSeconds(0);break;case d.SCALE.MINUTE:this.current.getMinutes()<this.step&&this.current.setMinutes(0);break;case d.SCALE.HOUR:this.current.getHours()<this.step&&this.current.setHours(0);break;case d.SCALE.WEEKDAY:case d.SCALE.DAY:this.current.getDate()<this.step+1&&this.current.setDate(1);break;case d.SCALE.MONTH:this.current.getMonth()<this.step&&this.current.setMonth(0);break;case d.SCALE.YEAR:}this.current.valueOf()==a&&(this.current=new Date(this._end.valueOf())),f.stepOverHiddenDates(this,a)},d.prototype.getCurrent=function(){return this.current},d.prototype.setScale=function(a,b){this.scale=a,b>0&&(this.step=b),this.autoScale=!1},d.prototype.setAutoScale=function(a){this.autoScale=a},d.prototype.setMinimumStep=function(a){if(void 0!=a){var b=31104e6,c=2592e6,e=864e5,f=36e5,g=6e4,h=1e3,i=1;1e3*b>a&&(this.scale=d.SCALE.YEAR,this.step=1e3),500*b>a&&(this.scale=d.SCALE.YEAR,this.step=500),100*b>a&&(this.scale=d.SCALE.YEAR,this.step=100),50*b>a&&(this.scale=d.SCALE.YEAR,this.step=50),10*b>a&&(this.scale=d.SCALE.YEAR,this.step=10),5*b>a&&(this.scale=d.SCALE.YEAR,this.step=5),b>a&&(this.scale=d.SCALE.YEAR,this.step=1),3*c>a&&(this.scale=d.SCALE.MONTH,this.step=3),c>a&&(this.scale=d.SCALE.MONTH,this.step=1),5*e>a&&(this.scale=d.SCALE.DAY,this.step=5),2*e>a&&(this.scale=d.SCALE.DAY,this.step=2),e>a&&(this.scale=d.SCALE.DAY,this.step=1),e/2>a&&(this.scale=d.SCALE.WEEKDAY,this.step=1),4*f>a&&(this.scale=d.SCALE.HOUR,this.step=4),f>a&&(this.scale=d.SCALE.HOUR,this.step=1),15*g>a&&(this.scale=d.SCALE.MINUTE,this.step=15),10*g>a&&(this.scale=d.SCALE.MINUTE,this.step=10),5*g>a&&(this.scale=d.SCALE.MINUTE,this.step=5),g>a&&(this.scale=d.SCALE.MINUTE,this.step=1),15*h>a&&(this.scale=d.SCALE.SECOND,this.step=15),10*h>a&&(this.scale=d.SCALE.SECOND,this.step=10),5*h>a&&(this.scale=d.SCALE.SECOND,this.step=5),h>a&&(this.scale=d.SCALE.SECOND,this.step=1),200*i>a&&(this.scale=d.SCALE.MILLISECOND,this.step=200),100*i>a&&(this.scale=d.SCALE.MILLISECOND,this.step=100),50*i>a&&(this.scale=d.SCALE.MILLISECOND,this.step=50),10*i>a&&(this.scale=d.SCALE.MILLISECOND,this.step=10),5*i>a&&(this.scale=d.SCALE.MILLISECOND,this.step=5),i>a&&(this.scale=d.SCALE.MILLISECOND,this.step=1)}},d.prototype.snap=function(a){var b=new Date(a.valueOf());if(this.scale==d.SCALE.YEAR){var c=b.getFullYear()+Math.round(b.getMonth()/12);b.setFullYear(Math.round(c/this.step)*this.step),b.setMonth(0),b.setDate(0),b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0)}else if(this.scale==d.SCALE.MONTH)b.getDate()>15?(b.setDate(1),b.setMonth(b.getMonth()+1)):b.setDate(1),b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0);else if(this.scale==d.SCALE.DAY){switch(this.step){case 5:case 2:b.setHours(24*Math.round(b.getHours()/24));break;default:b.setHours(12*Math.round(b.getHours()/12))}b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0)}else if(this.scale==d.SCALE.WEEKDAY){switch(this.step){case 5:case 2:b.setHours(12*Math.round(b.getHours()/12));break;default:b.setHours(6*Math.round(b.getHours()/6))}b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0)}else if(this.scale==d.SCALE.HOUR){switch(this.step){case 4:b.setMinutes(60*Math.round(b.getMinutes()/60));break;default:b.setMinutes(30*Math.round(b.getMinutes()/30))}b.setSeconds(0),b.setMilliseconds(0)}else if(this.scale==d.SCALE.MINUTE){switch(this.step){case 15:case 10:b.setMinutes(5*Math.round(b.getMinutes()/5)),b.setSeconds(0);break;case 5:b.setSeconds(60*Math.round(b.getSeconds()/60));break;default:b.setSeconds(30*Math.round(b.getSeconds()/30))}b.setMilliseconds(0)}else if(this.scale==d.SCALE.SECOND)switch(this.step){case 15:case 10:b.setSeconds(5*Math.round(b.getSeconds()/5)),b.setMilliseconds(0);break;case 5:b.setMilliseconds(1e3*Math.round(b.getMilliseconds()/1e3));break;default:b.setMilliseconds(500*Math.round(b.getMilliseconds()/500))}else if(this.scale==d.SCALE.MILLISECOND){var e=this.step>5?this.step/2:1;b.setMilliseconds(Math.round(b.getMilliseconds()/e)*e)}return b},d.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.switchedYear=!1,this.scale){case d.SCALE.YEAR:case d.SCALE.MONTH:case d.SCALE.WEEKDAY:case d.SCALE.DAY:case d.SCALE.HOUR:case d.SCALE.MINUTE:case d.SCALE.SECOND:case d.SCALE.MILLISECOND:return!0;default:return!1}else if(1==this.switchedMonth)switch(this.switchedMonth=!1,this.scale){case d.SCALE.WEEKDAY:case d.SCALE.DAY:case d.SCALE.HOUR:case d.SCALE.MINUTE:case d.SCALE.SECOND:case d.SCALE.MILLISECOND:return!0;default:return!1}else if(1==this.switchedDay)switch(this.switchedDay=!1,this.scale){case d.SCALE.MILLISECOND:case d.SCALE.SECOND:case d.SCALE.MINUTE:case d.SCALE.HOUR:return!0;default:return!1}switch(this.scale){case d.SCALE.MILLISECOND:return 0==this.current.getMilliseconds();case d.SCALE.SECOND:return 0==this.current.getSeconds();case d.SCALE.MINUTE:return 0==this.current.getHours()&&0==this.current.getMinutes();case d.SCALE.HOUR:return 0==this.current.getHours();case d.SCALE.WEEKDAY:case d.SCALE.DAY:return 1==this.current.getDate();case d.SCALE.MONTH:return 0==this.current.getMonth();case d.SCALE.YEAR:return!1;default:return!1}},d.prototype.getLabelMinor=function(a){switch(void 0==a&&(a=this.current),this.scale){case d.SCALE.MILLISECOND:return e(a).format("SSS");case d.SCALE.SECOND:return e(a).format("s");case d.SCALE.MINUTE:return e(a).format("HH:mm");case d.SCALE.HOUR:return e(a).format("HH:mm");case d.SCALE.WEEKDAY:return e(a).format("ddd D");case d.SCALE.DAY:return e(a).format("D");case d.SCALE.MONTH:return e(a).format("MMM");case d.SCALE.YEAR:return e(a).format("YYYY");default:return""}},d.prototype.getLabelMajor=function(a){switch(void 0==a&&(a=this.current),this.scale){case d.SCALE.MILLISECOND:return e(a).format("HH:mm:ss");case d.SCALE.SECOND:return e(a).format("D MMMM HH:mm");case d.SCALE.MINUTE:case d.SCALE.HOUR:return e(a).format("ddd D MMMM");case d.SCALE.WEEKDAY:case d.SCALE.DAY:return e(a).format("MMMM YYYY");case d.SCALE.MONTH:return e(a).format("YYYY");case d.SCALE.YEAR:return"";default:return""}},a.exports=d},function(a){function b(){this.options=null,this.props=null}b.prototype.setOptions=function(a){a&&util.extend(this.options,a)},b.prototype.redraw=function(){return!1},b.prototype.destroy=function(){},b.prototype._isResized=function(){var a=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,a},a.exports=b},function(a,b,c){function d(a,b){this.body=a,this.defaultOptions={showCurrentTime:!0,locales:h,locale:"en"},this.options=e.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(b)}var e=c(1),f=c(20),g=c(44),h=c(48);d.prototype=new f,d.prototype._create=function(){var a=document.createElement("div");a.className="currenttime",a.style.position="absolute",a.style.top="0px",a.style.height="100%",this.bar=a},d.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},d.prototype.setOptions=function(a){a&&e.selectiveExtend(["showCurrentTime","locale","locales"],this.options,a)},d.prototype.redraw=function(){if(this.options.showCurrentTime){var a=this.body.dom.backgroundVertical;this.bar.parentNode!=a&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),a.appendChild(this.bar),this.start());var b=new Date((new Date).valueOf()+this.offset),c=this.body.util.toScreen(b),d=this.options.locales[this.options.locale],e=d.current+" "+d.time+": "+g(b).format("dddd, MMMM Do YYYY, H:mm:ss");e=e.charAt(0).toUpperCase()+e.substring(1),this.bar.style.left=c+"px",this.bar.title=e}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},d.prototype.start=function(){function a(){b.stop();var c=b.body.range.conversion(b.body.domProps.center.width).scale,d=1/c/10;30>d&&(d=30),d>1e3&&(d=1e3),b.redraw(),b.currentTimeTimer=setTimeout(a,d)}var b=this;a()},d.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},d.prototype.setCurrentTime=function(a){var b=e.convert(a,"Date").valueOf(),c=(new Date).valueOf();this.offset=b-c,this.redraw()},d.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},a.exports=d},function(a,b,c){function d(a,b){this.body=a,this.defaultOptions={showCustomTime:!1,locales:i,locale:"en"},this.options=f.extend({},this.defaultOptions),this.customTime=new Date,this.eventParams={},this._create(),this.setOptions(b)}var e=c(45),f=c(1),g=c(20),h=c(44),i=c(48);d.prototype=new g,d.prototype.setOptions=function(a){a&&f.selectiveExtend(["showCustomTime","locale","locales"],this.options,a)},d.prototype._create=function(){var a=document.createElement("div");a.className="customtime",a.style.position="absolute",a.style.top="0px",a.style.height="100%",this.bar=a;var b=document.createElement("div");b.style.position="relative",b.style.top="0px",b.style.left="-10px",b.style.height="100%",b.style.width="20px",a.appendChild(b),this.hammer=e(a,{prevent_default:!0}),this.hammer.on("dragstart",this._onDragStart.bind(this)),this.hammer.on("drag",this._onDrag.bind(this)),this.hammer.on("dragend",this._onDragEnd.bind(this))},d.prototype.destroy=function(){this.options.showCustomTime=!1,this.redraw(),this.hammer.enable(!1),this.hammer=null,this.body=null},d.prototype.redraw=function(){if(this.options.showCustomTime){var a=this.body.dom.backgroundVertical;this.bar.parentNode!=a&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),a.appendChild(this.bar));var b=this.body.util.toScreen(this.customTime),c=this.options.locales[this.options.locale],d=c.time+": "+h(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss");d=d.charAt(0).toUpperCase()+d.substring(1),this.bar.style.left=b+"px",this.bar.title=d}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar);return!1},d.prototype.setCustomTime=function(a){this.customTime=f.convert(a,"Date"),this.redraw()},d.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},d.prototype._onDragStart=function(a){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,a.stopPropagation(),a.preventDefault()},d.prototype._onDrag=function(a){if(this.eventParams.dragging){var b=a.gesture.deltaX,c=this.body.util.toScreen(this.eventParams.customTime)+b,d=this.body.util.toTime(c);this.setCustomTime(d),this.body.emitter.emit("timechange",{time:new Date(this.customTime.valueOf())}),a.stopPropagation(),a.preventDefault()}},d.prototype._onDragEnd=function(a){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{time:new Date(this.customTime.valueOf())}),a.stopPropagation(),a.preventDefault())},a.exports=d},function(a,b,c){function d(a,b,c,d){this.id=e.randomUUID(),this.body=a,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!0,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,customRange:{left:{min:void 0,max:void 0},right:{min:void 0,max:void 0}},title:{left:{text:void 0},right:{text:void 0}},format:{left:{decimals:void 0},right:{decimals:void 0}}},this.linegraphOptions=d,this.linegraphSVG=c,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.range={start:0,end:0},this.options=e.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(b),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.offsetHeight,this.hidden=!1,this.stepPixels=25,this.stepPixelsForced=25,this.zeroCrossing=-1,this.lineOffset=0,this.master=!0,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create();var f=this;this.body.emitter.on("verticalDrag",function(){f.dom.lineContainer.style.top=f.body.domProps.scrollTop+"px"})}var e=c(1),f=c(2),g=c(20),h=c(16);d.prototype=new g,d.prototype.addGroup=function(a,b){this.groups.hasOwnProperty(a)||(this.groups[a]=b),this.amountOfGroups+=1},d.prototype.updateGroup=function(a,b){this.groups[a]=b},d.prototype.removeGroup=function(a){this.groups.hasOwnProperty(a)&&(delete this.groups[a],this.amountOfGroups-=1)},d.prototype.setOptions=function(a){if(a){var b=!1;this.options.orientation!=a.orientation&&void 0!==a.orientation&&(b=!0);var c=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","customRange","title","format","alignZeros"];e.selectiveExtend(c,this.options,a),this.minWidth=Number((""+this.options.width).replace("px","")),1==b&&this.dom.frame&&(this.hide(),this.show())}},d.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},d.prototype._redrawGroupIcons=function(){f.prepareElements(this.svgElements);var a,b=this.options.iconWidth,c=15,d=4,e=d+.5*c;a="left"==this.options.orientation?d:this.width-b-d;for(var g in this.groups)this.groups.hasOwnProperty(g)&&(1!=this.groups[g].visible||void 0!==this.linegraphOptions.visibility[g]&&1!=this.linegraphOptions.visibility[g]||(this.groups[g].drawIcon(a,e,this.svgElements,this.svg,b,c),e+=c+d));f.cleanupElements(this.svgElements),this.iconsRemoved=!1},d.prototype._cleanupIcons=function(){0==this.iconsRemoved&&(f.prepareElements(this.svgElements),f.cleanupElements(this.svgElements),this.iconsRemoved=!0)},d.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"==this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},d.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},d.prototype.setRange=function(a,b){0==this.master&&1==this.options.alignZeros&&-1!=this.zeroCrossing&&a>0&&(a=0),this.range.start=a,this.range.end=b},d.prototype.redraw=function(){var a=!1,b=0;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(var c in this.groups)this.groups.hasOwnProperty(c)&&(1!=this.groups[c].visible||void 0!==this.linegraphOptions.visibility[c]&&1!=this.linegraphOptions.visibility[c]||b++);if(0==this.amountOfGroups||0==b)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=1==this.options.visible?Number((""+this.options.width).replace("px","")):0;var d=this.props,e=this.dom.frame;e.className="dataaxis",this._calculateCharSize();var f=this.options.orientation,g=this.options.showMinorLabels,h=this.options.showMajorLabels;d.minorLabelHeight=g?d.minorCharHeight:0,d.majorLabelHeight=h?d.majorCharHeight:0,d.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,d.minorLineHeight=1,d.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,d.majorLineHeight=1,"left"==f?(e.style.top="0",e.style.left="0",e.style.bottom="",e.style.width=this.width+"px",e.style.height=this.height+"px"):(e.style.top="",e.style.bottom="0",e.style.left="0",e.style.width=this.width+"px",e.style.height=this.height+"px"),a=this._redrawLabels(),1==this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(f)}return a},d.prototype._redrawLabels=function(){f.prepareElements(this.DOMelements.lines),f.prepareElements(this.DOMelements.labels);var a=this.options.orientation,b=this.master?this.props.majorCharHeight||10:this.stepPixelsForced,c=new h(this.range.start,this.range.end,b,this.dom.frame.offsetHeight,this.options.customRange[this.options.orientation],0==this.master&&this.options.alignZeros);this.step=c;var d=(this.dom.frame.offsetHeight-c.deadSpace*(this.dom.frame.offsetHeight/c.marginRange))/((c.marginRange-c.deadSpace)/c.step);this.stepPixels=d;var e=this.height/d,g=0;if(0==this.master){d=this.stepPixelsForced,g=Math.round(this.dom.frame.offsetHeight/d-e);for(var i=0;.5*g>i;i++)c.previous();if(e=this.height/d,-1!=this.zeroCrossing&&1==this.options.alignZeros){var j=c.marginEnd/c.step-this.zeroCrossing;if(j>0)for(var i=0;j>i;i++)c.next();else if(0>j)for(var i=0;-j>i;i++)c.previous()}}else e+=.25;this.valueAtZero=c.marginEnd;var k,l=0,m=1;void 0!==this.options.format[a]&&(k=this.options.format[a].decimals),this.maxLabelSize=0;for(var n=0;m<Math.round(e);){c.next(),n=Math.round(m*d),l=m*d;var o=c.isMajor();(this.options.showMinorLabels&&0==o||0==this.master&&1==this.options.showMinorLabels)&&this._redrawLabel(n-2,c.getCurrent(k),a,"yAxis minor",this.props.minorCharHeight),o&&this.options.showMajorLabels&&1==this.master||0==this.options.showMinorLabels&&0==this.master&&1==o?(n>=0&&this._redrawLabel(n-2,c.getCurrent(k),a,"yAxis major",this.props.majorCharHeight),this._redrawLine(n,a,"grid horizontal major",this.options.majorLinesOffset,this.props.majorLineWidth)):this._redrawLine(n,a,"grid horizontal minor",this.options.minorLinesOffset,this.props.minorLineWidth),1==this.master&&0==c.current&&(this.zeroCrossing=m),m++}this.conversionFactor=0==this.master?n/(this.valueAtZero-c.current):this.dom.frame.offsetHeight/c.marginRange;var p=0;void 0!==this.options.title[a]&&void 0!==this.options.title[a].text&&(p=this.props.titleCharHeight);var q=1==this.options.icons?Math.max(this.options.iconWidth,p)+this.options.labelOffsetX+15:p+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-q&&1==this.options.visible?(this.width=this.maxLabelSize+q,this.options.width=this.width+"px",f.cleanupElements(this.DOMelements.lines),f.cleanupElements(this.DOMelements.labels),this.redraw(),!0):this.maxLabelSize<this.width-q&&1==this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+q),this.options.width=this.width+"px",f.cleanupElements(this.DOMelements.lines),f.cleanupElements(this.DOMelements.labels),this.redraw(),!0):(f.cleanupElements(this.DOMelements.lines),f.cleanupElements(this.DOMelements.labels),!1)},d.prototype.convertValue=function(a){var b=this.valueAtZero-a,c=b*this.conversionFactor;return c},d.prototype._redrawLabel=function(a,b,c,d,e){var g=f.getDOMElement("div",this.DOMelements.labels,this.dom.frame);g.className=d,g.innerHTML=b,"left"==c?(g.style.left="-"+this.options.labelOffsetX+"px",g.style.textAlign="right"):(g.style.right="-"+this.options.labelOffsetX+"px",g.style.textAlign="left"),g.style.top=a-.5*e+this.options.labelOffsetY+"px",b+="";var h=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<b.length*h&&(this.maxLabelSize=b.length*h)},d.prototype._redrawLine=function(a,b,c,d,e){if(1==this.master){var g=f.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);g.className=c,g.innerHTML="","left"==b?g.style.left=this.width-d+"px":g.style.right=this.width-d+"px",g.style.width=e+"px",g.style.top=a+"px"}},d.prototype._redrawTitle=function(a){if(f.prepareElements(this.DOMelements.title),void 0!==this.options.title[a]&&void 0!==this.options.title[a].text){var b=f.getDOMElement("div",this.DOMelements.title,this.dom.frame);b.className="yAxis title "+a,b.innerHTML=this.options.title[a].text,void 0!==this.options.title[a].style&&e.addCssText(b,this.options.title[a].style),"left"==a?b.style.left=this.props.titleCharHeight+"px":b.style.right=this.props.titleCharHeight+"px",b.style.width=this.height+"px"}f.cleanupElements(this.DOMelements.title)},d.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var a=document.createTextNode("0"),b=document.createElement("div");b.className="yAxis minor measure",b.appendChild(a),this.dom.frame.appendChild(b),this.props.minorCharHeight=b.clientHeight,this.props.minorCharWidth=b.clientWidth,this.dom.frame.removeChild(b)}if(!("majorCharHeight"in this.props)){var c=document.createTextNode("0"),d=document.createElement("div");d.className="yAxis major measure",d.appendChild(c),this.dom.frame.appendChild(d),this.props.majorCharHeight=d.clientHeight,this.props.majorCharWidth=d.clientWidth,this.dom.frame.removeChild(d)}if(!("titleCharHeight"in this.props)){var e=document.createTextNode("0"),f=document.createElement("div");f.className="yAxis title measure",f.appendChild(e),this.dom.frame.appendChild(f),this.props.titleCharHeight=f.clientHeight,this.props.titleCharWidth=f.clientWidth,this.dom.frame.removeChild(f)}},d.prototype.snap=function(a){return this.step.snap(a)},a.exports=d},function(a,b,c){function d(a,b,c,d){this.id=b;var f=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","catmullRom"];this.options=e.selectiveBridgeObject(f,c),this.usingDefaultStyle=void 0===a.className,this.groupsUsingDefaultStyles=d,this.zeroPosition=0,this.update(a),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===a.visible?!0:a.visible}var e=c(1),f=c(2),g=c(51),h=c(52),i=c(53);d.prototype.setItems=function(a){null!=a?(this.itemsData=a,1==this.options.sort&&this.itemsData.sort(function(a,b){return a.x-b.x})):this.itemsData=[]},d.prototype.setZeroPosition=function(a){this.zeroPosition=a},d.prototype.setOptions=function(a){if(void 0!==a){var b=["sampling","style","sort","yAxisOrientation","barChart"];e.selectiveDeepExtend(b,this.options,a),e.mergeOptions(this.options,a,"catmullRom"),e.mergeOptions(this.options,a,"drawPoints"),e.mergeOptions(this.options,a,"shaded"),a.catmullRom&&"object"==typeof a.catmullRom&&a.catmullRom.parametrization&&("uniform"==a.catmullRom.parametrization?this.options.catmullRom.alpha=0:"chordal"==a.catmullRom.parametrization?this.options.catmullRom.alpha=1:(this.options.catmullRom.parametrization="centripetal",this.options.catmullRom.alpha=.5))}"line"==this.options.style?this.type=new g(this.id,this.options):"bar"==this.options.style?this.type=new h(this.id,this.options):"points"==this.options.style&&(this.type=new i(this.id,this.options))},d.prototype.update=function(a){this.group=a,this.content=a.content||"graph",this.className=a.className||this.className||"graphGroup"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===a.visible?!0:a.visible,this.style=a.style,this.setOptions(a.options)},d.prototype.drawIcon=function(a,b,c,d,e,g){var h,i,j=.5*g,k=f.getSVGElement("rect",c,d);if(k.setAttributeNS(null,"x",a),k.setAttributeNS(null,"y",b-j),k.setAttributeNS(null,"width",e),k.setAttributeNS(null,"height",2*j),k.setAttributeNS(null,"class","outline"),"line"==this.options.style)h=f.getSVGElement("path",c,d),h.setAttributeNS(null,"class",this.className),void 0!==this.style&&h.setAttributeNS(null,"style",this.style),h.setAttributeNS(null,"d","M"+a+","+b+" L"+(a+e)+","+b),1==this.options.shaded.enabled&&(i=f.getSVGElement("path",c,d),"top"==this.options.shaded.orientation?i.setAttributeNS(null,"d","M"+a+", "+(b-j)+"L"+a+","+b+" L"+(a+e)+","+b+" L"+(a+e)+","+(b-j)):i.setAttributeNS(null,"d","M"+a+","+b+" L"+a+","+(b+j)+" L"+(a+e)+","+(b+j)+"L"+(a+e)+","+b),i.setAttributeNS(null,"class",this.className+" iconFill")),1==this.options.drawPoints.enabled&&f.drawPoint(a+.5*e,b,this,c,d);else{var l=Math.round(.3*e),m=Math.round(.4*g),n=Math.round(.75*g),o=Math.round((e-2*l)/3);f.drawBar(a+.5*l+o,b+j-m-1,l,m,this.className+" bar",c,d),f.drawBar(a+1.5*l+o+2,b+j-n-1,l,n,this.className+" bar",c,d)}},d.prototype.getLegend=function(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg","svg");return this.drawIcon(0,.5*b,[],c,a,b),{icon:c,label:this.content,orientation:this.options.yAxisOrientation}},d.prototype.getYRange=function(a){return this.type.getYRange(a)},d.prototype.draw=function(a,b,c){this.type.draw(a,b,c)},a.exports=d},function(a,b,c){function d(a,b,c){this.groupId=a,this.subgroups={},this.subgroupIndex=0,this.subgroupOrderer=b&&b.subgroupOrder,this.itemSet=c,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var d=this;this.itemSet.body.emitter.on("checkRangedItems",function(){d.checkRangedItems=!0}),this._create(),this.setData(b)}{var e=c(1),f=c(18);c(35)}d.prototype._create=function(){var a=document.createElement("div");a.className="vlabel",this.dom.label=a;var b=document.createElement("div");b.className="inner",a.appendChild(b),this.dom.inner=b;var c=document.createElement("div");c.className="group",c["timeline-group"]=this,this.dom.foreground=c,this.dom.background=document.createElement("div"),this.dom.background.className="group",this.dom.axis=document.createElement("div"),this.dom.axis.className="group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.innerHTML="?",this.dom.background.appendChild(this.dom.marker)},d.prototype.setData=function(a){var b=a&&a.content;b instanceof Element?this.dom.inner.appendChild(b):this.dom.inner.innerHTML=void 0!==b&&null!==b?b:this.groupId||"",this.dom.label.title=a&&a.title||"",this.dom.inner.firstChild?e.removeClassName(this.dom.inner,"hidden"):e.addClassName(this.dom.inner,"hidden");var c=a&&a.className||null;c!=this.className&&(this.className&&(e.removeClassName(this.dom.label,this.className),e.removeClassName(this.dom.foreground,this.className),e.removeClassName(this.dom.background,this.className),e.removeClassName(this.dom.axis,this.className)),e.addClassName(this.dom.label,c),e.addClassName(this.dom.foreground,c),e.addClassName(this.dom.background,c),e.addClassName(this.dom.axis,c),this.className=c),this.style&&(e.removeCssText(this.dom.label,this.style),this.style=null),a&&a.style&&(e.addCssText(this.dom.label,a.style),this.style=a.style)},d.prototype.getLabelWidth=function(){return this.props.label.width},d.prototype.redraw=function(a,b,c){var d=!1;this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,a);var g=this.dom.marker.clientHeight;g!=this.lastMarkerHeight&&(this.lastMarkerHeight=g,e.forEach(this.items,function(a){a.dirty=!0,a.displayed&&a.redraw()}),c=!0),this.itemSet.options.stack?f.stack(this.visibleItems,b,c):f.nostack(this.visibleItems,b,this.subgroups);var h=this._calculateHeight(b),i=this.dom.foreground;this.top=i.offsetTop,this.left=i.offsetLeft,this.width=i.offsetWidth,d=e.updateProperty(this,"height",h)||d,d=e.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||d,d=e.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||d,this.dom.background.style.height=h+"px",this.dom.foreground.style.height=h+"px",this.dom.label.style.height=h+"px";for(var j=0,k=this.visibleItems.length;k>j;j++){var l=this.visibleItems[j];l.repositionY(b)}return d},d.prototype._calculateHeight=function(a){var b,c=this.visibleItems;this.resetSubgroups();var d=this;if(c.length){var f=c[0].top,g=c[0].top+c[0].height;if(e.forEach(c,function(a){f=Math.min(f,a.top),g=Math.max(g,a.top+a.height),void 0!==a.data.subgroup&&(d.subgroups[a.data.subgroup].height=Math.max(d.subgroups[a.data.subgroup].height,a.height),d.subgroups[a.data.subgroup].visible=!0)}),f>a.axis){var h=f-a.axis;g-=h,e.forEach(c,function(a){a.top-=h})}b=g+a.item.vertical/2}else b=a.axis+a.item.vertical;return b=Math.max(b,this.props.label.height)},d.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},d.prototype.hide=function(){var a=this.dom.label;a.parentNode&&a.parentNode.removeChild(a);var b=this.dom.foreground;b.parentNode&&b.parentNode.removeChild(b);var c=this.dom.background;c.parentNode&&c.parentNode.removeChild(c);var d=this.dom.axis;d.parentNode&&d.parentNode.removeChild(d)},d.prototype.add=function(a){if(this.items[a.id]=a,a.setParent(this),void 0!==a.data.subgroup&&(void 0===this.subgroups[a.data.subgroup]&&(this.subgroups[a.data.subgroup]={height:0,visible:!1,index:this.subgroupIndex,items:[]},this.subgroupIndex++),this.subgroups[a.data.subgroup].items.push(a)),this.orderSubgroups(),-1==this.visibleItems.indexOf(a)){var b=this.itemSet.body.range;this._checkIfVisible(a,this.visibleItems,b)}},d.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var a=[];if("string"==typeof this.subgroupOrderer){for(var b in this.subgroups)a.push({subgroup:b,sortField:this.subgroups[b].items[0].data[this.subgroupOrderer]});a.sort(function(a,b){return a.sortField-b.sortField})}else if("function"==typeof this.subgroupOrderer){for(var b in this.subgroups)a.push(this.subgroups[b].items[0].data);a.sort(this.subgroupOrderer)}if(a.length>0)for(var c=0;c<a.length;c++)this.subgroups[a[c].subgroup].index=c}},d.prototype.resetSubgroups=function(){for(var a in this.subgroups)this.subgroups.hasOwnProperty(a)&&(this.subgroups[a].visible=!1)},d.prototype.remove=function(a){delete this.items[a.id],a.setParent(null);var b=this.visibleItems.indexOf(a);-1!=b&&this.visibleItems.splice(b,1)},d.prototype.removeFromDataSet=function(a){this.itemSet.removeItem(a.id)},d.prototype.order=function(){for(var a=e.toArray(this.items),b=[],c=[],d=0;d<a.length;d++)void 0!==a[d].data.end&&c.push(a[d]),b.push(a[d]);this.orderedItems={byStart:b,byEnd:c},f.orderByStart(this.orderedItems.byStart),f.orderByEnd(this.orderedItems.byEnd)},d.prototype._updateVisibleItems=function(a,b,c){var d,f,g=[],h={},i=(c.end-c.start)/4,j=c.start-i,k=c.end+i,l=function(a){return j>a?-1:k>=a?0:1};if(b.length>0)for(f=0;f<b.length;f++)this._checkIfVisibleWithReference(b[f],g,h,c);var m=e.binarySearchCustom(a.byStart,l,"data","start");if(this._traceVisible(m,a.byStart,g,h,function(a){return a.data.start<j||a.data.start>k}),1==this.checkRangedItems)for(this.checkRangedItems=!1,f=0;f<a.byEnd.length;f++)this._checkIfVisibleWithReference(a.byEnd[f],g,h,c);else{var n=e.binarySearchCustom(a.byEnd,l,"data","end");this._traceVisible(n,a.byEnd,g,h,function(a){return a.data.end<j||a.data.end>k})}for(f=0;f<g.length;f++)d=g[f],d.displayed||d.show(),d.repositionX();return g},d.prototype._traceVisible=function(a,b,c,d,e){var f,g;if(-1!=a){for(g=a;g>=0&&(f=b[g],!e(f));g--)void 0===d[f.id]&&(d[f.id]=!0,c.push(f));for(g=a+1;g<b.length&&(f=b[g],!e(f));g++)void 0===d[f.id]&&(d[f.id]=!0,c.push(f))}},d.prototype._checkIfVisible=function(a,b,c){a.isVisible(c)?(a.displayed||a.show(),a.repositionX(),b.push(a)):a.displayed&&a.hide()},d.prototype._checkIfVisibleWithReference=function(a,b,c,d){a.isVisible(d)?void 0===c[a.id]&&(c[a.id]=!0,b.push(a)):a.displayed&&a.hide()},a.exports=d},function(a,b,c){function d(a,b,c){e.call(this,a,b,c),this.width=0,this.height=0,this.top=0,this.left=0}var e=(c(1),c(25));d.prototype=Object.create(e.prototype),d.prototype.redraw=function(a,b){var c=!1;this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,a),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";
for(var d=0,e=this.visibleItems.length;e>d;d++){var f=this.visibleItems[d];f.repositionY(b)}return c},d.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},a.exports=d},function(a,b,c){function d(a,b){this.body=a,this.defaultOptions={type:null,orientation:"bottom",align:"auto",stack:!0,groupOrder:null,selectable:!0,editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1},onAdd:function(a,b){b(a)},onUpdate:function(a,b){b(a)},onMove:function(a,b){b(a)},onRemove:function(a,b){b(a)},onMoving:function(a,b){b(a)},margin:{item:{horizontal:10,vertical:10},axis:20},padding:5},this.options=f.extend({},this.defaultOptions),this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:a.util.toScreen,toTime:a.util.toTime},this.dom={},this.props={},this.hammer=null;var c=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(a,b){c._onAdd(b.items)},update:function(a,b){c._onUpdate(b.items)},remove:function(a,b){c._onRemove(b.items)}},this.groupListeners={add:function(a,b){c._onAddGroups(b.items)},update:function(a,b){c._onUpdateGroups(b.items)},remove:function(a,b){c._onRemoveGroups(b.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.stackDirty=!0,this.touchParams={},this._create(),this.setOptions(b)}var e=c(45),f=c(1),g=c(3),h=c(4),i=c(20),j=c(25),k=c(26),l=c(33),m=c(34),n=c(35),o=c(32),p="__ungrouped__",q="__background__";d.prototype=new i,d.types={background:o,box:l,range:n,point:m},d.prototype._create=function(){var a=document.createElement("div");a.className="itemset",a["timeline-itemset"]=this,this.dom.frame=a;var b=document.createElement("div");b.className="background",a.appendChild(b),this.dom.background=b;var c=document.createElement("div");c.className="foreground",a.appendChild(c),this.dom.foreground=c;var d=document.createElement("div");d.className="axis",this.dom.axis=d;var f=document.createElement("div");f.className="labelset",this.dom.labelSet=f,this._updateUngrouped();var g=new k(q,null,this);g.show(),this.groups[q]=g,this.hammer=e(this.body.dom.centerContainer,{preventDefault:!0}),this.hammer.on("touch",this._onTouch.bind(this)),this.hammer.on("dragstart",this._onDragStart.bind(this)),this.hammer.on("drag",this._onDrag.bind(this)),this.hammer.on("dragend",this._onDragEnd.bind(this)),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("hold",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.show()},d.prototype.setOptions=function(a){if(a){var b=["type","align","orientation","padding","stack","selectable","groupOrder","dataAttributes","template","hide"];f.selectiveExtend(b,this.options,a),"margin"in a&&("number"==typeof a.margin?(this.options.margin.axis=a.margin,this.options.margin.item.horizontal=a.margin,this.options.margin.item.vertical=a.margin):"object"==typeof a.margin&&(f.selectiveExtend(["axis"],this.options.margin,a.margin),"item"in a.margin&&("number"==typeof a.margin.item?(this.options.margin.item.horizontal=a.margin.item,this.options.margin.item.vertical=a.margin.item):"object"==typeof a.margin.item&&f.selectiveExtend(["horizontal","vertical"],this.options.margin.item,a.margin.item)))),"editable"in a&&("boolean"==typeof a.editable?(this.options.editable.updateTime=a.editable,this.options.editable.updateGroup=a.editable,this.options.editable.add=a.editable,this.options.editable.remove=a.editable):"object"==typeof a.editable&&f.selectiveExtend(["updateTime","updateGroup","add","remove"],this.options.editable,a.editable));var c=function(b){var c=a[b];if(c){if(!(c instanceof Function))throw new Error("option "+b+" must be a function "+b+"(item, callback)");this.options[b]=c}}.bind(this);["onAdd","onUpdate","onRemove","onMove","onMoving"].forEach(c),this.markDirty()}},d.prototype.markDirty=function(){this.groupIds=[],this.stackDirty=!0},d.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},d.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},d.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||this.body.dom.left.appendChild(this.dom.labelSet)},d.prototype.setSelection=function(a){var b,c,d,e;for(void 0==a&&(a=[]),Array.isArray(a)||(a=[a]),b=0,c=this.selection.length;c>b;b++)d=this.selection[b],e=this.items[d],e&&e.unselect();for(this.selection=[],b=0,c=a.length;c>b;b++)d=a[b],e=this.items[d],e&&(this.selection.push(d),e.select())},d.prototype.getSelection=function(){return this.selection.concat([])},d.prototype.getVisibleItems=function(){var a=this.body.range.getRange(),b=this.body.util.toScreen(a.start),c=this.body.util.toScreen(a.end),d=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e))for(var f=this.groups[e],g=f.visibleItems,h=0;h<g.length;h++){var i=g[h];i.left<c&&i.left+i.width>b&&d.push(i.id)}return d},d.prototype._deselect=function(a){for(var b=this.selection,c=0,d=b.length;d>c;c++)if(b[c]==a){b.splice(c,1);break}},d.prototype.redraw=function(){var a=this.options.margin,b=this.body.range,c=f.option.asSize,d=this.options,e=d.orientation,g=!1,h=this.dom.frame,i=d.editable.updateTime||d.editable.updateGroup;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,h.className="itemset"+(i?" editable":""),g=this._orderGroups()||g;var j=b.end-b.start,k=j!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth;k&&(this.stackDirty=!0),this.lastVisibleInterval=j,this.props.lastWidth=this.props.width;var l=this.stackDirty,m=this._firstGroup(),n={item:a.item,axis:a.axis},o={item:a.item,axis:a.item.vertical/2},p=0,r=a.axis+a.item.vertical;return this.groups[q].redraw(b,o,l),f.forEach(this.groups,function(a){var c=a==m?n:o,d=a.redraw(b,c,l);g=d||g,p+=a.height}),p=Math.max(p,r),this.stackDirty=!1,h.style.height=c(p),this.props.width=h.offsetWidth,this.props.height=p,this.dom.axis.style.top=c("top"==e?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.dom.axis.style.left="0",g=this._isResized()||g},d.prototype._firstGroup=function(){var a="top"==this.options.orientation?0:this.groupIds.length-1,b=this.groupIds[a],c=this.groups[b]||this.groups[p];return c||null},d.prototype._updateUngrouped=function(){{var a,b,c=this.groups[p];this.groups[q]}if(this.groupsData){if(c){c.hide(),delete this.groups[p];for(b in this.items)if(this.items.hasOwnProperty(b)){a=this.items[b],a.parent&&a.parent.remove(a);var d=this._getGroupId(a.data),e=this.groups[d];e&&e.add(a)||a.hide()}}}else if(!c){var f=null,g=null;c=new j(f,g,this),this.groups[p]=c;for(b in this.items)this.items.hasOwnProperty(b)&&(a=this.items[b],c.add(a));c.show()}},d.prototype.getLabelSet=function(){return this.dom.labelSet},d.prototype.setItems=function(a){var b,c=this,d=this.itemsData;if(a){if(!(a instanceof g||a instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=a}else this.itemsData=null;if(d&&(f.forEach(this.itemListeners,function(a,b){d.off(b,a)}),b=d.getIds(),this._onRemove(b)),this.itemsData){var e=this.id;f.forEach(this.itemListeners,function(a,b){c.itemsData.on(b,a,e)}),b=this.itemsData.getIds(),this._onAdd(b),this._updateUngrouped()}},d.prototype.getItems=function(){return this.itemsData},d.prototype.setGroups=function(a){var b,c=this;if(this.groupsData&&(f.forEach(this.groupListeners,function(a,b){c.groupsData.unsubscribe(b,a)}),b=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(b)),a){if(!(a instanceof g||a instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=a}else this.groupsData=null;if(this.groupsData){var d=this.id;f.forEach(this.groupListeners,function(a,b){c.groupsData.on(b,a,d)}),b=this.groupsData.getIds(),this._onAddGroups(b)}this._updateUngrouped(),this._order(),this.body.emitter.emit("change",{queue:!0})},d.prototype.getGroups=function(){return this.groupsData},d.prototype.removeItem=function(a){var b=this.itemsData.get(a),c=this.itemsData.getDataSet();b&&this.options.onRemove(b,function(b){b&&c.remove(a)})},d.prototype._getType=function(a){return a.type||this.options.type||(a.end?"range":"box")},d.prototype._getGroupId=function(a){var b=this._getType(a);return"background"==b&&void 0==a.group?q:this.groupsData?a.group:p},d.prototype._onUpdate=function(a){var b=this;a.forEach(function(a){var c=b.itemsData.get(a,b.itemOptions),e=b.items[a],f=b._getType(c),g=d.types[f];if(e&&(g&&e instanceof g?b._updateItem(e,c):(b._removeItem(e),e=null)),!e){if(!g)throw new TypeError("rangeoverflow"==f?'Item type "rangeoverflow" is deprecated. Use css styling instead: .vis.timeline .item.range .content {overflow: visible;}':'Unknown item type "'+f+'"');e=new g(c,b.conversion,b.options),e.id=a,b._addItem(e)}}),this._order(),this.stackDirty=!0,this.body.emitter.emit("change",{queue:!0})},d.prototype._onAdd=d.prototype._onUpdate,d.prototype._onRemove=function(a){var b=0,c=this;a.forEach(function(a){var d=c.items[a];d&&(b++,c._removeItem(d))}),b&&(this._order(),this.stackDirty=!0,this.body.emitter.emit("change",{queue:!0}))},d.prototype._order=function(){f.forEach(this.groups,function(a){a.order()})},d.prototype._onUpdateGroups=function(a){this._onAddGroups(a)},d.prototype._onAddGroups=function(a){var b=this;a.forEach(function(a){var c=b.groupsData.get(a),d=b.groups[a];if(d)d.setData(c);else{if(a==p||a==q)throw new Error("Illegal group id. "+a+" is a reserved id.");var e=Object.create(b.options);f.extend(e,{height:null}),d=new j(a,c,b),b.groups[a]=d;for(var g in b.items)if(b.items.hasOwnProperty(g)){var h=b.items[g];h.data.group==a&&d.add(h)}d.order(),d.show()}}),this.body.emitter.emit("change",{queue:!0})},d.prototype._onRemoveGroups=function(a){var b=this.groups;a.forEach(function(a){var c=b[a];c&&(c.hide(),delete b[a])}),this.markDirty(),this.body.emitter.emit("change",{queue:!0})},d.prototype._orderGroups=function(){if(this.groupsData){var a=this.groupsData.getIds({order:this.options.groupOrder}),b=!f.equalArray(a,this.groupIds);if(b){var c=this.groups;a.forEach(function(a){c[a].hide()}),a.forEach(function(a){c[a].show()}),this.groupIds=a}return b}return!1},d.prototype._addItem=function(a){this.items[a.id]=a;var b=this._getGroupId(a.data),c=this.groups[b];c&&c.add(a)},d.prototype._updateItem=function(a,b){var c=a.data.group;if(a.setData(b),c!=a.data.group){var d=this.groups[c];d&&d.remove(a);var e=this._getGroupId(a.data),f=this.groups[e];f&&f.add(a)}},d.prototype._removeItem=function(a){a.hide(),delete this.items[a.id];var b=this.selection.indexOf(a.id);-1!=b&&this.selection.splice(b,1),a.parent&&a.parent.remove(a)},d.prototype._constructByEndArray=function(a){for(var b=[],c=0;c<a.length;c++)a[c]instanceof n&&b.push(a[c]);return b},d.prototype._onTouch=function(a){this.touchParams.item=d.itemFromTarget(a)},d.prototype._onDragStart=function(a){if(this.options.editable.updateTime||this.options.editable.updateGroup){var b,c=this.touchParams.item||null,d=this;if(c&&c.selected){var e=a.target.dragLeftItem,f=a.target.dragRightItem;e?(b={item:e,initialX:a.gesture.center.clientX},d.options.editable.updateTime&&(b.start=c.data.start.valueOf()),d.options.editable.updateGroup&&"group"in c.data&&(b.group=c.data.group),this.touchParams.itemProps=[b]):f?(b={item:f,initialX:a.gesture.center.clientX},d.options.editable.updateTime&&(b.end=c.data.end.valueOf()),d.options.editable.updateGroup&&"group"in c.data&&(b.group=c.data.group),this.touchParams.itemProps=[b]):this.touchParams.itemProps=this.getSelection().map(function(b){var c=d.items[b],e={item:c,initialX:a.gesture.center.clientX};return d.options.editable.updateTime&&("start"in c.data&&(e.start=c.data.start.valueOf()),"end"in c.data&&(e.end=c.data.end.valueOf())),d.options.editable.updateGroup&&"group"in c.data&&(e.group=c.data.group),e}),a.stopPropagation()}}},d.prototype._onDrag=function(a){if(a.preventDefault(),this.touchParams.itemProps){var b=this,c=this.body.util.snap||null,e=this.body.dom.root.offsetLeft+this.body.domProps.left.width;this.touchParams.itemProps.forEach(function(g){var h={},i=b.body.util.toTime(a.gesture.center.clientX-e),j=b.body.util.toTime(g.initialX-e),k=i-j;if("start"in g){var l=new Date(g.start+k);h.start=c?c(l):l}if("end"in g){var m=new Date(g.end+k);h.end=c?c(m):m}if("group"in g){var n=d.groupFromTarget(a);h.group=n&&n.groupId}var o=f.extend({},g.item.data,h);b.options.onMoving(o,function(a){a&&b._updateItemProps(g.item,a)})}),this.stackDirty=!0,this.body.emitter.emit("change"),a.stopPropagation()}},d.prototype._updateItemProps=function(a,b){"start"in b&&(a.data.start=b.start),"end"in b&&(a.data.end=b.end),"group"in b&&a.data.group!=b.group&&this._moveToGroup(a,b.group)},d.prototype._moveToGroup=function(a,b){var c=this.groups[b];if(c&&c.groupId!=a.data.group){var d=a.parent;d.remove(a),d.order(),c.add(a),c.order(),a.data.group=c.groupId}},d.prototype._onDragEnd=function(a){if(a.preventDefault(),this.touchParams.itemProps){var b=[],c=this,d=this.itemsData.getDataSet(),e=this.touchParams.itemProps;this.touchParams.itemProps=null,e.forEach(function(a){var e=a.item.id,g=c.itemsData.get(e,c.itemOptions),h=!1;"start"in a.item.data&&(h=a.start!=a.item.data.start.valueOf(),g.start=f.convert(a.item.data.start,d._options.type&&d._options.type.start||"Date")),"end"in a.item.data&&(h=h||a.end!=a.item.data.end.valueOf(),g.end=f.convert(a.item.data.end,d._options.type&&d._options.type.end||"Date")),"group"in a.item.data&&(h=h||a.group!=a.item.data.group,g.group=a.item.data.group),h&&c.options.onMove(g,function(f){f?(f[d._fieldId]=e,b.push(f)):(c._updateItemProps(a.item,a),c.stackDirty=!0,c.body.emitter.emit("change"))})}),b.length&&d.update(b),a.stopPropagation()}},d.prototype._onSelectItem=function(a){if(this.options.selectable){var b=a.gesture.srcEvent&&a.gesture.srcEvent.ctrlKey,c=a.gesture.srcEvent&&a.gesture.srcEvent.shiftKey;if(b||c)return void this._onMultiSelectItem(a);var e=this.getSelection(),f=d.itemFromTarget(a),g=f?[f.id]:[];this.setSelection(g);var h=this.getSelection();(h.length>0||e.length>0)&&this.body.emitter.emit("select",{items:h})}},d.prototype._onAddItem=function(a){if(this.options.selectable&&this.options.editable.add){var b=this,c=this.body.util.snap||null,e=d.itemFromTarget(a);if(e){var g=b.itemsData.get(e.id);this.options.onUpdate(g,function(a){a&&b.itemsData.getDataSet().update(a)})}else{var h=f.getAbsoluteLeft(this.dom.frame),i=a.gesture.center.pageX-h,j=this.body.util.toTime(i),k={start:c?c(j):j,content:"new item"};if("range"===this.options.type){var l=this.body.util.toTime(i+this.props.width/5);k.end=c?c(l):l}k[this.itemsData._fieldId]=f.randomUUID();var m=d.groupFromTarget(a);m&&(k.group=m.groupId),this.options.onAdd(k,function(a){a&&b.itemsData.getDataSet().add(a)})}}},d.prototype._onMultiSelectItem=function(a){if(this.options.selectable){var b,c=d.itemFromTarget(a);if(c){b=this.getSelection();var e=a.gesture.touches[0]&&a.gesture.touches[0].shiftKey||!1;if(e){b.push(c.id);var f=d._getItemRange(this.itemsData.get(b,this.itemOptions));b=[];for(var g in this.items)if(this.items.hasOwnProperty(g)){var h=this.items[g],i=h.data.start,j=void 0!==h.data.end?h.data.end:i;i>=f.min&&j<=f.max&&b.push(h.id)}}else{var k=b.indexOf(c.id);-1==k?b.push(c.id):b.splice(k,1)}this.setSelection(b),this.body.emitter.emit("select",{items:this.getSelection()})}}},d._getItemRange=function(a){var b=null,c=null;return a.forEach(function(a){(null==c||a.start<c)&&(c=a.start),void 0!=a.end?(null==b||a.end>b)&&(b=a.end):(null==b||a.start>b)&&(b=a.start)}),{min:c,max:b}},d.itemFromTarget=function(a){for(var b=a.target;b;){if(b.hasOwnProperty("timeline-item"))return b["timeline-item"];b=b.parentNode}return null},d.groupFromTarget=function(a){for(var b=a.target;b;){if(b.hasOwnProperty("timeline-group"))return b["timeline-group"];b=b.parentNode}return null},d.itemSetFromTarget=function(a){for(var b=a.target;b;){if(b.hasOwnProperty("timeline-itemset"))return b["timeline-itemset"];b=b.parentNode}return null},a.exports=d},function(a,b,c){function d(a,b,c,d){this.body=a,this.defaultOptions={enabled:!0,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-left"}},this.side=c,this.options=e.extend({},this.defaultOptions),this.linegraphOptions=d,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.setOptions(b)}var e=c(1),f=c(2),g=c(20);d.prototype=new g,d.prototype.clear=function(){this.groups={},this.amountOfGroups=0},d.prototype.addGroup=function(a,b){this.groups.hasOwnProperty(a)||(this.groups[a]=b),this.amountOfGroups+=1},d.prototype.updateGroup=function(a,b){this.groups[a]=b},d.prototype.removeGroup=function(a){this.groups.hasOwnProperty(a)&&(delete this.groups[a],this.amountOfGroups-=1)},d.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="legendText",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},d.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},d.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},d.prototype.setOptions=function(a){var b=["enabled","orientation","icons","left","right"];e.selectiveDeepExtend(b,this.options,a)},d.prototype.redraw=function(){var a=0;for(var b in this.groups)this.groups.hasOwnProperty(b)&&(1!=this.groups[b].visible||void 0!==this.linegraphOptions.visibility[b]&&1!=this.linegraphOptions.visibility[b]||a++);if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==a)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var c=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+c+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var d="";for(var b in this.groups)this.groups.hasOwnProperty(b)&&(1!=this.groups[b].visible||void 0!==this.linegraphOptions.visibility[b]&&1!=this.linegraphOptions.visibility[b]||(d+=this.groups[b].content+"<br />"));this.dom.textArea.innerHTML=d,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},d.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){f.prepareElements(this.svgElements);var a=window.getComputedStyle(this.dom.frame).paddingTop,b=Number(a.replace("px","")),c=b,d=this.options.iconSize,e=.75*this.options.iconSize,g=b+.5*e+3;this.svg.style.width=d+5+b+"px";for(var h in this.groups)this.groups.hasOwnProperty(h)&&(1!=this.groups[h].visible||void 0!==this.linegraphOptions.visibility[h]&&1!=this.linegraphOptions.visibility[h]||(this.groups[h].drawIcon(c,g,this.svgElements,this.svg,d,e),g+=e+this.options.iconSpacing));f.cleanupElements(this.svgElements)}},a.exports=d},function(a,b,c){function d(a,b){this.id=e.randomUUID(),this.body=a,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,handleOverlap:"overlap",align:"center"},catmullRom:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:"40px",visible:!0,alignZeros:!0,customRange:{left:{min:void 0,max:void 0},right:{min:void 0,max:void 0}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},groups:{visibility:{}}},this.options=e.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.autoSizeSVG=!1;var c=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(a,b){c._onAdd(b.items)},update:function(a,b){c._onUpdate(b.items)},remove:function(a,b){c._onRemove(b.items)}},this.groupListeners={add:function(a,b){c._onAddGroups(b.items)},update:function(a,b){c._onUpdateGroups(b.items)},remove:function(a,b){c._onRemoveGroups(b.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(b),this.groupsUsingDefaultStyles=[0],this.COUNTER=0,this.body.emitter.on("rangechanged",function(){c.lastStart=c.body.range.start,c.svg.style.left=e.option.asSize(-c.width),c.redraw.call(c,!0)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.body.emitter.emit("change")}var e=c(1),f=c(2),g=c(3),h=c(4),i=c(20),j=c(23),k=c(24),l=c(28),m=c(52),n="__ungrouped__";d.prototype=new i,d.prototype._create=function(){var a=document.createElement("div");a.className="LineGraph",this.dom.frame=a,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",a.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new j(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new j(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new l(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new l(this.body,this.options.legend,"right",this.options.groups),this.show()},d.prototype.setOptions=function(a){if(a){var b=["sampling","defaultGroup","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];void 0===a.graphHeight&&void 0!==a.height&&void 0!==this.body.domProps.centerContainer.height?this.autoSizeSVG=!0:void 0!==this.body.domProps.centerContainer.height&&void 0!==a.graphHeight&&parseInt((a.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.autoSizeSVG=!0),e.selectiveDeepExtend(b,this.options,a),e.mergeOptions(this.options,a,"catmullRom"),e.mergeOptions(this.options,a,"drawPoints"),e.mergeOptions(this.options,a,"shaded"),e.mergeOptions(this.options,a,"legend"),a.catmullRom&&"object"==typeof a.catmullRom&&a.catmullRom.parametrization&&("uniform"==a.catmullRom.parametrization?this.options.catmullRom.alpha=0:"chordal"==a.catmullRom.parametrization?this.options.catmullRom.alpha=1:(this.options.catmullRom.parametrization="centripetal",this.options.catmullRom.alpha=.5)),this.yAxisLeft&&void 0!==a.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==a.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(n)&&this.groups[n].setOptions(a)}this.dom.frame&&this.redraw(!0)},d.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},d.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},d.prototype.setItems=function(a){var b,c=this,d=this.itemsData;if(a){if(!(a instanceof g||a instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=a}else this.itemsData=null;if(d&&(e.forEach(this.itemListeners,function(a,b){d.off(b,a)}),b=d.getIds(),this._onRemove(b)),this.itemsData){var f=this.id;e.forEach(this.itemListeners,function(a,b){c.itemsData.on(b,a,f)}),b=this.itemsData.getIds(),this._onAdd(b)}this._updateUngrouped(),this.redraw(!0)},d.prototype.setGroups=function(a){var b,c=this;if(this.groupsData&&(e.forEach(this.groupListeners,function(a,b){c.groupsData.unsubscribe(b,a)}),b=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(b)),a){if(!(a instanceof g||a instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=a}else this.groupsData=null;if(this.groupsData){var d=this.id;e.forEach(this.groupListeners,function(a,b){c.groupsData.on(b,a,d)}),b=this.groupsData.getIds(),this._onAddGroups(b)}this._onUpdate()},d.prototype._onUpdate=function(){this._updateUngrouped(),this._updateAllGroupData(),this.redraw(!0)},d.prototype._onAdd=function(a){this._onUpdate(a)},d.prototype._onRemove=function(a){this._onUpdate(a)},d.prototype._onUpdateGroups=function(a){for(var b=0;b<a.length;b++){var c=this.groupsData.get(a[b]);this._updateGroup(c,a[b])}this.redraw(!0)},d.prototype._onAddGroups=function(a){this._onUpdateGroups(a)},d.prototype._onRemoveGroups=function(a){for(var b=0;b<a.length;b++)this.groups.hasOwnProperty(a[b])&&("right"==this.groups[a[b]].options.yAxisOrientation?(this.yAxisRight.removeGroup(a[b]),this.legendRight.removeGroup(a[b]),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(a[b]),this.legendLeft.removeGroup(a[b]),this.legendLeft.redraw()),delete this.groups[a[b]]);this._updateUngrouped(),this.redraw(!0)},d.prototype._updateGroup=function(a,b){this.groups.hasOwnProperty(b)?(this.groups[b].update(a),"right"==this.groups[b].options.yAxisOrientation?(this.yAxisRight.updateGroup(b,this.groups[b]),this.legendRight.updateGroup(b,this.groups[b])):(this.yAxisLeft.updateGroup(b,this.groups[b]),this.legendLeft.updateGroup(b,this.groups[b]))):(this.groups[b]=new k(a,b,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[b].options.yAxisOrientation?(this.yAxisRight.addGroup(b,this.groups[b]),this.legendRight.addGroup(b,this.groups[b])):(this.yAxisLeft.addGroup(b,this.groups[b]),this.legendLeft.addGroup(b,this.groups[b]))),this.legendLeft.redraw(),this.legendRight.redraw()},d.prototype._updateAllGroupData=function(){if(null!=this.itemsData){var a,b={};for(a in this.groups)this.groups.hasOwnProperty(a)&&(b[a]=[]);for(var c in this.itemsData._data)if(this.itemsData._data.hasOwnProperty(c)){var d=this.itemsData._data[c];if(void 0===b[d.group])throw new Error("Cannot find referenced group. Possible reason: items added before groups? Groups need to be added before items, as items refer to groups.");d.x=e.convert(d.x,"Date"),b[d.group].push(d)}for(a in this.groups)this.groups.hasOwnProperty(a)&&this.groups[a].setItems(b[a])}},d.prototype._updateUngrouped=function(){if(this.itemsData&&null!=this.itemsData){var a=0;for(var b in this.itemsData._data)if(this.itemsData._data.hasOwnProperty(b)){var c=this.itemsData._data[b];void 0!=c&&(c.hasOwnProperty("group")?void 0===c.group&&(c.group=n):c.group=n,a=c.group==n?a+1:a)}if(0==a)delete this.groups[n],this.legendLeft.removeGroup(n),this.legendRight.removeGroup(n),this.yAxisLeft.removeGroup(n),this.yAxisRight.removeGroup(n);else{var d={id:n,content:this.options.defaultGroup};this._updateGroup(d,n)}}else delete this.groups[n],this.legendLeft.removeGroup(n),this.legendRight.removeGroup(n),this.yAxisLeft.removeGroup(n),this.yAxisRight.removeGroup(n);this.legendLeft.redraw(),this.legendRight.redraw()},d.prototype.redraw=function(a){var b=!1;this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",(void 0===this.lastWidth&&this.width||this.lastWidth!=this.width)&&(b=!0),b=this._isResized()||b;var c=this.body.range.end-this.body.range.start;if(this.lastVisibleInterval=c,this.lastWidth=this.width,this.width=this.dom.frame.offsetWidth,1==b&&(this.svg.style.width=e.option.asSize(3*this.width),this.svg.style.left=e.option.asSize(-this.width)),1==this.abortedGraphUpdate||1==a)b=b||this._updateGraph();else if(0!=this.lastStart){var d=this.body.range.start-this.lastStart,f=this.body.range.end-this.body.range.start;if(0!=this.width){var g=this.width/f,h=d*g;this.svg.style.left=-this.width-h+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),b},d.prototype._updateGraph=function(){if(f.prepareElements(this.svgElements),0!=this.width&&null!=this.itemsData){var a,b,c={},d={},e={},g=!1;1==this.autoSizeSVG&&(this.options.graphHeight!=this.body.domProps.centerContainer.height+"px"&&(this.options.graphHeight=this.body.domProps.centerContainer.height+"px",this.svg.style.height=this.body.domProps.centerContainer.height+"px"),this.autoSizeSVG=!1);var h=[];for(var i in this.groups)this.groups.hasOwnProperty(i)&&(a=this.groups[i],1!=a.visible||void 0!==this.options.groups.visibility[i]&&1!=this.options.groups.visibility[i]||h.push(i));if(h.length>0){var j=this.body.util.toGlobalTime(-this.body.domProps.root.width),k=this.body.util.toGlobalTime(2*this.body.domProps.root.width),l={};for(this._getRelevantData(h,l,j,k),this._applySampling(h,l),b=0;b<h.length;b++)c[h[b]]=this._convertXcoordinates(l[h[b]]);this._getYRanges(h,c,e),g=this._updateYAxis(h,e);var n=5;if(1==g&&this.COUNTER<n)return f.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,this.COUNTER++,this.body.emitter.emit("change"),!0;for(this.COUNTER>n&&console.log("WARNING: there may be an infinite loop in the _updateGraph emitter cycle."),this.COUNTER=0,this.abortedGraphUpdate=!1,b=0;b<h.length;b++)a=this.groups[h[b]],d[h[b]]=this._convertYcoordinates(l[h[b]],a);for(b=0;b<h.length;b++)a=this.groups[h[b]],"bar"!=a.options.style&&a.draw(d[h[b]],a,this.framework);m.draw(h,d,this.framework)}}return f.cleanupElements(this.svgElements),!1},d.prototype._getRelevantData=function(a,b,c,d){var f,g,h,i;if(a.length>0)for(g=0;g<a.length;g++){f=this.groups[a[g]],b[a[g]]=[];var j=b[a[g]];if(1==f.options.sort){var k=Math.max(0,e.binarySearchValue(f.itemsData,c,"x","before"));for(h=k;h<f.itemsData.length;h++)if(i=f.itemsData[h],void 0!==i){if(i.x>d){j.push(i);break}j.push(i)}}else for(h=0;h<f.itemsData.length;h++)i=f.itemsData[h],void 0!==i&&i.x>c&&i.x<d&&j.push(i)}},d.prototype._applySampling=function(a,b){var c;if(a.length>0)for(var d=0;d<a.length;d++)if(c=this.groups[a[d]],1==c.options.sampling){var e=b[a[d]];if(e.length>0){var f=1,g=e.length,h=this.body.util.toGlobalScreen(e[e.length-1].x)-this.body.util.toGlobalScreen(e[0].x),i=g/h;f=Math.min(Math.ceil(.2*g),Math.max(1,Math.round(i)));for(var j=[],k=0;g>k;k+=f)j.push(e[k]);b[a[d]]=j}}},d.prototype._getYRanges=function(a,b,c){var d,e,f,g,h=[],i=[];if(a.length>0){for(f=0;f<a.length;f++)d=b[a[f]],g=this.groups[a[f]].options,d.length>0&&(e=this.groups[a[f]],"stack"==g.barChart.handleOverlap&&"bar"==g.style?"left"==g.yAxisOrientation?h=h.concat(e.getYRange(d)):i=i.concat(e.getYRange(d)):c[a[f]]=e.getYRange(d,a[f]));
m.getStackedBarYRange(h,c,a,"__barchartLeft","left"),m.getStackedBarYRange(i,c,a,"__barchartRight","right")}},d.prototype._updateYAxis=function(a,b){var c,d,e=!1,f=!1,g=!1,h=1e9,i=1e9,j=-1e9,k=-1e9;if(a.length>0){for(var l=0;l<a.length;l++){var m=this.groups[a[l]];m&&"left"==m.options.yAxisOrientation?(f=!0,h=0,j=0):(g=!0,i=0,k=0)}for(var l=0;l<a.length;l++)b.hasOwnProperty(a[l])&&b[a[l]].ignore!==!0&&(c=b[a[l]].min,d=b[a[l]].max,"left"==b[a[l]].yAxisOrientation?(f=!0,h=h>c?c:h,j=d>j?d:j):(g=!0,i=i>c?c:i,k=d>k?d:k));1==f&&this.yAxisLeft.setRange(h,j),1==g&&this.yAxisRight.setRange(i,k)}return e=this._toggleAxisVisiblity(f,this.yAxisLeft)||e,e=this._toggleAxisVisiblity(g,this.yAxisRight)||e,1==g&&1==f?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!f,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==g?this.yAxisRight.width:0,e=this.yAxisLeft.redraw()||e,this.yAxisRight.stepPixelsForced=this.yAxisLeft.stepPixels,this.yAxisRight.zeroCrossing=this.yAxisLeft.zeroCrossing,e=this.yAxisRight.redraw()||e):e=this.yAxisRight.redraw()||e,-1!=a.indexOf("__barchartLeft")&&a.splice(a.indexOf("__barchartLeft"),1),-1!=a.indexOf("__barchartRight")&&a.splice(a.indexOf("__barchartRight"),1),e},d.prototype._toggleAxisVisiblity=function(a,b){var c=!1;return 0==a?b.dom.frame.parentNode&&0==b.hidden&&(b.hide(),c=!0):b.dom.frame.parentNode||1!=b.hidden||(b.show(),c=!0),c},d.prototype._convertXcoordinates=function(a){for(var b,c,d=[],e=this.body.util.toScreen,f=0;f<a.length;f++)b=e(a[f].x)+this.width,c=a[f].y,d.push({x:b,y:c});return d},d.prototype._convertYcoordinates=function(a,b){var c,d,e=[],f=this.body.util.toScreen,g=this.yAxisLeft,h=Number(this.svg.style.height.replace("px",""));"right"==b.options.yAxisOrientation&&(g=this.yAxisRight);for(var i=0;i<a.length;i++)c=f(a[i].x)+this.width,d=Math.round(g.convertValue(a[i].y)),e.push({x:c,y:d});return b.setZeroPosition(Math.min(h,g.convertValue(0))),e},a.exports=d},function(a,b,c){function d(a,b){this.dom={foreground:null,majorLines:[],majorTexts:[],minorLines:[],minorTexts:[],redundant:{majorLines:[],majorTexts:[],minorLines:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:"bottom",showMinorLabels:!0,showMajorLabels:!0},this.options=e.extend({},this.defaultOptions),this.body=a,this._create(),this.setOptions(b)}var e=c(1),f=c(20),g=c(19),h=c(15),i=c(44);d.prototype=new f,d.prototype.setOptions=function(a){a&&(e.selectiveExtend(["orientation","showMinorLabels","showMajorLabels","hiddenDates"],this.options,a),"locale"in a&&("function"==typeof i.locale?i.locale(a.locale):i.lang(a.locale)))},d.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="timeaxis foreground",this.dom.background.className="timeaxis background"},d.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},d.prototype.redraw=function(){var a=this.options,b=this.props,c=this.dom.foreground,d=this.dom.background,e="top"==a.orientation?this.body.dom.top:this.body.dom.bottom,f=c.parentNode!==e;this._calculateCharSize();var g=(this.options.orientation,this.options.showMinorLabels),h=this.options.showMajorLabels;b.minorLabelHeight=g?b.minorCharHeight:0,b.majorLabelHeight=h?b.majorCharHeight:0,b.height=b.minorLabelHeight+b.majorLabelHeight,b.width=c.offsetWidth,b.minorLineHeight=this.body.domProps.root.height-b.majorLabelHeight-("top"==a.orientation?this.body.domProps.bottom.height:this.body.domProps.top.height),b.minorLineWidth=1,b.majorLineHeight=b.minorLineHeight+b.majorLabelHeight,b.majorLineWidth=1;var i=c.nextSibling,j=d.nextSibling;return c.parentNode&&c.parentNode.removeChild(c),d.parentNode&&d.parentNode.removeChild(d),c.style.height=this.props.height+"px",this._repaintLabels(),i?e.insertBefore(c,i):e.appendChild(c),j?this.body.dom.backgroundVertical.insertBefore(d,j):this.body.dom.backgroundVertical.appendChild(d),this._isResized()||f},d.prototype._repaintLabels=function(){var a=this.options.orientation,b=e.convert(this.body.range.start,"Number"),c=e.convert(this.body.range.end,"Number"),d=this.body.util.toTime(7*(this.props.minorCharWidth||10)).valueOf(),f=d-h.getHiddenDurationBefore(this.body.hiddenDates,this.body.range,d);f-=this.body.util.toTime(0).valueOf();var i=new g(new Date(b),new Date(c),f,this.body.hiddenDates);this.step=i;var j=this.dom;j.redundant.majorLines=j.majorLines,j.redundant.majorTexts=j.majorTexts,j.redundant.minorLines=j.minorLines,j.redundant.minorTexts=j.minorTexts,j.majorLines=[],j.majorTexts=[],j.minorLines=[],j.minorTexts=[],i.first();for(var k=void 0,l=0;i.hasNext()&&1e3>l;){l++;var m=i.getCurrent(),n=this.body.util.toScreen(m),o=i.isMajor();this.options.showMinorLabels&&this._repaintMinorText(n,i.getLabelMinor(),a),o&&this.options.showMajorLabels?(n>0&&(void 0==k&&(k=n),this._repaintMajorText(n,i.getLabelMajor(),a)),this._repaintMajorLine(n,a)):this._repaintMinorLine(n,a),i.next()}if(this.options.showMajorLabels){var p=this.body.util.toTime(0),q=i.getLabelMajor(p),r=q.length*(this.props.majorCharWidth||10)+10;(void 0==k||k>r)&&this._repaintMajorText(0,q,a)}e.forEach(this.dom.redundant,function(a){for(;a.length;){var b=a.pop();b&&b.parentNode&&b.parentNode.removeChild(b)}})},d.prototype._repaintMinorText=function(a,b,c){var d=this.dom.redundant.minorTexts.shift();if(!d){var e=document.createTextNode("");d=document.createElement("div"),d.appendChild(e),d.className="text minor",this.dom.foreground.appendChild(d)}this.dom.minorTexts.push(d),d.childNodes[0].nodeValue=b,d.style.top="top"==c?this.props.majorLabelHeight+"px":"0",d.style.left=a+"px"},d.prototype._repaintMajorText=function(a,b,c){var d=this.dom.redundant.majorTexts.shift();if(!d){var e=document.createTextNode(b);d=document.createElement("div"),d.className="text major",d.appendChild(e),this.dom.foreground.appendChild(d)}this.dom.majorTexts.push(d),d.childNodes[0].nodeValue=b,d.style.top="top"==c?"0":this.props.minorLabelHeight+"px",d.style.left=a+"px"},d.prototype._repaintMinorLine=function(a,b){var c=this.dom.redundant.minorLines.shift();c||(c=document.createElement("div"),c.className="grid vertical minor",this.dom.background.appendChild(c)),this.dom.minorLines.push(c);var d=this.props;c.style.top="top"==b?d.majorLabelHeight+"px":this.body.domProps.top.height+"px",c.style.height=d.minorLineHeight+"px",c.style.left=a-d.minorLineWidth/2+"px"},d.prototype._repaintMajorLine=function(a,b){var c=this.dom.redundant.majorLines.shift();c||(c=document.createElement("DIV"),c.className="grid vertical major",this.dom.background.appendChild(c)),this.dom.majorLines.push(c);var d=this.props;c.style.top="top"==b?"0":this.body.domProps.top.height+"px",c.style.left=a-d.majorLineWidth/2+"px",c.style.height=d.majorLineHeight+"px"},d.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="text minor measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="text major measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth},d.prototype.snap=function(a){return this.step.snap(a)},a.exports=d},function(a,b,c){function d(a,b,c){this.id=null,this.parent=null,this.data=a,this.dom=null,this.conversion=b||{},this.options=c||{},this.selected=!1,this.displayed=!1,this.dirty=!0,this.top=null,this.left=null,this.width=null,this.height=null}var e=c(45),f=c(1);d.prototype.stack=!0,d.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},d.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},d.prototype.setData=function(a){this.data=a,this.dirty=!0,this.displayed&&this.redraw()},d.prototype.setParent=function(a){this.displayed?(this.hide(),this.parent=a,this.parent&&this.show()):this.parent=a},d.prototype.isVisible=function(){return!1},d.prototype.show=function(){return!1},d.prototype.hide=function(){return!1},d.prototype.redraw=function(){},d.prototype.repositionX=function(){},d.prototype.repositionY=function(){},d.prototype._repaintDeleteButton=function(a){if(this.selected&&this.options.editable.remove&&!this.dom.deleteButton){var b=this,c=document.createElement("div");c.className="delete",c.title="Delete this item",e(c,{preventDefault:!0}).on("tap",function(a){b.parent.removeFromDataSet(b),a.stopPropagation()}),a.appendChild(c),this.dom.deleteButton=c}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},d.prototype._updateContents=function(a){var b;if(this.options.template){var c=this.parent.itemSet.itemsData.get(this.id);b=this.options.template(c)}else b=this.data.content;if(b!==this.content){if(b instanceof Element)a.innerHTML="",a.appendChild(b);else if(void 0!=b)a.innerHTML=b;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=b}},d.prototype._updateTitle=function(a){null!=this.data.title?a.title=this.data.title||"":a.removeAttribute("title")},d.prototype._updateDataAttributes=function(a){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var b=[];if(Array.isArray(this.options.dataAttributes))b=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;b=Object.keys(this.data)}for(var c=0;c<b.length;c++){var d=b[c],e=this.data[d];null!=e?a.setAttribute("data-"+d,e):a.removeAttribute("data-"+d)}}},d.prototype._updateStyle=function(a){this.style&&(f.removeCssText(a,this.style),this.style=null),this.data.style&&(f.addCssText(a,this.data.style),this.style=this.data.style)},a.exports=d},function(a,b,c){function d(a,b,c){if(this.props={content:{width:0}},this.overflow=!1,a){if(void 0==a.start)throw new Error('Property "start" missing in item '+a.id);if(void 0==a.end)throw new Error('Property "end" missing in item '+a.id)}e.call(this,a,b,c),this.emptyContent=!1}var e=(c(45),c(31)),f=c(26),g=c(35);d.prototype=new e(null,null,null),d.prototype.baseClassName="item background",d.prototype.stack=!1,d.prototype.isVisible=function(a){return this.data.start<a.end&&this.data.end>a.start},d.prototype.redraw=function(){var a=this.dom;if(a||(this.dom={},a=this.dom,a.box=document.createElement("div"),a.content=document.createElement("div"),a.content.className="content",a.box.appendChild(a.content),this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!a.box.parentNode){var b=this.parent.dom.background;if(!b)throw new Error("Cannot redraw item: parent has no background container element");b.appendChild(a.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var c=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":"");a.box.className=this.baseClassName+c,this.overflow="hidden"!==window.getComputedStyle(a.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1}},d.prototype.show=g.prototype.show,d.prototype.hide=g.prototype.hide,d.prototype.repositionX=g.prototype.repositionX,d.prototype.repositionY=function(a){var b="top"===this.options.orientation;this.dom.content.style.top=b?"":"0",this.dom.content.style.bottom=b?"0":"";var c;if(void 0!==this.data.subgroup){var d=this.data.subgroup,e=this.parent.subgroups,g=e[d].index;if(1==b){c=this.parent.subgroups[d].height+a.item.vertical,c+=0==g?a.axis-.5*a.item.vertical:0;var h=this.parent.top;for(var i in e)e.hasOwnProperty(i)&&1==e[i].visible&&e[i].index<g&&(h+=e[i].height+a.item.vertical);h+=0!=g?a.axis-.5*a.item.vertical:0,this.dom.box.style.top=h+"px",this.dom.box.style.bottom=""}else{var h=this.parent.top;for(var i in e)e.hasOwnProperty(i)&&1==e[i].visible&&e[i].index>g&&(h+=e[i].height+a.item.vertical);c=this.parent.subgroups[d].height+a.item.vertical,this.dom.box.style.top=h+"px",this.dom.box.style.bottom=""}}else this.parent instanceof f?(c=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.top=b?"0":"",this.dom.box.style.bottom=b?"":"0"):(c=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=c+"px"},a.exports=d},function(a,b,c){function d(a,b,c){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},a&&void 0==a.start)throw new Error('Property "start" missing in item '+a);e.call(this,a,b,c)}{var e=c(31);c(1)}d.prototype=new e(null,null,null),d.prototype.isVisible=function(a){var b=(a.end-a.start)/4;return this.data.start>a.start-b&&this.data.start<a.end+b},d.prototype.redraw=function(){var a=this.dom;if(a||(this.dom={},a=this.dom,a.box=document.createElement("DIV"),a.content=document.createElement("DIV"),a.content.className="content",a.box.appendChild(a.content),a.line=document.createElement("DIV"),a.line.className="line",a.dot=document.createElement("DIV"),a.dot.className="dot",a.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!a.box.parentNode){var b=this.parent.dom.foreground;if(!b)throw new Error("Cannot redraw item: parent has no foreground container element");b.appendChild(a.box)}if(!a.line.parentNode){var c=this.parent.dom.background;if(!c)throw new Error("Cannot redraw item: parent has no background container element");c.appendChild(a.line)}if(!a.dot.parentNode){var d=this.parent.dom.axis;if(!c)throw new Error("Cannot redraw item: parent has no axis container element");d.appendChild(a.dot)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var e=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":"");a.box.className="item box"+e,a.line.className="item line"+e,a.dot.className="item dot"+e,this.props.dot.height=a.dot.offsetHeight,this.props.dot.width=a.dot.offsetWidth,this.props.line.width=a.line.offsetWidth,this.width=a.box.offsetWidth,this.height=a.box.offsetHeight,this.dirty=!1}this._repaintDeleteButton(a.box)},d.prototype.show=function(){this.displayed||this.redraw()},d.prototype.hide=function(){if(this.displayed){var a=this.dom;a.box.parentNode&&a.box.parentNode.removeChild(a.box),a.line.parentNode&&a.line.parentNode.removeChild(a.line),a.dot.parentNode&&a.dot.parentNode.removeChild(a.dot),this.top=null,this.left=null,this.displayed=!1}},d.prototype.repositionX=function(){var a=this.conversion.toScreen(this.data.start),b=this.options.align,c=this.dom.box,d=this.dom.line,e=this.dom.dot;this.left="right"==b?a-this.width:"left"==b?a:a-this.width/2,c.style.left=this.left+"px",d.style.left=a-this.props.line.width/2+"px",e.style.left=a-this.props.dot.width/2+"px"},d.prototype.repositionY=function(){var a=this.options.orientation,b=this.dom.box,c=this.dom.line,d=this.dom.dot;if("top"==a)b.style.top=(this.top||0)+"px",c.style.top="0",c.style.height=this.parent.top+this.top+1+"px",c.style.bottom="";else{var e=this.parent.itemSet.props.height,f=e-this.parent.top-this.parent.height+this.top;b.style.top=(this.parent.height-this.top-this.height||0)+"px",c.style.top=e-f+"px",c.style.bottom="0"}d.style.top=-this.props.dot.height/2+"px"},a.exports=d},function(a,b,c){function d(a,b,c){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0}},a&&void 0==a.start)throw new Error('Property "start" missing in item '+a);e.call(this,a,b,c)}var e=c(31);d.prototype=new e(null,null,null),d.prototype.isVisible=function(a){var b=(a.end-a.start)/4;return this.data.start>a.start-b&&this.data.start<a.end+b},d.prototype.redraw=function(){var a=this.dom;if(a||(this.dom={},a=this.dom,a.point=document.createElement("div"),a.content=document.createElement("div"),a.content.className="content",a.point.appendChild(a.content),a.dot=document.createElement("div"),a.point.appendChild(a.dot),a.point["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!a.point.parentNode){var b=this.parent.dom.foreground;if(!b)throw new Error("Cannot redraw item: parent has no foreground container element");b.appendChild(a.point)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.point),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var c=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":"");a.point.className="item point"+c,a.dot.className="item dot"+c,this.width=a.point.offsetWidth,this.height=a.point.offsetHeight,this.props.dot.width=a.dot.offsetWidth,this.props.dot.height=a.dot.offsetHeight,this.props.content.height=a.content.offsetHeight,a.content.style.marginLeft=2*this.props.dot.width+"px",a.dot.style.top=(this.height-this.props.dot.height)/2+"px",a.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1}this._repaintDeleteButton(a.point)},d.prototype.show=function(){this.displayed||this.redraw()},d.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.top=null,this.left=null,this.displayed=!1)},d.prototype.repositionX=function(){var a=this.conversion.toScreen(this.data.start);this.left=a-this.props.dot.width,this.dom.point.style.left=this.left+"px"},d.prototype.repositionY=function(){var a=this.options.orientation,b=this.dom.point;b.style.top="top"==a?this.top+"px":this.parent.height-this.top-this.height+"px"},a.exports=d},function(a,b,c){function d(a,b,c){if(this.props={content:{width:0}},this.overflow=!1,a){if(void 0==a.start)throw new Error('Property "start" missing in item '+a.id);if(void 0==a.end)throw new Error('Property "end" missing in item '+a.id)}f.call(this,a,b,c)}var e=c(45),f=c(31);d.prototype=new f(null,null,null),d.prototype.baseClassName="item range",d.prototype.isVisible=function(a){return this.data.start<a.end&&this.data.end>a.start},d.prototype.redraw=function(){var a=this.dom;if(a||(this.dom={},a=this.dom,a.box=document.createElement("div"),a.content=document.createElement("div"),a.content.className="content",a.box.appendChild(a.content),a.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!a.box.parentNode){var b=this.parent.dom.foreground;if(!b)throw new Error("Cannot redraw item: parent has no foreground container element");b.appendChild(a.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var c=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":"");a.box.className=this.baseClassName+c,this.overflow="hidden"!==window.getComputedStyle(a.content).overflow,this.dom.content.style.maxWidth="none",this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dom.content.style.maxWidth="",this.dirty=!1}this._repaintDeleteButton(a.box),this._repaintDragLeft(),this._repaintDragRight()},d.prototype.show=function(){this.displayed||this.redraw()},d.prototype.hide=function(){if(this.displayed){var a=this.dom.box;a.parentNode&&a.parentNode.removeChild(a),this.top=null,this.left=null,this.displayed=!1}},d.prototype.repositionX=function(){var a,b,c=this.parent.width,d=this.conversion.toScreen(this.data.start),e=this.conversion.toScreen(this.data.end);-c>d&&(d=-c),e>2*c&&(e=2*c);var f=Math.max(e-d,1);switch(this.overflow?(this.left=d,this.width=f+this.props.content.width,b=this.props.content.width):(this.left=d,this.width=f,b=Math.min(e-d-2*this.options.padding,this.props.content.width)),this.dom.box.style.left=this.left+"px",this.dom.box.style.width=f+"px",this.options.align){case"left":this.dom.content.style.left="0";break;case"right":this.dom.content.style.left=Math.max(f-b-2*this.options.padding,0)+"px";break;case"center":this.dom.content.style.left=Math.max((f-b-2*this.options.padding)/2,0)+"px";break;default:a=this.overflow?e>0?Math.max(-d,0):-b:0>d?Math.min(-d,e-d-b-2*this.options.padding):0,this.dom.content.style.left=a+"px"}},d.prototype.repositionY=function(){var a=this.options.orientation,b=this.dom.box;b.style.top="top"==a?this.top+"px":this.parent.height-this.top-this.height+"px"},d.prototype._repaintDragLeft=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft){var a=document.createElement("div");a.className="drag-left",a.dragLeftItem=this,e(a,{preventDefault:!0}).on("drag",function(){}),this.dom.box.appendChild(a),this.dom.dragLeft=a}else!this.selected&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},d.prototype._repaintDragRight=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragRight){var a=document.createElement("div");a.className="drag-right",a.dragRightItem=this,e(a,{preventDefault:!0}).on("drag",function(){}),this.dom.box.appendChild(a),this.dom.dragRight=a}else!this.selected&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},a.exports=d},function(a,b,c){function d(a,b,c){if(!(this instanceof d))throw new SyntaxError("Constructor must be called with the new operator");this._initializeMixinLoaders(),this.containerElement=a,this.renderRefreshRate=60,this.renderTimestep=1e3/this.renderRefreshRate,this.renderTime=.5*this.renderTimestep,this.maxPhysicsTicksPerRender=3,this.physicsDiscreteStepsize=.5,this.initializing=!0,this.triggerFunctions={add:null,edit:null,editEdge:null,connect:null,del:null},this.defaultOptions={nodes:{mass:1,radiusMin:10,radiusMax:30,radius:10,shape:"ellipse",image:void 0,widthMin:16,widthMax:64,fontColor:"black",fontSize:14,fontFace:"verdana",fontFill:void 0,level:-1,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},borderColor:"#2B7CE9",backgroundColor:"#97C2FC",highlightColor:"#D2E5FF",group:void 0,borderWidth:1,borderWidthSelected:void 0},edges:{widthMin:1,widthMax:15,width:1,widthSelectionMultiplier:2,hoverWidth:1.5,style:"line",color:{color:"#848484",highlight:"#848484",hover:"#848484"},fontColor:"#343434",fontSize:14,fontFace:"arial",fontFill:"white",arrowScaleFactor:1,dash:{length:10,gap:5,altLength:void 0},inheritColor:"from"},configurePhysics:!1,physics:{barnesHut:{enabled:!0,theta:1/.6,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09},repulsion:{centralGravity:0,springLength:200,springConstant:.05,nodeDistance:100,damping:.09},hierarchicalRepulsion:{enabled:!1,centralGravity:0,springLength:100,springConstant:.01,nodeDistance:150,damping:.09},damping:null,centralGravity:null,springLength:null,springConstant:null},clustering:{enabled:!1,initialMaxNodes:100,clusterThreshold:500,reduceToNodes:300,chainThreshold:.4,clusterEdgeThreshold:20,sectorThreshold:100,screenSizeThreshold:.2,fontSizeMultiplier:4,maxFontSize:1e3,forceAmplification:.1,distanceAmplification:.1,edgeGrowth:20,nodeScaling:{width:1,height:1,radius:1},maxNodeSizeIncrements:600,activeAreaBoxSize:80,clusterLevelDifference:2},navigation:{enabled:!1},keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02}},dataManipulation:{enabled:!1,initiallyVisible:!1},hierarchicalLayout:{enabled:!1,levelSeparation:150,nodeSpacing:100,direction:"UD",layout:"hubsize"},freezeForStabilization:!1,smoothCurves:{enabled:!0,dynamic:!0,type:"continuous",roundness:.5},maxVelocity:30,minVelocity:.1,stabilize:!0,stabilizationIterations:1e3,locale:"en",locales:u,tooltip:{delay:300,fontColor:"black",fontSize:14,fontFace:"verdana",color:{border:"#666",background:"#FFFFC6"}},dragNetwork:!0,dragNodes:!0,zoomable:!0,hover:!1,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,width:"100%",height:"100%",selectable:!0},this.constants=h.extend({},this.defaultOptions),this.pixelRatio=1,this.hoverObj={nodes:{},edges:{}},this.controlNodesActive=!1,this.navigationHammers={existing:[],_new:[]},this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=null,this.lockedOnNodeOffset=null,this.touchTime=0;var e=this;this.groups=new n,this.images=new o,this.images.setOnloadCallback(function(){e._redraw()}),this.xIncrement=0,this.yIncrement=0,this.zoomIncrement=0,this._loadPhysicsSystem(),this._create(),this._loadSectorSystem(),this._loadClusterSystem(),this._loadSelectionSystem(),this._loadHierarchySystem(),this._setTranslation(this.frame.clientWidth/2,this.frame.clientHeight/2),this._setScale(1),this.setOptions(c),this.freezeSimulation=!1,this.cachedFunctions={},this.startedStabilization=!1,this.stabilized=!1,this.stabilizationIterations=null,this.draggingNodes=!1,this.calculationNodes={},this.calculationNodeIndices=[],this.nodeIndices=[],this.nodes={},this.edges={},this.canvasTopLeft={x:0,y:0},this.canvasBottomRight={x:0,y:0},this.pointerPosition={x:0,y:0},this.areaCenter={},this.scale=1,this.previousScale=this.scale,this.nodesData=null,this.edgesData=null,this.nodesListeners={add:function(a,b){e._addNodes(b.items),e.start()},update:function(a,b){e._updateNodes(b.items,b.data),e.start()},remove:function(a,b){e._removeNodes(b.items),e.start()}},this.edgesListeners={add:function(a,b){e._addEdges(b.items),e.start()},update:function(a,b){e._updateEdges(b.items),e.start()},remove:function(a,b){e._removeEdges(b.items),e.start()}},this.moving=!0,this.timer=void 0,this.setData(b,this.constants.clustering.enabled||this.constants.hierarchicalLayout.enabled),this.initializing=!1,1==this.constants.hierarchicalLayout.enabled?this._setupHierarchicalLayout():0==this.constants.stabilize&&this.zoomExtent(void 0,!0,this.constants.clustering.enabled),this.constants.clustering.enabled&&this.startWithClustering()}var e=c(56),f=c(45),g=c(57),h=c(1),i=c(47),j=c(3),k=c(4),l=c(42),m=c(43),n=c(38),o=c(39),p=c(40),q=c(37),r=c(41),s=c(54),t=c(55),u=c(49);c(50),e(d.prototype),d.prototype._getScriptPath=function(){for(var a=document.getElementsByTagName("script"),b=0;b<a.length;b++){var c=a[b].src,d=c&&/\/?vis(.min)?\.js$/.exec(c);if(d)return c.substring(0,c.length-d[0].length)}return null},d.prototype._getRange=function(){var a,b=1e9,c=-1e9,d=1e9,e=-1e9;for(var f in this.nodes)this.nodes.hasOwnProperty(f)&&(a=this.nodes[f],d>a.x&&(d=a.x),e<a.x&&(e=a.x),b>a.y&&(b=a.y),c<a.y&&(c=a.y));return 1e9==d&&-1e9==e&&1e9==b&&-1e9==c&&(b=0,c=0,d=0,e=0),{minX:d,maxX:e,minY:b,maxY:c}},d.prototype._findCenter=function(a){return{x:.5*(a.maxX+a.minX),y:.5*(a.maxY+a.minY)}},d.prototype.zoomExtent=function(a,b,c){void 0===b&&(b=!1),void 0===c&&(c=!1),void 0===a&&(a=!1);var d,e=this._getRange();if(1==b){var f=this.nodeIndices.length;d=1==this.constants.smoothCurves?1==this.constants.clustering.enabled&&f>=this.constants.clustering.initialMaxNodes?49.07548/(f+142.05338)+91444e-8:12.662/(f+7.4147)+.0964822:1==this.constants.clustering.enabled&&f>=this.constants.clustering.initialMaxNodes?77.5271985/(f+187.266146)+476710517e-13:30.5062972/(f+19.93597763)+.08413486;var g=Math.min(this.frame.canvas.clientWidth/600,this.frame.canvas.clientHeight/600);d*=g}else{var h=1.1*Math.abs(e.maxX-e.minX),i=1.1*Math.abs(e.maxY-e.minY),j=this.frame.canvas.clientWidth/h,k=this.frame.canvas.clientHeight/i;d=k>=j?j:k}d>1&&(d=1);var l=this._findCenter(e);if(0==c){var m={position:l,scale:d,animation:a};this.moveTo(m),this.moving=!0,this.start()}else l.x*=d,l.y*=d,l.x-=.5*this.frame.canvas.clientWidth,l.y-=.5*this.frame.canvas.clientHeight,this._setScale(d),this._setTranslation(-l.x,-l.y)},d.prototype._updateNodeIndexList=function(){this._clearNodeIndexList();for(var a in this.nodes)this.nodes.hasOwnProperty(a)&&this.nodeIndices.push(a)},d.prototype.setData=function(a,b){if(void 0===b&&(b=!1),this.initializing=!0,a&&a.dot&&(a.nodes||a.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(a&&a.options),a&&a.dot){if(a&&a.dot){var c=l.DOTToGraph(a.dot);return void this.setData(c)}}else if(a&&a.gephi){if(a&&a.gephi){var d=m.parseGephi(a.gephi);return void this.setData(d)}}else this._setNodes(a&&a.nodes),this._setEdges(a&&a.edges);this._putDataInSector(),0==b&&(1==this.constants.hierarchicalLayout.enabled?(this._resetLevels(),this._setupHierarchicalLayout()):this.constants.stabilize&&this._stabilize(),this.start()),this.initializing=!1},d.prototype.setOptions=function(a){if(a){var b,c=["nodes","edges","smoothCurves","hierarchicalLayout","clustering","navigation","keyboard","dataManipulation","onAdd","onEdit","onEditEdge","onConnect","onDelete","clickToUse"];if(h.selectiveNotDeepExtend(c,this.constants,a),h.selectiveNotDeepExtend(["color"],this.constants.nodes,a.nodes),h.selectiveNotDeepExtend(["color","length"],this.constants.edges,a.edges),a.physics&&(h.mergeOptions(this.constants.physics,a.physics,"barnesHut"),h.mergeOptions(this.constants.physics,a.physics,"repulsion"),a.physics.hierarchicalRepulsion)){this.constants.hierarchicalLayout.enabled=!0,this.constants.physics.hierarchicalRepulsion.enabled=!0,this.constants.physics.barnesHut.enabled=!1;for(b in a.physics.hierarchicalRepulsion)a.physics.hierarchicalRepulsion.hasOwnProperty(b)&&(this.constants.physics.hierarchicalRepulsion[b]=a.physics.hierarchicalRepulsion[b])}if(a.onAdd&&(this.triggerFunctions.add=a.onAdd),a.onEdit&&(this.triggerFunctions.edit=a.onEdit),a.onEditEdge&&(this.triggerFunctions.editEdge=a.onEditEdge),a.onConnect&&(this.triggerFunctions.connect=a.onConnect),a.onDelete&&(this.triggerFunctions.del=a.onDelete),h.mergeOptions(this.constants,a,"smoothCurves"),h.mergeOptions(this.constants,a,"hierarchicalLayout"),h.mergeOptions(this.constants,a,"clustering"),h.mergeOptions(this.constants,a,"navigation"),h.mergeOptions(this.constants,a,"keyboard"),h.mergeOptions(this.constants,a,"dataManipulation"),a.dataManipulation&&(this.editMode=this.constants.dataManipulation.initiallyVisible),a.edges&&(void 0!==a.edges.color&&(h.isString(a.edges.color)?(this.constants.edges.color={},this.constants.edges.color.color=a.edges.color,this.constants.edges.color.highlight=a.edges.color,this.constants.edges.color.hover=a.edges.color):(void 0!==a.edges.color.color&&(this.constants.edges.color.color=a.edges.color.color),void 0!==a.edges.color.highlight&&(this.constants.edges.color.highlight=a.edges.color.highlight),void 0!==a.edges.color.hover&&(this.constants.edges.color.hover=a.edges.color.hover))),a.edges.fontColor||void 0!==a.edges.color&&(h.isString(a.edges.color)?this.constants.edges.fontColor=a.edges.color:void 0!==a.edges.color.color&&(this.constants.edges.fontColor=a.edges.color.color))),a.nodes&&a.nodes.color){var d=h.parseColor(a.nodes.color);this.constants.nodes.color.background=d.background,this.constants.nodes.color.border=d.border,this.constants.nodes.color.highlight.background=d.highlight.background,this.constants.nodes.color.highlight.border=d.highlight.border,this.constants.nodes.color.hover.background=d.hover.background,this.constants.nodes.color.hover.border=d.hover.border
}if(a.groups)for(var e in a.groups)if(a.groups.hasOwnProperty(e)){var f=a.groups[e];this.groups.add(e,f)}if(a.tooltip){for(b in a.tooltip)a.tooltip.hasOwnProperty(b)&&(this.constants.tooltip[b]=a.tooltip[b]);a.tooltip.color&&(this.constants.tooltip.color=h.parseColor(a.tooltip.color))}if("clickToUse"in a&&(a.clickToUse?(this.activator=new t(this.frame),this.activator.on("change",this._createKeyBinds.bind(this))):this.activator&&(this.activator.destroy(),delete this.activator)),a.labels)throw new Error('Option "labels" is deprecated. Use options "locale" and "locales" instead.')}this._loadPhysicsSystem(),this._loadNavigationControls(),this._loadManipulationSystem(),this._configureSmoothCurves(),this._createKeyBinds(),this.setSize(this.constants.width,this.constants.height),this.moving=!0,this.start()},d.prototype._create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis network-frame",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext){var a=this.frame.canvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.frame.canvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var b=document.createElement("DIV");b.style.color="red",b.style.fontWeight="bold",b.style.padding="10px",b.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(b)}var c=this;this.drag={},this.pinch={},this.hammer=f(this.frame.canvas,{prevent_default:!0}),this.hammer.on("tap",c._onTap.bind(c)),this.hammer.on("doubletap",c._onDoubleTap.bind(c)),this.hammer.on("hold",c._onHold.bind(c)),this.hammer.on("pinch",c._onPinch.bind(c)),this.hammer.on("touch",c._onTouch.bind(c)),this.hammer.on("dragstart",c._onDragStart.bind(c)),this.hammer.on("drag",c._onDrag.bind(c)),this.hammer.on("dragend",c._onDragEnd.bind(c)),this.hammer.on("mousewheel",c._onMouseWheel.bind(c)),this.hammer.on("DOMMouseScroll",c._onMouseWheel.bind(c)),this.hammer.on("mousemove",c._onMouseMoveTitle.bind(c)),this.hammerFrame=f(this.frame,{prevent_default:!0}),this.hammerFrame.on("release",c._onRelease.bind(c)),this.containerElement.appendChild(this.frame)},d.prototype._createKeyBinds=function(){var a=this;void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=g(),this.keycharm.reset(),this.constants.keyboard.enabled&&this.isActive()&&(this.keycharm.bind("up",this._moveUp.bind(a),"keydown"),this.keycharm.bind("up",this._yStopMoving.bind(a),"keyup"),this.keycharm.bind("down",this._moveDown.bind(a),"keydown"),this.keycharm.bind("down",this._yStopMoving.bind(a),"keyup"),this.keycharm.bind("left",this._moveLeft.bind(a),"keydown"),this.keycharm.bind("left",this._xStopMoving.bind(a),"keyup"),this.keycharm.bind("right",this._moveRight.bind(a),"keydown"),this.keycharm.bind("right",this._xStopMoving.bind(a),"keyup"),this.keycharm.bind("=",this._zoomIn.bind(a),"keydown"),this.keycharm.bind("=",this._stopZoom.bind(a),"keyup"),this.keycharm.bind("num+",this._zoomIn.bind(a),"keydown"),this.keycharm.bind("num+",this._stopZoom.bind(a),"keyup"),this.keycharm.bind("num-",this._zoomOut.bind(a),"keydown"),this.keycharm.bind("num-",this._stopZoom.bind(a),"keyup"),this.keycharm.bind("-",this._zoomOut.bind(a),"keydown"),this.keycharm.bind("-",this._stopZoom.bind(a),"keyup"),this.keycharm.bind("[",this._zoomIn.bind(a),"keydown"),this.keycharm.bind("[",this._stopZoom.bind(a),"keyup"),this.keycharm.bind("]",this._zoomOut.bind(a),"keydown"),this.keycharm.bind("]",this._stopZoom.bind(a),"keyup"),this.keycharm.bind("pageup",this._zoomIn.bind(a),"keydown"),this.keycharm.bind("pageup",this._stopZoom.bind(a),"keyup"),this.keycharm.bind("pagedown",this._zoomOut.bind(a),"keydown"),this.keycharm.bind("pagedown",this._stopZoom.bind(a),"keyup")),1==this.constants.dataManipulation.enabled&&(this.keycharm.bind("esc",this._createManipulatorBar.bind(a)),this.keycharm.bind("delete",this._deleteSelected.bind(a)))},d.prototype._getPointer=function(a){return{x:a.pageX-h.getAbsoluteLeft(this.frame.canvas),y:a.pageY-h.getAbsoluteTop(this.frame.canvas)}},d.prototype._onTouch=function(a){(new Date).valueOf()-this.touchTime>100&&(this.drag.pointer=this._getPointer(a.gesture.center),this.drag.pinched=!1,this.pinch.scale=this._getScale(),this.touchTime=(new Date).valueOf(),this._handleTouch(this.drag.pointer))},d.prototype._onDragStart=function(){this._handleDragStart()},d.prototype._handleDragStart=function(){var a=this.drag,b=this._getNodeAt(a.pointer);if(a.dragging=!0,a.selection=[],a.translation=this._getTranslation(),a.nodeId=null,this.draggingNodes=!1,null!=b&&1==this.constants.dragNodes){this.draggingNodes=!0,a.nodeId=b.id,b.isSelected()||this._selectObject(b,!1),this.emit("dragStart",{nodeIds:this.getSelection().nodes});for(var c in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(c)){var d=this.selectionObj.nodes[c],e={id:d.id,node:d,x:d.x,y:d.y,xFixed:d.xFixed,yFixed:d.yFixed};d.xFixed=!0,d.yFixed=!0,a.selection.push(e)}}},d.prototype._onDrag=function(a){this._handleOnDrag(a)},d.prototype._handleOnDrag=function(a){if(!this.drag.pinched){this.releaseNode();var b=this._getPointer(a.gesture.center),c=this,d=this.drag,e=d.selection;if(e&&e.length&&1==this.constants.dragNodes){var f=b.x-d.pointer.x,g=b.y-d.pointer.y;e.forEach(function(a){var b=a.node;a.xFixed||(b.x=c._XconvertDOMtoCanvas(c._XconvertCanvasToDOM(a.x)+f)),a.yFixed||(b.y=c._YconvertDOMtoCanvas(c._YconvertCanvasToDOM(a.y)+g))}),this.moving||(this.moving=!0,this.start())}else if(1==this.constants.dragNetwork){var h=b.x-this.drag.pointer.x,i=b.y-this.drag.pointer.y;this._setTranslation(this.drag.translation.x+h,this.drag.translation.y+i),this._redraw()}}},d.prototype._onDragEnd=function(a){this._handleDragEnd(a)},d.prototype._handleDragEnd=function(){this.drag.dragging=!1;var a=this.drag.selection;a&&a.length?(a.forEach(function(a){a.node.xFixed=a.xFixed,a.node.yFixed=a.yFixed}),this.moving=!0,this.start()):this._redraw(),0==this.draggingNodes?this.emit("dragEnd",{nodeIds:[]}):this.emit("dragEnd",{nodeIds:this.getSelection().nodes})},d.prototype._onTap=function(a){var b=this._getPointer(a.gesture.center);this.pointerPosition=b,this._handleTap(b)},d.prototype._onDoubleTap=function(a){var b=this._getPointer(a.gesture.center);this._handleDoubleTap(b)},d.prototype._onHold=function(a){var b=this._getPointer(a.gesture.center);this.pointerPosition=b,this._handleOnHold(b)},d.prototype._onRelease=function(a){var b=this._getPointer(a.gesture.center);this._handleOnRelease(b)},d.prototype._onPinch=function(a){var b=this._getPointer(a.gesture.center);this.drag.pinched=!0,"scale"in this.pinch||(this.pinch.scale=1);var c=this.pinch.scale*a.gesture.scale;this._zoom(c,b)},d.prototype._zoom=function(a,b){if(1==this.constants.zoomable){var c=this._getScale();1e-5>a&&(a=1e-5),a>10&&(a=10);var d=null;void 0!==this.drag&&1==this.drag.dragging&&(d=this.DOMtoCanvas(this.drag.pointer));var e=this._getTranslation(),f=a/c,g=(1-f)*b.x+e.x*f,h=(1-f)*b.y+e.y*f;if(this.areaCenter={x:this._XconvertDOMtoCanvas(b.x),y:this._YconvertDOMtoCanvas(b.y)},this._setScale(a),this._setTranslation(g,h),this.updateClustersDefault(),null!=d){var i=this.canvasToDOM(d);this.drag.pointer.x=i.x,this.drag.pointer.y=i.y}return this._redraw(),a>c?this.emit("zoom",{direction:"+"}):this.emit("zoom",{direction:"-"}),a}},d.prototype._onMouseWheel=function(a){var b=0;if(a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3),b){var c=this._getScale(),d=b/10;0>b&&(d/=1-d),c*=1+d;var e=i.fakeGesture(this,a),f=this._getPointer(e.center);this._zoom(c,f)}a.preventDefault()},d.prototype._onMouseMoveTitle=function(a){var b=i.fakeGesture(this,a),c=this._getPointer(b.center);this.popupObj&&this._checkHidePopup(c);var d=this,e=function(){d._checkShowPopup(c)};if(this.popupTimer&&clearInterval(this.popupTimer),this.drag.dragging||(this.popupTimer=setTimeout(e,this.constants.tooltip.delay)),1==this.constants.hover){for(var f in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(f)&&(this.hoverObj.edges[f].hover=!1,delete this.hoverObj.edges[f]);var g=this._getNodeAt(c);null==g&&(g=this._getEdgeAt(c)),null!=g&&this._hoverObject(g);for(var h in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(h)&&(g instanceof p&&g.id!=h||g instanceof q||null==g)&&(this._blurObject(this.hoverObj.nodes[h]),delete this.hoverObj.nodes[h]);this.redraw()}},d.prototype._checkShowPopup=function(a){var b,c={left:this._XconvertDOMtoCanvas(a.x),top:this._YconvertDOMtoCanvas(a.y),right:this._XconvertDOMtoCanvas(a.x),bottom:this._YconvertDOMtoCanvas(a.y)},d=this.popupObj;if(void 0==this.popupObj){var e=this.nodes;for(b in e)if(e.hasOwnProperty(b)){var f=e[b];if(void 0!==f.getTitle()&&f.isOverlappingWith(c)){this.popupObj=f;break}}}if(void 0===this.popupObj){var g=this.edges;for(b in g)if(g.hasOwnProperty(b)){var h=g[b];if(h.connected&&void 0!==h.getTitle()&&h.isOverlappingWith(c)){this.popupObj=h;break}}}if(this.popupObj){if(this.popupObj!=d){var i=this;i.popup||(i.popup=new r(i.frame,i.constants.tooltip)),i.popup.setPosition(a.x-3,a.y-3),i.popup.setText(i.popupObj.getTitle()),i.popup.show()}}else this.popup&&this.popup.hide()},d.prototype._checkHidePopup=function(a){this.popupObj&&this._getNodeAt(a)||(this.popupObj=void 0,this.popup&&this.popup.hide())},d.prototype.setSize=function(a,b){var c=!1,d=this.frame.canvas.width,e=this.frame.canvas.height;a!=this.constants.width||b!=this.constants.height||this.frame.style.width!=a||this.frame.style.height!=b?(this.frame.style.width=a,this.frame.style.height=b,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth*this.pixelRatio,this.frame.canvas.height=this.frame.canvas.clientHeight*this.pixelRatio,this.constants.width=a,this.constants.height=b,c=!0):(this.frame.canvas.width!=this.frame.canvas.clientWidth*this.pixelRatio&&(this.frame.canvas.width=this.frame.canvas.clientWidth*this.pixelRatio,c=!0),this.frame.canvas.height!=this.frame.canvas.clientHeight*this.pixelRatio&&(this.frame.canvas.height=this.frame.canvas.clientHeight*this.pixelRatio,c=!0)),1==c&&this.emit("resize",{width:this.frame.canvas.width*this.pixelRatio,height:this.frame.canvas.height*this.pixelRatio,oldWidth:d*this.pixelRatio,oldHeight:e*this.pixelRatio})},d.prototype._setNodes=function(a){var b=this.nodesData;if(a instanceof j||a instanceof k)this.nodesData=a;else if(Array.isArray(a))this.nodesData=new j,this.nodesData.add(a);else{if(a)throw new TypeError("Array or DataSet expected");this.nodesData=new j}if(b&&h.forEach(this.nodesListeners,function(a,c){b.off(c,a)}),this.nodes={},this.nodesData){var c=this;h.forEach(this.nodesListeners,function(a,b){c.nodesData.on(b,a)});var d=this.nodesData.getIds();this._addNodes(d)}this._updateSelection()},d.prototype._addNodes=function(a){for(var b,c=0,d=a.length;d>c;c++){b=a[c];var e=this.nodesData.get(b),f=new p(e,this.images,this.groups,this.constants);if(this.nodes[b]=f,!(0!=f.xFixed&&0!=f.yFixed||null!==f.x&&null!==f.y)){var g=1*a.length+10,h=2*Math.PI*Math.random();0==f.xFixed&&(f.x=g*Math.cos(h)),0==f.yFixed&&(f.y=g*Math.sin(h))}this.moving=!0}this._updateNodeIndexList(),1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout()),this._updateCalculationNodes(),this._reconnectEdges(),this._updateValueRange(this.nodes),this.updateLabels()},d.prototype._updateNodes=function(a,b){for(var c=this.nodes,d=0,e=a.length;e>d;d++){var f=a[d],g=c[f],h=b[d];g?g.setProperties(h,this.constants):(g=new p(properties,this.images,this.groups,this.constants),c[f]=g)}this.moving=!0,1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout()),this._updateNodeIndexList(),this._updateValueRange(c)},d.prototype._removeNodes=function(a){for(var b=this.nodes,c=0,d=a.length;d>c;c++){var e=a[c];delete b[e]}this._updateNodeIndexList(),1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout()),this._updateCalculationNodes(),this._reconnectEdges(),this._updateSelection(),this._updateValueRange(b)},d.prototype._setEdges=function(a){var b=this.edgesData;if(a instanceof j||a instanceof k)this.edgesData=a;else if(Array.isArray(a))this.edgesData=new j,this.edgesData.add(a);else{if(a)throw new TypeError("Array or DataSet expected");this.edgesData=new j}if(b&&h.forEach(this.edgesListeners,function(a,c){b.off(c,a)}),this.edges={},this.edgesData){var c=this;h.forEach(this.edgesListeners,function(a,b){c.edgesData.on(b,a)});var d=this.edgesData.getIds();this._addEdges(d)}this._reconnectEdges()},d.prototype._addEdges=function(a){for(var b=this.edges,c=this.edgesData,d=0,e=a.length;e>d;d++){var f=a[d],g=b[f];g&&g.disconnect();var h=c.get(f,{showInternalIds:!0});b[f]=new q(h,this,this.constants)}this.moving=!0,this._updateValueRange(b),this._createBezierNodes(),this._updateCalculationNodes(),1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout())},d.prototype._updateEdges=function(a){for(var b=this.edges,c=this.edgesData,d=0,e=a.length;e>d;d++){var f=a[d],g=c.get(f),h=b[f];h?(h.disconnect(),h.setProperties(g,this.constants),h.connect()):(h=new q(g,this,this.constants),this.edges[f]=h)}this._createBezierNodes(),1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout()),this.moving=!0,this._updateValueRange(b)},d.prototype._removeEdges=function(a){for(var b=this.edges,c=0,d=a.length;d>c;c++){var e=a[c],f=b[e];f&&(null!=f.via&&delete this.sectors.support.nodes[f.via.id],f.disconnect(),delete b[e])}this.moving=!0,this._updateValueRange(b),1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout()),this._updateCalculationNodes()},d.prototype._reconnectEdges=function(){var a,b=this.nodes,c=this.edges;for(a in b)b.hasOwnProperty(a)&&(b[a].edges=[],b[a].dynamicEdges=[]);for(a in c)if(c.hasOwnProperty(a)){var d=c[a];d.from=null,d.to=null,d.connect()}},d.prototype._updateValueRange=function(a){var b,c=void 0,d=void 0;for(b in a)if(a.hasOwnProperty(b)){var e=a[b].getValue();void 0!==e&&(c=void 0===c?e:Math.min(e,c),d=void 0===d?e:Math.max(e,d))}if(void 0!==c&&void 0!==d)for(b in a)a.hasOwnProperty(b)&&a[b].setValueRange(c,d)},d.prototype.redraw=function(){this.setSize(this.constants.width,this.constants.height),this._redraw()},d.prototype._redraw=function(){var a=this.frame.canvas.getContext("2d");a.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var b=this.frame.canvas.width*this.pixelRatio,c=this.frame.canvas.height*this.pixelRatio;a.clearRect(0,0,b,c),a.save(),a.translate(this.translation.x,this.translation.y),a.scale(this.scale,this.scale),this.canvasTopLeft={x:this._XconvertDOMtoCanvas(0),y:this._YconvertDOMtoCanvas(0)},this.canvasBottomRight={x:this._XconvertDOMtoCanvas(this.frame.canvas.clientWidth*this.pixelRatio),y:this._YconvertDOMtoCanvas(this.frame.canvas.clientHeight*this.pixelRatio)},this._doInAllSectors("_drawAllSectorNodes",a),(0==this.drag.dragging||void 0===this.drag.dragging||0==this.constants.hideEdgesOnDrag)&&this._doInAllSectors("_drawEdges",a),(0==this.drag.dragging||void 0===this.drag.dragging||0==this.constants.hideNodesOnDrag)&&this._doInAllSectors("_drawNodes",a,!1),1==this.controlNodesActive&&this._doInAllSectors("_drawControlNodes",a),a.restore()},d.prototype._setTranslation=function(a,b){void 0===this.translation&&(this.translation={x:0,y:0}),void 0!==a&&(this.translation.x=a),void 0!==b&&(this.translation.y=b),this.emit("viewChanged")},d.prototype._getTranslation=function(){return{x:this.translation.x,y:this.translation.y}},d.prototype._setScale=function(a){this.scale=a},d.prototype._getScale=function(){return this.scale},d.prototype._XconvertDOMtoCanvas=function(a){return(a-this.translation.x)/this.scale},d.prototype._XconvertCanvasToDOM=function(a){return a*this.scale+this.translation.x},d.prototype._YconvertDOMtoCanvas=function(a){return(a-this.translation.y)/this.scale},d.prototype._YconvertCanvasToDOM=function(a){return a*this.scale+this.translation.y},d.prototype.canvasToDOM=function(a){return{x:this._XconvertCanvasToDOM(a.x),y:this._YconvertCanvasToDOM(a.y)}},d.prototype.DOMtoCanvas=function(a){return{x:this._XconvertDOMtoCanvas(a.x),y:this._YconvertDOMtoCanvas(a.y)}},d.prototype._drawNodes=function(a,b){void 0===b&&(b=!1);var c=this.nodes,d=[];for(var e in c)c.hasOwnProperty(e)&&(c[e].setScaleAndPos(this.scale,this.canvasTopLeft,this.canvasBottomRight),c[e].isSelected()?d.push(e):(c[e].inArea()||b)&&c[e].draw(a));for(var f=0,g=d.length;g>f;f++)(c[d[f]].inArea()||b)&&c[d[f]].draw(a)},d.prototype._drawEdges=function(a){var b=this.edges;for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];d.setScale(this.scale),d.connected&&b[c].draw(a)}},d.prototype._drawControlNodes=function(a){var b=this.edges;for(var c in b)b.hasOwnProperty(c)&&b[c]._drawControlNodes(a)},d.prototype._stabilize=function(){1==this.constants.freezeForStabilization&&this._freezeDefinedNodes();for(var a=0;this.moving&&a<this.constants.stabilizationIterations;)this._physicsTick(),a++;this.zoomExtent(void 0,!1,!0),1==this.constants.freezeForStabilization&&this._restoreFrozenNodes()},d.prototype._freezeDefinedNodes=function(){var a=this.nodes;for(var b in a)a.hasOwnProperty(b)&&null!=a[b].x&&null!=a[b].y&&(a[b].fixedData.x=a[b].xFixed,a[b].fixedData.y=a[b].yFixed,a[b].xFixed=!0,a[b].yFixed=!0)},d.prototype._restoreFrozenNodes=function(){var a=this.nodes;for(var b in a)a.hasOwnProperty(b)&&null!=a[b].fixedData.x&&(a[b].xFixed=a[b].fixedData.x,a[b].yFixed=a[b].fixedData.y)},d.prototype._isMoving=function(a){var b=this.nodes;for(var c in b)if(b.hasOwnProperty(c)&&b[c].isMoving(a))return!0;return!1},d.prototype._discreteStepNodes=function(){var a,b=this.physicsDiscreteStepsize,c=this.nodes,d=!1;if(this.constants.maxVelocity>0)for(a in c)c.hasOwnProperty(a)&&(c[a].discreteStepLimited(b,this.constants.maxVelocity),d=!0);else for(a in c)c.hasOwnProperty(a)&&(c[a].discreteStep(b),d=!0);if(1==d){var e=this.constants.minVelocity/Math.max(this.scale,.05);return e>.5*this.constants.maxVelocity?!0:this._isMoving(e)}return!1},d.prototype._physicsTick=function(){if(!this.freezeSimulation&&1==this.moving){var a=!1,b=!1;this._doInAllActiveSectors("_initializeForceCalculation");var c=this._doInAllActiveSectors("_discreteStepNodes");1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic&&(b=this._doInSupportSector("_discreteStepNodes"));for(var d=0;d<c.length;d++)a=c[0]||a;this.moving=a||b,this.stabilizationIterations++}},d.prototype._animationStep=function(){this.timer=void 0,this._handleNavigation(),this.start();var a=Date.now(),b=1;this._physicsTick();for(var c=Date.now()-a;c<.9*(this.renderTimestep-this.renderTime)&&b<this.maxPhysicsTicksPerRender;)this._physicsTick(),c=Date.now()-a,b++;var d=Date.now();this._redraw(),this.renderTime=Date.now()-d},"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),d.prototype.start=function(){if(1==this.moving||0!=this.xIncrement||0!=this.yIncrement||0!=this.zoomIncrement){if(0==this.startedStabilization&&(this.emit("startStabilization"),this.startedStabilization=!0),!this.timer){var a=navigator.userAgent.toLowerCase(),b=!1;-1!=a.indexOf("msie 9.0")?b=!0:-1!=a.indexOf("safari")&&a.indexOf("chrome")<=-1&&(b=!0),this.timer=1==b?window.setTimeout(this._animationStep.bind(this),this.renderTimestep):window.requestAnimationFrame(this._animationStep.bind(this),this.renderTimestep)}}else if(this._redraw(),this.stabilizationIterations>0){var c=this,d={iterations:c.stabilizationIterations};c.stabilizationIterations=0,c.startedStabilization=!1,setTimeout(function(){c.emit("stabilized",d)},0)}},d.prototype._handleNavigation=function(){if(0!=this.xIncrement||0!=this.yIncrement){var a=this._getTranslation();this._setTranslation(a.x+this.xIncrement,a.y+this.yIncrement)}if(0!=this.zoomIncrement){var b={x:this.frame.canvas.clientWidth/2,y:this.frame.canvas.clientHeight/2};this._zoom(this.scale*(1+this.zoomIncrement),b)}},d.prototype.toggleFreeze=function(){0==this.freezeSimulation?this.freezeSimulation=!0:(this.freezeSimulation=!1,this.start())},d.prototype._configureSmoothCurves=function(a){if(void 0===a&&(a=!0),1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic){this._createBezierNodes();for(var b in this.sectors.support.nodes)this.sectors.support.nodes.hasOwnProperty(b)&&void 0===this.edges[this.sectors.support.nodes[b].parentEdgeId]&&delete this.sectors.support.nodes[b]}else{this.sectors.support.nodes={};for(var c in this.edges)this.edges.hasOwnProperty(c)&&(this.edges[c].via=null)}this._updateCalculationNodes(),a||(this.moving=!0,this.start())},d.prototype._createBezierNodes=function(){if(1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic)for(var a in this.edges)if(this.edges.hasOwnProperty(a)){var b=this.edges[a];if(null==b.via){var c="edgeId:".concat(b.id);this.sectors.support.nodes[c]=new p({id:c,mass:1,shape:"circle",image:"",internalMultiplier:1},{},{},this.constants),b.via=this.sectors.support.nodes[c],b.via.parentEdgeId=b.id,b.positionBezierNode()}}},d.prototype._initializeMixinLoaders=function(){for(var a in s)s.hasOwnProperty(a)&&(d.prototype[a]=s[a])},d.prototype.storePosition=function(){console.log("storePosition is depricated: use .storePositions() from now on."),this.storePositions()},d.prototype.storePositions=function(){var a=[];for(var b in this.nodes)if(this.nodes.hasOwnProperty(b)){var c=this.nodes[b],d=!this.nodes.xFixed,e=!this.nodes.yFixed;(this.nodesData._data[b].x!=Math.round(c.x)||this.nodesData._data[b].y!=Math.round(c.y))&&a.push({id:b,x:Math.round(c.x),y:Math.round(c.y),allowedToMoveX:d,allowedToMoveY:e})}this.nodesData.update(a)},d.prototype.getPositions=function(a){var b={};if(void 0!==a){if(1==Array.isArray(a)){for(var c=0;c<a.length;c++)if(void 0!==this.nodes[a[c]]){var d=this.nodes[a[c]];b[a[c]]={x:Math.round(d.x),y:Math.round(d.y)}}}else if(void 0!==this.nodes[a]){var d=this.nodes[a];b[a]={x:Math.round(d.x),y:Math.round(d.y)}}}else for(var e in this.nodes)if(this.nodes.hasOwnProperty(e)){var d=this.nodes[e];b[e]={x:Math.round(d.x),y:Math.round(d.y)}}return b},d.prototype.focusOnNode=function(a,b){if(this.nodes.hasOwnProperty(a)){void 0===b&&(b={});var c={x:this.nodes[a].x,y:this.nodes[a].y};b.position=c,b.lockedOnNode=a,this.moveTo(b)}else console.log("This nodeId cannot be found.")},d.prototype.moveTo=function(a){return void 0===a?void(a={}):(void 0===a.offset&&(a.offset={x:0,y:0}),void 0===a.offset.x&&(a.offset.x=0),void 0===a.offset.y&&(a.offset.y=0),void 0===a.scale&&(a.scale=this._getScale()),void 0===a.position&&(a.position=this._getTranslation()),void 0===a.animation&&(a.animation={duration:0}),a.animation===!1&&(a.animation={duration:0}),a.animation===!0&&(a.animation={}),void 0===a.animation.duration&&(a.animation.duration=1e3),void 0===a.animation.easingFunction&&(a.animation.easingFunction="easeInOutQuad"),void this.animateView(a))},d.prototype.animateView=function(a){if(void 0===a)return void(a={});this.releaseNode(),1==a.locked&&(this.lockedOnNodeId=a.lockedOnNode,this.lockedOnNodeOffset=a.offset),0!=this.easingTime&&this._transitionRedraw(1),this.sourceScale=this._getScale(),this.sourceTranslation=this._getTranslation(),this.targetScale=a.scale,this._setScale(this.targetScale);var b=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),c={x:b.x-a.position.x,y:b.y-a.position.y};this.targetTranslation={x:this.sourceTranslation.x+c.x*this.targetScale+a.offset.x,y:this.sourceTranslation.y+c.y*this.targetScale+a.offset.y},0==a.animation.duration?null!=this.lockedOnNodeId?(this._classicRedraw=this._redraw,this._redraw=this._lockedRedraw):(this._setScale(this.targetScale),this._setTranslation(this.targetTranslation.x,this.targetTranslation.y),this._redraw()):(this.animationSpeed=1/(this.renderRefreshRate*a.animation.duration*.001)||1/this.renderRefreshRate,this.animationEasingFunction=a.animation.easingFunction,this._classicRedraw=this._redraw,this._redraw=this._transitionRedraw,this._redraw(),this.moving=!0,this.start())},d.prototype._lockedRedraw=function(){var a={x:this.nodes[this.lockedOnNodeId].x,y:this.nodes[this.lockedOnNodeId].y},b=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),c={x:b.x-a.x,y:b.y-a.y},d=this._getTranslation(),e={x:d.x+c.x*this.scale+this.lockedOnNodeOffset.x,y:d.y+c.y*this.scale+this.lockedOnNodeOffset.y};this._setTranslation(e.x,e.y),this._classicRedraw()},d.prototype.releaseNode=function(){null!=this.lockedOnNodeId&&(this._redraw=this._classicRedraw,this.lockedOnNodeId=null,this.lockedOnNodeOffset=null)},d.prototype._transitionRedraw=function(a){this.easingTime=a||this.easingTime+this.animationSpeed,this.easingTime+=this.animationSpeed;var b=h.easingFunctions[this.animationEasingFunction](this.easingTime);this._setScale(this.sourceScale+(this.targetScale-this.sourceScale)*b),this._setTranslation(this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*b,this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*b),this._classicRedraw(),this.moving=!0,this.easingTime>=1&&(this.easingTime=0,this._redraw=null!=this.lockedOnNodeId?this._lockedRedraw:this._classicRedraw,this.emit("animationFinished"))},d.prototype._classicRedraw=function(){},d.prototype.isActive=function(){return!this.activator||this.activator.active},d.prototype.setScale=function(){return this._setScale()},d.prototype.getScale=function(){return this._getScale()},d.prototype.getCenterCoordinates=function(){return this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight})},a.exports=d},function(a,b,c){function d(a,b,c){if(!b)throw"No network provided";var d=["edges","physics"],f=e.selectiveBridgeObject(d,c);this.options=f.edges,this.physics=f.physics,this.options.smoothCurves=c.smoothCurves,this.network=b,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.title=void 0,this.widthSelected=this.options.width*this.options.widthSelectionMultiplier,this.value=void 0,this.selected=!1,this.hover=!1,this.labelDimensions={top:0,left:0,width:0,height:0,yLine:0},this.dirtyLabel=!0,this.from=null,this.to=null,this.via=null,this.fromBackup=null,this.toBackup=null,this.originalFromId=[],this.originalToId=[],this.connected=!1,this.widthFixed=!1,this.lengthFixed=!1,this.setProperties(a),this.controlNodesEnabled=!1,this.controlNodes={from:null,to:null,positions:{}},this.connectedNode=null}var e=c(1),f=c(40);d.prototype.setProperties=function(a){if(a){var b=["style","fontSize","fontFace","fontColor","fontFill","width","widthSelectionMultiplier","hoverWidth","arrowScaleFactor","dash","inheritColor"];switch(e.selectiveDeepExtend(b,this.options,a),void 0!==a.from&&(this.fromId=a.from),void 0!==a.to&&(this.toId=a.to),void 0!==a.id&&(this.id=a.id),void 0!==a.label&&(this.label=a.label,this.dirtyLabel=!0),void 0!==a.title&&(this.title=a.title),void 0!==a.value&&(this.value=a.value),void 0!==a.length&&(this.physics.springLength=a.length),void 0!==a.color&&(this.options.inheritColor=!1,e.isString(a.color)?(this.options.color.color=a.color,this.options.color.highlight=a.color):(void 0!==a.color.color&&(this.options.color.color=a.color.color),void 0!==a.color.highlight&&(this.options.color.highlight=a.color.highlight),void 0!==a.color.hover&&(this.options.color.hover=a.color.hover))),this.connect(),this.widthFixed=this.widthFixed||void 0!==a.width,this.lengthFixed=this.lengthFixed||void 0!==a.length,this.widthSelected=this.options.width*this.options.widthSelectionMultiplier,this.options.style){case"line":this.draw=this._drawLine;break;case"arrow":this.draw=this._drawArrow;break;case"arrow-center":this.draw=this._drawArrowCenter;break;case"dash-line":this.draw=this._drawDashLine;break;default:this.draw=this._drawLine}}},d.prototype.connect=function(){this.disconnect(),this.from=this.network.nodes[this.fromId]||null,this.to=this.network.nodes[this.toId]||null,this.connected=this.from&&this.to,this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this))},d.prototype.disconnect=function(){this.from&&(this.from.detachEdge(this),this.from=null),this.to&&(this.to.detachEdge(this),this.to=null),this.connected=!1},d.prototype.getTitle=function(){return"function"==typeof this.title?this.title():this.title},d.prototype.getValue=function(){return this.value},d.prototype.setValueRange=function(a,b){if(!this.widthFixed&&void 0!==this.value){var c=(this.options.widthMax-this.options.widthMin)/(b-a);this.options.width=(this.value-a)*c+this.options.widthMin,this.widthSelected=this.options.width*this.options.widthSelectionMultiplier}},d.prototype.draw=function(){throw"Method draw not initialized in edge"},d.prototype.isOverlappingWith=function(a){if(this.connected){var b=10,c=this.from.x,d=this.from.y,e=this.to.x,f=this.to.y,g=a.left,h=a.top,i=this._getDistanceToEdge(c,d,e,f,g,h);return b>i}return!1},d.prototype._getColor=function(){var a=this.options.color;return"to"==this.options.inheritColor?a={highlight:this.to.options.color.highlight.border,hover:this.to.options.color.hover.border,color:this.to.options.color.border}:("from"==this.options.inheritColor||1==this.options.inheritColor)&&(a={highlight:this.from.options.color.highlight.border,hover:this.from.options.color.hover.border,color:this.from.options.color.border}),1==this.selected?a.highlight:1==this.hover?a.hover:a.color},d.prototype._drawLine=function(a){if(a.strokeStyle=this._getColor(),a.lineWidth=this._getLineWidth(),this.from!=this.to){var b,c=this._line(a);if(this.label){if(1==this.options.smoothCurves.enabled&&null!=c){var d=.5*(.5*(this.from.x+c.x)+.5*(this.to.x+c.x)),e=.5*(.5*(this.from.y+c.y)+.5*(this.to.y+c.y));b={x:d,y:e}}else b=this._pointOnLine(.5);this._label(a,this.label,b.x,b.y)}}else{var f,g,h=this.physics.springLength/4,i=this.from;i.width||i.resize(a),i.width>i.height?(f=i.x+i.width/2,g=i.y-h):(f=i.x+h,g=i.y-i.height/2),this._circle(a,f,g,h),b=this._pointOnCircle(f,g,h,.5),this._label(a,this.label,b.x,b.y)}},d.prototype._getLineWidth=function(){return 1==this.selected?Math.max(Math.min(this.widthSelected,this.options.widthMax),.3*this.networkScaleInv):1==this.hover?Math.max(Math.min(this.options.hoverWidth,this.options.widthMax),.3*this.networkScaleInv):Math.max(this.options.width,.3*this.networkScaleInv)},d.prototype._getViaCoordinates=function(){var a=null,b=null,c=this.options.smoothCurves.roundness,d=this.options.smoothCurves.type,e=Math.abs(this.from.x-this.to.x),f=Math.abs(this.from.y-this.to.y);return"discrete"==d||"diagonalCross"==d?Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?(this.from.y>this.to.y?this.from.x<this.to.x?(a=this.from.x+c*f,b=this.from.y-c*f):this.from.x>this.to.x&&(a=this.from.x-c*f,b=this.from.y-c*f):this.from.y<this.to.y&&(this.from.x<this.to.x?(a=this.from.x+c*f,b=this.from.y+c*f):this.from.x>this.to.x&&(a=this.from.x-c*f,b=this.from.y+c*f)),"discrete"==d&&(a=c*f>e?this.from.x:a)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>this.to.y?this.from.x<this.to.x?(a=this.from.x+c*e,b=this.from.y-c*e):this.from.x>this.to.x&&(a=this.from.x-c*e,b=this.from.y-c*e):this.from.y<this.to.y&&(this.from.x<this.to.x?(a=this.from.x+c*e,b=this.from.y+c*e):this.from.x>this.to.x&&(a=this.from.x-c*e,b=this.from.y+c*e)),"discrete"==d&&(b=c*e>f?this.from.y:b)):"straightCross"==d?Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?(a=this.from.x,b=this.from.y<this.to.y?this.to.y-(1-c)*f:this.to.y+(1-c)*f):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(a=this.from.x<this.to.x?this.to.x-(1-c)*e:this.to.x+(1-c)*e,b=this.from.y):"horizontal"==d?(a=this.from.x<this.to.x?this.to.x-(1-c)*e:this.to.x+(1-c)*e,b=this.from.y):"vertical"==d?(a=this.from.x,b=this.from.y<this.to.y?this.to.y-(1-c)*f:this.to.y+(1-c)*f):Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?this.from.y>this.to.y?this.from.x<this.to.x?(a=this.from.x+c*f,b=this.from.y-c*f,a=this.to.x<a?this.to.x:a):this.from.x>this.to.x&&(a=this.from.x-c*f,b=this.from.y-c*f,a=this.to.x>a?this.to.x:a):this.from.y<this.to.y&&(this.from.x<this.to.x?(a=this.from.x+c*f,b=this.from.y+c*f,a=this.to.x<a?this.to.x:a):this.from.x>this.to.x&&(a=this.from.x-c*f,b=this.from.y+c*f,a=this.to.x>a?this.to.x:a)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>this.to.y?this.from.x<this.to.x?(a=this.from.x+c*e,b=this.from.y-c*e,b=this.to.y>b?this.to.y:b):this.from.x>this.to.x&&(a=this.from.x-c*e,b=this.from.y-c*e,b=this.to.y>b?this.to.y:b):this.from.y<this.to.y&&(this.from.x<this.to.x?(a=this.from.x+c*e,b=this.from.y+c*e,b=this.to.y<b?this.to.y:b):this.from.x>this.to.x&&(a=this.from.x-c*e,b=this.from.y+c*e,b=this.to.y<b?this.to.y:b))),{x:a,y:b}
},d.prototype._line=function(a){if(a.beginPath(),a.moveTo(this.from.x,this.from.y),1==this.options.smoothCurves.enabled){if(0==this.options.smoothCurves.dynamic){var b=this._getViaCoordinates();return null==b.x?(a.lineTo(this.to.x,this.to.y),a.stroke(),null):(a.quadraticCurveTo(b.x,b.y,this.to.x,this.to.y),a.stroke(),b)}return a.quadraticCurveTo(this.via.x,this.via.y,this.to.x,this.to.y),a.stroke(),this.via}return a.lineTo(this.to.x,this.to.y),a.stroke(),null},d.prototype._circle=function(a,b,c,d){a.beginPath(),a.arc(b,c,d,0,2*Math.PI,!1),a.stroke()},d.prototype._label=function(a,b,c,d){if(b){a.font=(this.from.selected||this.to.selected?"bold ":"")+this.options.fontSize+"px "+this.options.fontFace;var e;if(1==this.dirtyLabel){var f=String(b).split("\n"),g=f.length,h=Number(this.options.fontSize)+4;e=d+(1-g)/2*h;for(var i=a.measureText(f[0]).width,j=1;g>j;j++){var k=a.measureText(f[j]).width;i=k>i?k:i}var l=this.options.fontSize*g,m=c-i/2,n=d-l/2;this.labelDimensions={top:n,left:m,width:i,height:l,yLine:e}}void 0!==this.options.fontFill&&null!==this.options.fontFill&&"none"!==this.options.fontFill&&(a.fillStyle=this.options.fontFill,a.fillRect(this.labelDimensions.left,this.labelDimensions.top,this.labelDimensions.width,this.labelDimensions.height)),a.fillStyle=this.options.fontColor||"black",a.textAlign="center",a.textBaseline="middle",e=this.labelDimensions.yLine;for(var j=0;g>j;j++)a.fillText(f[j],c,e),e+=h}},d.prototype._drawDashLine=function(a){a.strokeStyle=this._getColor(),a.lineWidth=this._getLineWidth();var b=null;if(void 0!==a.mozDash||void 0!==a.setLineDash){var c=[0];c=void 0!==this.options.dash.length&&void 0!==this.options.dash.gap?[this.options.dash.length,this.options.dash.gap]:[5,5],"undefined"!=typeof a.setLineDash?(a.setLineDash(c),a.lineDashOffset=0):(a.mozDash=c,a.mozDashOffset=0),b=this._line(a),"undefined"!=typeof a.setLineDash?(a.setLineDash([0]),a.lineDashOffset=0):(a.mozDash=[0],a.mozDashOffset=0)}else a.beginPath(),a.lineCap="round",void 0!==this.options.dash.altLength?a.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,[this.options.dash.length,this.options.dash.gap,this.options.dash.altLength,this.options.dash.gap]):void 0!==this.options.dash.length&&void 0!==this.options.dash.gap?a.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,[this.options.dash.length,this.options.dash.gap]):(a.moveTo(this.from.x,this.from.y),a.lineTo(this.to.x,this.to.y)),a.stroke();if(this.label){var d;if(1==this.options.smoothCurves.enabled&&null!=b){var e=.5*(.5*(this.from.x+b.x)+.5*(this.to.x+b.x)),f=.5*(.5*(this.from.y+b.y)+.5*(this.to.y+b.y));d={x:e,y:f}}else d=this._pointOnLine(.5);this._label(a,this.label,d.x,d.y)}},d.prototype._pointOnLine=function(a){return{x:(1-a)*this.from.x+a*this.to.x,y:(1-a)*this.from.y+a*this.to.y}},d.prototype._pointOnCircle=function(a,b,c,d){var e=2*(d-3/8)*Math.PI;return{x:a+c*Math.cos(e),y:b-c*Math.sin(e)}},d.prototype._drawArrowCenter=function(a){var b;if(a.strokeStyle=this._getColor(),a.fillStyle=a.strokeStyle,a.lineWidth=this._getLineWidth(),this.from!=this.to){var c=this._line(a),d=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x),e=(10+5*this.options.width)*this.options.arrowScaleFactor;if(1==this.options.smoothCurves.enabled&&null!=c){var f=.5*(.5*(this.from.x+c.x)+.5*(this.to.x+c.x)),g=.5*(.5*(this.from.y+c.y)+.5*(this.to.y+c.y));b={x:f,y:g}}else b=this._pointOnLine(.5);a.arrow(b.x,b.y,d,e),a.fill(),a.stroke(),this.label&&this._label(a,this.label,b.x,b.y)}else{var h,i,j=.25*Math.max(100,this.physics.springLength),k=this.from;k.width||k.resize(a),k.width>k.height?(h=k.x+.5*k.width,i=k.y-j):(h=k.x+j,i=k.y-.5*k.height),this._circle(a,h,i,j);var d=.2*Math.PI,e=(10+5*this.options.width)*this.options.arrowScaleFactor;b=this._pointOnCircle(h,i,j,.5),a.arrow(b.x,b.y,d,e),a.fill(),a.stroke(),this.label&&(b=this._pointOnCircle(h,i,j,.5),this._label(a,this.label,b.x,b.y))}},d.prototype._drawArrow=function(a){a.strokeStyle=this._getColor(),a.fillStyle=a.strokeStyle,a.lineWidth=this._getLineWidth();var b,c;if(this.from!=this.to){b=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x);var d,e=this.to.x-this.from.x,f=this.to.y-this.from.y,g=Math.sqrt(e*e+f*f),h=this.from.distanceToBorder(a,b+Math.PI),i=(g-h)/g,j=i*this.from.x+(1-i)*this.to.x,k=i*this.from.y+(1-i)*this.to.y;1==this.options.smoothCurves.dynamic&&1==this.options.smoothCurves.enabled?d=this.via:1==this.options.smoothCurves.enabled&&(d=this._getViaCoordinates()),1==this.options.smoothCurves.enabled&&null!=d.x&&(b=Math.atan2(this.to.y-d.y,this.to.x-d.x),e=this.to.x-d.x,f=this.to.y-d.y,g=Math.sqrt(e*e+f*f));var l,m,n=this.to.distanceToBorder(a,b),o=(g-n)/g;if(1==this.options.smoothCurves.enabled&&null!=d.x?(l=(1-o)*d.x+o*this.to.x,m=(1-o)*d.y+o*this.to.y):(l=(1-o)*this.from.x+o*this.to.x,m=(1-o)*this.from.y+o*this.to.y),a.beginPath(),a.moveTo(j,k),1==this.options.smoothCurves.enabled&&null!=d.x?a.quadraticCurveTo(d.x,d.y,l,m):a.lineTo(l,m),a.stroke(),c=(10+5*this.options.width)*this.options.arrowScaleFactor,a.arrow(l,m,b,c),a.fill(),a.stroke(),this.label){var p;if(1==this.options.smoothCurves.enabled&&null!=d){var q=.5*(.5*(this.from.x+d.x)+.5*(this.to.x+d.x)),r=.5*(.5*(this.from.y+d.y)+.5*(this.to.y+d.y));p={x:q,y:r}}else p=this._pointOnLine(.5);this._label(a,this.label,p.x,p.y)}}else{var s,t,u,v=this.from,w=.25*Math.max(100,this.physics.springLength);v.width||v.resize(a),v.width>v.height?(s=v.x+.5*v.width,t=v.y-w,u={x:s,y:v.y,angle:.9*Math.PI}):(s=v.x+w,t=v.y-.5*v.height,u={x:v.x,y:t,angle:.6*Math.PI}),a.beginPath(),a.arc(s,t,w,0,2*Math.PI,!1),a.stroke();var c=(10+5*this.options.width)*this.options.arrowScaleFactor;a.arrow(u.x,u.y,u.angle,c),a.fill(),a.stroke(),this.label&&(p=this._pointOnCircle(s,t,w,.5),this._label(a,this.label,p.x,p.y))}},d.prototype._getDistanceToEdge=function(a,b,c,d,e,f){var g=0;if(this.from!=this.to)if(1==this.options.smoothCurves.enabled){var h,i;if(1==this.options.smoothCurves.enabled&&1==this.options.smoothCurves.dynamic)h=this.via.x,i=this.via.y;else{var j=this._getViaCoordinates();h=j.x,i=j.y}var k,l,m,n,o,p,q,r=1e9;for(l=0;10>l;l++)m=.1*l,n=Math.pow(1-m,2)*a+2*m*(1-m)*h+Math.pow(m,2)*c,o=Math.pow(1-m,2)*b+2*m*(1-m)*i+Math.pow(m,2)*d,l>0&&(k=this._getDistanceToLine(p,q,n,o,e,f),r=r>k?k:r),p=n,q=o;g=r}else g=this._getDistanceToLine(a,b,c,d,e,f);else{var n,o,s,t,u=.25*this.physics.springLength,v=this.from;v.width>v.height?(n=v.x+.5*v.width,o=v.y-u):(n=v.x+u,o=v.y-.5*v.height),s=n-e,t=o-f,g=Math.abs(Math.sqrt(s*s+t*t)-u)}return this.labelDimensions.left<e&&this.labelDimensions.left+this.labelDimensions.width>e&&this.labelDimensions.top<f&&this.labelDimensions.top+this.labelDimensions.height>f?0:g},d.prototype._getDistanceToLine=function(a,b,c,d,e,f){var g=c-a,h=d-b,i=g*g+h*h,j=((e-a)*g+(f-b)*h)/i;j>1?j=1:0>j&&(j=0);var k=a+j*g,l=b+j*h,m=k-e,n=l-f;return Math.sqrt(m*m+n*n)},d.prototype.setScale=function(a){this.networkScaleInv=1/a},d.prototype.select=function(){this.selected=!0},d.prototype.unselect=function(){this.selected=!1},d.prototype.positionBezierNode=function(){null!==this.via&&null!==this.from&&null!==this.to&&(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y))},d.prototype._drawControlNodes=function(a){if(1==this.controlNodesEnabled){if(null===this.controlNodes.from&&null===this.controlNodes.to){var b="edgeIdFrom:".concat(this.id),c="edgeIdTo:".concat(this.id),d={nodes:{group:"",radius:8},physics:{damping:0},clustering:{maxNodeSizeIncrements:0,nodeScaling:{width:0,height:0,radius:0}}};this.controlNodes.from=new f({id:b,shape:"dot",color:{background:"#ff4e00",border:"#3c3c3c",highlight:{background:"#07f968"}}},{},{},d),this.controlNodes.to=new f({id:c,shape:"dot",color:{background:"#ff4e00",border:"#3c3c3c",highlight:{background:"#07f968"}}},{},{},d)}0==this.controlNodes.from.selected&&0==this.controlNodes.to.selected&&(this.controlNodes.positions=this.getControlNodePositions(a),this.controlNodes.from.x=this.controlNodes.positions.from.x,this.controlNodes.from.y=this.controlNodes.positions.from.y,this.controlNodes.to.x=this.controlNodes.positions.to.x,this.controlNodes.to.y=this.controlNodes.positions.to.y),this.controlNodes.from.draw(a),this.controlNodes.to.draw(a)}else this.controlNodes={from:null,to:null,positions:{}}},d.prototype._enableControlNodes=function(){this.fromBackup=this.from,this.toBackup=this.to,this.controlNodesEnabled=!0},d.prototype._disableControlNodes=function(){this.fromId=this.from.id,this.toId=this.to.id,this.fromId!=this.fromBackup.id?this.fromBackup.detachEdge(this):this.toId!=this.toBackup.id&&this.toBackup.detachEdge(this),this.fromBackup=null,this.toBackup=null,this.controlNodesEnabled=!1},d.prototype._getSelectedControlNode=function(a,b){var c=this.controlNodes.positions,d=Math.sqrt(Math.pow(a-c.from.x,2)+Math.pow(b-c.from.y,2)),e=Math.sqrt(Math.pow(a-c.to.x,2)+Math.pow(b-c.to.y,2));return 15>d?(this.connectedNode=this.from,this.from=this.controlNodes.from,this.controlNodes.from):15>e?(this.connectedNode=this.to,this.to=this.controlNodes.to,this.controlNodes.to):null},d.prototype._restoreControlNodes=function(){1==this.controlNodes.from.selected?(this.from=this.connectedNode,this.connectedNode=null,this.controlNodes.from.unselect()):1==this.controlNodes.to.selected&&(this.to=this.connectedNode,this.connectedNode=null,this.controlNodes.to.unselect())},d.prototype.getControlNodePositions=function(a){var b,c=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x),d=this.to.x-this.from.x,e=this.to.y-this.from.y,f=Math.sqrt(d*d+e*e),g=this.from.distanceToBorder(a,c+Math.PI),h=(f-g)/f,i=h*this.from.x+(1-h)*this.to.x,j=h*this.from.y+(1-h)*this.to.y;1==this.options.smoothCurves.dynamic&&1==this.options.smoothCurves.enabled?b=this.via:1==this.options.smoothCurves.enabled&&(b=this._getViaCoordinates()),1==this.options.smoothCurves.enabled&&null!=b.x&&(c=Math.atan2(this.to.y-b.y,this.to.x-b.x),d=this.to.x-b.x,e=this.to.y-b.y,f=Math.sqrt(d*d+e*e));var k,l,m=this.to.distanceToBorder(a,c),n=(f-m)/f;return 1==this.options.smoothCurves.enabled&&null!=b.x?(k=(1-n)*b.x+n*this.to.x,l=(1-n)*b.y+n*this.to.y):(k=(1-n)*this.from.x+n*this.to.x,l=(1-n)*this.from.y+n*this.to.y),{from:{x:i,y:j},to:{x:k,y:l}}},a.exports=d},function(a,b,c){function d(){this.clear(),this.defaultIndex=0}var e=c(1);d.DEFAULT=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}}],d.prototype.clear=function(){this.groups={},this.groups.length=function(){var a=0;for(var b in this)this.hasOwnProperty(b)&&a++;return a}},d.prototype.get=function(a){var b=this.groups[a];if(void 0==b){var c=this.defaultIndex%d.DEFAULT.length;this.defaultIndex++,b={},b.color=d.DEFAULT[c],this.groups[a]=b}return b},d.prototype.add=function(a,b){return this.groups[a]=b,b.color&&(b.color=e.parseColor(b.color)),b},a.exports=d},function(a){function b(){this.images={},this.callback=void 0}b.prototype.setOnloadCallback=function(a){this.callback=a},b.prototype.load=function(a,b){var c=this.images[a];if(void 0==c){var d=this;c=new Image,this.images[a]=c,c.onload=function(){d.callback&&d.callback(this)},c.onerror=function(){this.src=b,d.callback&&d.callback(this)},c.src=a}return c},a.exports=b},function(a,b,c){function d(a,b,c,d){var f=e.selectiveBridgeObject(["nodes"],d);this.options=f.nodes,this.selected=!1,this.hover=!1,this.edges=[],this.dynamicEdges=[],this.reroutedEdges={},this.fontDrawThreshold=3,this.id=void 0,this.x=null,this.y=null,this.allowedToMoveX=!1,this.allowedToMoveY=!1,this.xFixed=!1,this.yFixed=!1,this.horizontalAlignLeft=!0,this.verticalAlignTop=!0,this.baseRadiusValue=d.nodes.radius,this.radiusFixed=!1,this.level=-1,this.preassignedLevel=!1,this.hierarchyEnumerated=!1,this.labelDimensions={top:0,left:0,width:0,height:0,yLine:0},this.imagelist=b,this.grouplist=c,this.fx=0,this.fy=0,this.vx=0,this.vy=0,this.damping=d.physics.damping,this.fixedData={x:null,y:null},this.setProperties(a,f),this.resetCluster(),this.dynamicEdgesLength=0,this.clusterSession=0,this.clusterSizeWidthFactor=d.clustering.nodeScaling.width,this.clusterSizeHeightFactor=d.clustering.nodeScaling.height,this.clusterSizeRadiusFactor=d.clustering.nodeScaling.radius,this.maxNodeSizeIncrements=d.clustering.maxNodeSizeIncrements,this.growthIndicator=0,this.networkScaleInv=1,this.networkScale=1,this.canvasTopLeft={x:-300,y:-300},this.canvasBottomRight={x:300,y:300},this.parentEdgeId=null}var e=c(1);d.prototype.resetCluster=function(){this.formationScale=void 0,this.clusterSize=1,this.containedNodes={},this.containedEdges={},this.clusterSessions=[]},d.prototype.attachEdge=function(a){-1==this.edges.indexOf(a)&&this.edges.push(a),-1==this.dynamicEdges.indexOf(a)&&this.dynamicEdges.push(a),this.dynamicEdgesLength=this.dynamicEdges.length},d.prototype.detachEdge=function(a){var b=this.edges.indexOf(a);-1!=b&&this.edges.splice(b,1),b=this.dynamicEdges.indexOf(a),-1!=b&&this.dynamicEdges.splice(b,1),this.dynamicEdgesLength=this.dynamicEdges.length},d.prototype.setProperties=function(a,b){if(a){var c=["borderWidth","borderWidthSelected","shape","image","brokenImage","radius","fontColor","fontSize","fontFace","fontFill","group","mass"];if(e.selectiveDeepExtend(c,this.options,a),void 0!==a.id&&(this.id=a.id),void 0!==a.label&&(this.label=a.label,this.originalLabel=a.label),void 0!==a.title&&(this.title=a.title),void 0!==a.x&&(this.x=a.x),void 0!==a.y&&(this.y=a.y),void 0!==a.value&&(this.value=a.value),void 0!==a.level&&(this.level=a.level,this.preassignedLevel=!0),void 0!==a.horizontalAlignLeft&&(this.horizontalAlignLeft=a.horizontalAlignLeft),void 0!==a.verticalAlignTop&&(this.verticalAlignTop=a.verticalAlignTop),void 0!==a.triggerFunction&&(this.triggerFunction=a.triggerFunction),void 0===this.id)throw"Node must have an id";if("number"==typeof this.options.group||"string"==typeof this.options.group&&""!=this.options.group){var d=this.grouplist.get(this.options.group);for(var f in d)d.hasOwnProperty(f)&&(this.options[f]=d[f])}if(void 0!==a.radius&&(this.baseRadiusValue=this.options.radius),void 0!==a.color&&(this.options.color=e.parseColor(a.color)),void 0!==this.options.image&&""!=this.options.image){if(!this.imagelist)throw"No imagelist provided";this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage)}switch(void 0!==a.allowedToMoveX?(this.xFixed=!a.allowedToMoveX,this.allowedToMoveX=a.allowedToMoveX):void 0!==a.x&&0==this.allowedToMoveX&&(this.xFixed=!0),void 0!==a.allowedToMoveY?(this.yFixed=!a.allowedToMoveY,this.allowedToMoveY=a.allowedToMoveY):void 0!==a.y&&0==this.allowedToMoveY&&(this.yFixed=!0),this.radiusFixed=this.radiusFixed||void 0!==a.radius,"image"==this.options.shape&&(this.options.radiusMin=b.nodes.widthMin,this.options.radiusMax=b.nodes.widthMax),this.options.shape){case"database":this.draw=this._drawDatabase,this.resize=this._resizeDatabase;break;case"box":this.draw=this._drawBox,this.resize=this._resizeBox;break;case"circle":this.draw=this._drawCircle,this.resize=this._resizeCircle;break;case"ellipse":this.draw=this._drawEllipse,this.resize=this._resizeEllipse;break;case"image":this.draw=this._drawImage,this.resize=this._resizeImage;break;case"text":this.draw=this._drawText,this.resize=this._resizeText;break;case"dot":this.draw=this._drawDot,this.resize=this._resizeShape;break;case"square":this.draw=this._drawSquare,this.resize=this._resizeShape;break;case"triangle":this.draw=this._drawTriangle,this.resize=this._resizeShape;break;case"triangleDown":this.draw=this._drawTriangleDown,this.resize=this._resizeShape;break;case"star":this.draw=this._drawStar,this.resize=this._resizeShape;break;default:this.draw=this._drawEllipse,this.resize=this._resizeEllipse}this._reset()}},d.prototype.select=function(){this.selected=!0,this._reset()},d.prototype.unselect=function(){this.selected=!1,this._reset()},d.prototype.clearSizeCache=function(){this._reset()},d.prototype._reset=function(){this.width=void 0,this.height=void 0},d.prototype.getTitle=function(){return"function"==typeof this.title?this.title():this.title},d.prototype.distanceToBorder=function(a,b){var c=1;switch(this.width||this.resize(a),this.options.shape){case"circle":case"dot":return this.options.radius+c;case"ellipse":var d=this.width/2,e=this.height/2,f=Math.sin(b)*d,g=Math.cos(b)*e;return d*e/Math.sqrt(f*f+g*g);case"box":case"image":case"text":default:return this.width?Math.min(Math.abs(this.width/2/Math.cos(b)),Math.abs(this.height/2/Math.sin(b)))+c:0}},d.prototype._setForce=function(a,b){this.fx=a,this.fy=b},d.prototype._addForce=function(a,b){this.fx+=a,this.fy+=b},d.prototype.discreteStep=function(a){if(this.xFixed)this.fx=0,this.vx=0;else{var b=this.damping*this.vx,c=(this.fx-b)/this.options.mass;this.vx+=c*a,this.x+=this.vx*a}if(this.yFixed)this.fy=0,this.vy=0;else{var d=this.damping*this.vy,e=(this.fy-d)/this.options.mass;this.vy+=e*a,this.y+=this.vy*a}},d.prototype.discreteStepLimited=function(a,b){if(this.xFixed)this.fx=0,this.vx=0;else{var c=this.damping*this.vx,d=(this.fx-c)/this.options.mass;this.vx+=d*a,this.vx=Math.abs(this.vx)>b?this.vx>0?b:-b:this.vx,this.x+=this.vx*a}if(this.yFixed)this.fy=0,this.vy=0;else{var e=this.damping*this.vy,f=(this.fy-e)/this.options.mass;this.vy+=f*a,this.vy=Math.abs(this.vy)>b?this.vy>0?b:-b:this.vy,this.y+=this.vy*a}},d.prototype.isFixed=function(){return this.xFixed&&this.yFixed},d.prototype.isMoving=function(a){var b=Math.sqrt(Math.pow(this.vx,2)+Math.pow(this.vy,2));return b>a},d.prototype.isSelected=function(){return this.selected},d.prototype.getValue=function(){return this.value},d.prototype.getDistance=function(a,b){var c=this.x-a,d=this.y-b;return Math.sqrt(c*c+d*d)},d.prototype.setValueRange=function(a,b){if(!this.radiusFixed&&void 0!==this.value)if(b==a)this.options.radius=(this.options.radiusMin+this.options.radiusMax)/2;else{var c=(this.options.radiusMax-this.options.radiusMin)/(b-a);this.options.radius=(this.value-a)*c+this.options.radiusMin}this.baseRadiusValue=this.options.radius},d.prototype.draw=function(){throw"Draw method not initialized for node"},d.prototype.resize=function(){throw"Resize method not initialized for node"},d.prototype.isOverlappingWith=function(a){return this.left<a.right&&this.left+this.width>a.left&&this.top<a.bottom&&this.top+this.height>a.top},d.prototype._resizeImage=function(){if(!this.width||!this.height){var a,b;if(this.value){this.options.radius=this.baseRadiusValue;var c=this.imageObj.height/this.imageObj.width;void 0!==c?(a=this.options.radius||this.imageObj.width,b=this.options.radius*c||this.imageObj.height):(a=0,b=0)}else a=this.imageObj.width,b=this.imageObj.height;this.width=a,this.height=b,this.growthIndicator=0,this.width>0&&this.height>0&&(this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-a)}},d.prototype._drawImage=function(a){this._resizeImage(a),this.left=this.x-this.width/2,this.top=this.y-this.height/2;var b;if(0!=this.imageObj.width){if(this.clusterSize>1){var c=this.clusterSize>1?10:0;c*=this.networkScaleInv,c=Math.min(.2*this.width,c),a.globalAlpha=.5,a.drawImage(this.imageObj,this.left-c,this.top-c,this.width+2*c,this.height+2*c)}a.globalAlpha=1,a.drawImage(this.imageObj,this.left,this.top,this.width,this.height),b=this.y+this.height/2}else b=this.y;this._label(a,this.label,this.x,b,void 0,"top")},d.prototype._resizeBox=function(a){if(!this.width){var b=5,c=this.getTextSize(a);this.width=c.width+2*b,this.height=c.height+2*b,this.width+=.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.growthIndicator=this.width-(c.width+2*b)}},d.prototype._drawBox=function(a){this._resizeBox(a),this.left=this.x-this.width/2,this.top=this.y-this.height/2;var b=2.5,c=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth;a.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border,this.clusterSize>1&&(a.lineWidth=(this.selected?d:c)+(this.clusterSize>1?b:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.roundRect(this.left-2*a.lineWidth,this.top-2*a.lineWidth,this.width+4*a.lineWidth,this.height+4*a.lineWidth,this.options.radius),a.stroke()),a.lineWidth=(this.selected?d:c)+(this.clusterSize>1?b:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.fillStyle=this.selected?this.options.color.highlight.background:this.options.color.background,a.roundRect(this.left,this.top,this.width,this.height,this.options.radius),a.fill(),a.stroke(),this._label(a,this.label,this.x,this.y)},d.prototype._resizeDatabase=function(a){if(!this.width){var b=5,c=this.getTextSize(a),d=c.width+2*b;this.width=d,this.height=d,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-d}},d.prototype._drawDatabase=function(a){this._resizeDatabase(a),this.left=this.x-this.width/2,this.top=this.y-this.height/2;var b=2.5,c=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth;a.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border,this.clusterSize>1&&(a.lineWidth=(this.selected?d:c)+(this.clusterSize>1?b:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.database(this.x-this.width/2-2*a.lineWidth,this.y-.5*this.height-2*a.lineWidth,this.width+4*a.lineWidth,this.height+4*a.lineWidth),a.stroke()),a.lineWidth=(this.selected?d:c)+(this.clusterSize>1?b:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background,a.database(this.x-this.width/2,this.y-.5*this.height,this.width,this.height),a.fill(),a.stroke(),this._label(a,this.label,this.x,this.y)},d.prototype._resizeCircle=function(a){if(!this.width){var b=5,c=this.getTextSize(a),d=Math.max(c.width,c.height)+2*b;this.options.radius=d/2,this.width=d,this.height=d,this.options.radius+=.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.options.radius-.5*d}},d.prototype._drawCircle=function(a){this._resizeCircle(a),this.left=this.x-this.width/2,this.top=this.y-this.height/2;var b=2.5,c=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth;a.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border,this.clusterSize>1&&(a.lineWidth=(this.selected?d:c)+(this.clusterSize>1?b:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.circle(this.x,this.y,this.options.radius+2*a.lineWidth),a.stroke()),a.lineWidth=(this.selected?d:c)+(this.clusterSize>1?b:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background,a.circle(this.x,this.y,this.options.radius),a.fill(),a.stroke(),this._label(a,this.label,this.x,this.y)},d.prototype._resizeEllipse=function(a){if(!this.width){var b=this.getTextSize(a);this.width=1.5*b.width,this.height=2*b.height,this.width<this.height&&(this.width=this.height);var c=this.width;this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-c}},d.prototype._drawEllipse=function(a){this._resizeEllipse(a),this.left=this.x-this.width/2,this.top=this.y-this.height/2;var b=2.5,c=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth;a.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border,this.clusterSize>1&&(a.lineWidth=(this.selected?d:c)+(this.clusterSize>1?b:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.ellipse(this.left-2*a.lineWidth,this.top-2*a.lineWidth,this.width+4*a.lineWidth,this.height+4*a.lineWidth),a.stroke()),a.lineWidth=(this.selected?d:c)+(this.clusterSize>1?b:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background,a.ellipse(this.left,this.top,this.width,this.height),a.fill(),a.stroke(),this._label(a,this.label,this.x,this.y)},d.prototype._drawDot=function(a){this._drawShape(a,"circle")},d.prototype._drawTriangle=function(a){this._drawShape(a,"triangle")},d.prototype._drawTriangleDown=function(a){this._drawShape(a,"triangleDown")},d.prototype._drawSquare=function(a){this._drawShape(a,"square")},d.prototype._drawStar=function(a){this._drawShape(a,"star")},d.prototype._resizeShape=function(){if(!this.width){this.options.radius=this.baseRadiusValue;var a=2*this.options.radius;this.width=a,this.height=a,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-a}},d.prototype._drawShape=function(a,b){this._resizeShape(a),this.left=this.x-this.width/2,this.top=this.y-this.height/2;var c=2.5,d=this.options.borderWidth,e=this.options.borderWidthSelected||2*this.options.borderWidth,f=2;switch(b){case"dot":f=2;break;case"square":f=2;break;case"triangle":f=3;break;case"triangleDown":f=3;break;case"star":f=4}a.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border,this.clusterSize>1&&(a.lineWidth=(this.selected?e:d)+(this.clusterSize>1?c:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a[b](this.x,this.y,this.options.radius+f*a.lineWidth),a.stroke()),a.lineWidth=(this.selected?e:d)+(this.clusterSize>1?c:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background,a[b](this.x,this.y,this.options.radius),a.fill(),a.stroke(),this.label&&this._label(a,this.label,this.x,this.y+this.height/2,void 0,"top",!0)},d.prototype._resizeText=function(a){if(!this.width){var b=5,c=this.getTextSize(a);this.width=c.width+2*b,this.height=c.height+2*b,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-(c.width+2*b)}},d.prototype._drawText=function(a){this._resizeText(a),this.left=this.x-this.width/2,this.top=this.y-this.height/2,this._label(a,this.label,this.x,this.y)},d.prototype._label=function(a,b,c,d,e,f,g){if(b&&Number(this.options.fontSize)*this.networkScale>this.fontDrawThreshold){a.font=(this.selected?"bold ":"")+this.options.fontSize+"px "+this.options.fontFace;var h=b.split("\n"),i=h.length,j=Number(this.options.fontSize)+4,k=d+(1-i)/2*j;1==g&&(k=d+(1-i)/(2*j));for(var l=a.measureText(h[0]).width,m=1;i>m;m++){var n=a.measureText(h[m]).width;l=n>l?n:l}var o=this.options.fontSize*i,p=c-l/2,q=d-o/2;"top"==f&&(q+=.5*j),this.labelDimensions={top:q,left:p,width:l,height:o,yLine:k},void 0!==this.options.fontFill&&null!==this.options.fontFill&&"none"!==this.options.fontFill&&(a.fillStyle=this.options.fontFill,a.fillRect(p,q,l,o)),a.fillStyle=this.options.fontColor||"black",a.textAlign=e||"center",a.textBaseline=f||"middle";for(var m=0;i>m;m++)a.fillText(h[m],c,k),k+=j}},d.prototype.getTextSize=function(a){if(void 0!==this.label){a.font=(this.selected?"bold ":"")+this.options.fontSize+"px "+this.options.fontFace;for(var b=this.label.split("\n"),c=(Number(this.options.fontSize)+4)*b.length,d=0,e=0,f=b.length;f>e;e++)d=Math.max(d,a.measureText(b[e]).width);return{width:d,height:c}}return{width:0,height:0}},d.prototype.inArea=function(){return void 0!==this.width?this.x+this.width*this.networkScaleInv>=this.canvasTopLeft.x&&this.x-this.width*this.networkScaleInv<this.canvasBottomRight.x&&this.y+this.height*this.networkScaleInv>=this.canvasTopLeft.y&&this.y-this.height*this.networkScaleInv<this.canvasBottomRight.y:!0},d.prototype.inView=function(){return this.x>=this.canvasTopLeft.x&&this.x<this.canvasBottomRight.x&&this.y>=this.canvasTopLeft.y&&this.y<this.canvasBottomRight.y},d.prototype.setScaleAndPos=function(a,b,c){this.networkScaleInv=1/a,this.networkScale=a,this.canvasTopLeft=b,this.canvasBottomRight=c},d.prototype.setScale=function(a){this.networkScaleInv=1/a,this.networkScale=a},d.prototype.clearVelocity=function(){this.vx=0,this.vy=0},d.prototype.updateVelocity=function(a){var b=this.vx*this.vx*a;this.vx=Math.sqrt(b/this.options.mass),b=this.vy*this.vy*a,this.vy=Math.sqrt(b/this.options.mass)},a.exports=d},function(a){function b(a,b,c,d,e){this.container=a?a:document.body,void 0===e&&("object"==typeof b?(e=b,b=void 0):"object"==typeof d?(e=d,d=void 0):e={fontColor:"black",fontSize:14,fontFace:"verdana",color:{border:"#666",background:"#FFFFC6"}}),this.x=0,this.y=0,this.padding=5,void 0!==b&&void 0!==c&&this.setPosition(b,c),void 0!==d&&this.setText(d),this.frame=document.createElement("div");var f=this.frame.style;f.position="absolute",f.visibility="hidden",f.border="1px solid "+e.color.border,f.color=e.fontColor,f.fontSize=e.fontSize+"px",f.fontFamily=e.fontFace,f.padding=this.padding+"px",f.backgroundColor=e.color.background,f.borderRadius="3px",f.MozBorderRadius="3px",f.WebkitBorderRadius="3px",f.boxShadow="3px 3px 10px rgba(128, 128, 128, 0.5)",f.whiteSpace="nowrap",this.container.appendChild(this.frame)}b.prototype.setPosition=function(a,b){this.x=parseInt(a),this.y=parseInt(b)
},b.prototype.setText=function(a){a instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(a)):this.frame.innerHTML=a},b.prototype.show=function(a){if(void 0===a&&(a=!0),a){var b=this.frame.clientHeight,c=this.frame.clientWidth,d=this.frame.parentNode.clientHeight,e=this.frame.parentNode.clientWidth,f=this.y-b;f+b+this.padding>d&&(f=d-b-this.padding),f<this.padding&&(f=this.padding);var g=this.x;g+c+this.padding>e&&(g=e-c-this.padding),g<this.padding&&(g=this.padding),this.frame.style.left=g+"px",this.frame.style.top=f+"px",this.frame.style.visibility="visible"}else this.hide()},b.prototype.hide=function(){this.frame.style.visibility="hidden"},a.exports=b},function(a,b){function c(a){return B=a,n()}function d(){C=0,D=B.charAt(0)}function e(){C++,D=B.charAt(C)}function f(){return B.charAt(C+1)}function g(a){return G.test(a)}function h(a,b){if(a||(a={}),b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function i(a,b,c){for(var d=b.split("."),e=a;d.length;){var f=d.shift();d.length?(e[f]||(e[f]={}),e=e[f]):e[f]=c}}function j(a,b){for(var c,d,e=null,f=[a],g=a;g.parent;)f.push(g.parent),g=g.parent;if(g.nodes)for(c=0,d=g.nodes.length;d>c;c++)if(b.id===g.nodes[c].id){e=g.nodes[c];break}for(e||(e={id:b.id},a.node&&(e.attr=h(e.attr,a.node))),c=f.length-1;c>=0;c--){var i=f[c];i.nodes||(i.nodes=[]),-1==i.nodes.indexOf(e)&&i.nodes.push(e)}b.attr&&(e.attr=h(e.attr,b.attr))}function k(a,b){if(a.edges||(a.edges=[]),a.edges.push(b),a.edge){var c=h({},a.edge);b.attr=h(c,b.attr)}}function l(a,b,c,d,e){var f={from:b,to:c,type:d};return a.edge&&(f.attr=h({},a.edge)),f.attr=h(f.attr||{},e),f}function m(){for(F=z.NULL,E="";" "==D||"	"==D||"\n"==D||"\r"==D;)e();do{var a=!1;if("#"==D){for(var b=C-1;" "==B.charAt(b)||"	"==B.charAt(b);)b--;if("\n"==B.charAt(b)||""==B.charAt(b)){for(;""!=D&&"\n"!=D;)e();a=!0}}if("/"==D&&"/"==f()){for(;""!=D&&"\n"!=D;)e();a=!0}if("/"==D&&"*"==f()){for(;""!=D;){if("*"==D&&"/"==f()){e(),e();break}e()}a=!0}for(;" "==D||"	"==D||"\n"==D||"\r"==D;)e()}while(a);if(""==D)return void(F=z.DELIMITER);var c=D+f();if(A[c])return F=z.DELIMITER,E=c,e(),void e();if(A[D])return F=z.DELIMITER,E=D,void e();if(g(D)||"-"==D){for(E+=D,e();g(D);)E+=D,e();return"false"==E?E=!1:"true"==E?E=!0:isNaN(Number(E))||(E=Number(E)),void(F=z.IDENTIFIER)}if('"'==D){for(e();""!=D&&('"'!=D||'"'==D&&'"'==f());)E+=D,'"'==D&&e(),e();if('"'!=D)throw v('End of string " expected');return e(),void(F=z.IDENTIFIER)}for(F=z.UNKNOWN;""!=D;)E+=D,e();throw new SyntaxError('Syntax error in part "'+w(E,30)+'"')}function n(){var a={};if(d(),m(),"strict"==E&&(a.strict=!0,m()),("graph"==E||"digraph"==E)&&(a.type=E,m()),F==z.IDENTIFIER&&(a.id=E,m()),"{"!=E)throw v("Angle bracket { expected");if(m(),o(a),"}"!=E)throw v("Angle bracket } expected");if(m(),""!==E)throw v("End of file expected");return m(),delete a.node,delete a.edge,delete a.graph,a}function o(a){for(;""!==E&&"}"!=E;)p(a),";"==E&&m()}function p(a){var b=q(a);if(b)return void t(a,b);var c=r(a);if(!c){if(F!=z.IDENTIFIER)throw v("Identifier expected");var d=E;if(m(),"="==E){if(m(),F!=z.IDENTIFIER)throw v("Identifier expected");a[d]=E,m()}else s(a,d)}}function q(a){var b=null;if("subgraph"==E&&(b={},b.type="subgraph",m(),F==z.IDENTIFIER&&(b.id=E,m())),"{"==E){if(m(),b||(b={}),b.parent=a,b.node=a.node,b.edge=a.edge,b.graph=a.graph,o(b),"}"!=E)throw v("Angle bracket } expected");m(),delete b.node,delete b.edge,delete b.graph,delete b.parent,a.subgraphs||(a.subgraphs=[]),a.subgraphs.push(b)}return b}function r(a){return"node"==E?(m(),a.node=u(),"node"):"edge"==E?(m(),a.edge=u(),"edge"):"graph"==E?(m(),a.graph=u(),"graph"):null}function s(a,b){var c={id:b},d=u();d&&(c.attr=d),j(a,c),t(a,b)}function t(a,b){for(;"->"==E||"--"==E;){var c,d=E;m();var e=q(a);if(e)c=e;else{if(F!=z.IDENTIFIER)throw v("Identifier or subgraph expected");c=E,j(a,{id:c}),m()}var f=u(),g=l(a,b,c,d,f);k(a,g),b=c}}function u(){for(var a=null;"["==E;){for(m(),a={};""!==E&&"]"!=E;){if(F!=z.IDENTIFIER)throw v("Attribute name expected");var b=E;if(m(),"="!=E)throw v("Equal sign = expected");if(m(),F!=z.IDENTIFIER)throw v("Attribute value expected");var c=E;i(a,b,c),m(),","==E&&m()}if("]"!=E)throw v("Bracket ] expected");m()}return a}function v(a){return new SyntaxError(a+', got "'+w(E,30)+'" (char '+C+")")}function w(a,b){return a.length<=b?a:a.substr(0,27)+"..."}function x(a,b,c){Array.isArray(a)?a.forEach(function(a){Array.isArray(b)?b.forEach(function(b){c(a,b)}):c(a,b)}):Array.isArray(b)?b.forEach(function(b){c(a,b)}):c(a,b)}function y(a){var b=c(a),d={nodes:[],edges:[],options:{}};if(b.nodes&&b.nodes.forEach(function(a){var b={id:a.id,label:String(a.label||a.id)};h(b,a.attr),b.image&&(b.shape="image"),d.nodes.push(b)}),b.edges){var e=function(a){var b={from:a.from,to:a.to};return h(b,a.attr),b.style="->"==a.type?"arrow":"line",b};b.edges.forEach(function(a){var b,c;b=a.from instanceof Object?a.from.nodes:{id:a.from},c=a.to instanceof Object?a.to.nodes:{id:a.to},a.from instanceof Object&&a.from.edges&&a.from.edges.forEach(function(a){var b=e(a);d.edges.push(b)}),x(b,c,function(b,c){var f=l(d,b.id,c.id,a.type,a.attr),g=e(f);d.edges.push(g)}),a.to instanceof Object&&a.to.edges&&a.to.edges.forEach(function(a){var b=e(a);d.edges.push(b)})})}return b.attr&&(d.options=b.attr),d}var z={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},A={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},B="",C=0,D="",E="",F=z.NULL,G=/[a-zA-Z_0-9.:#]/;b.parseDOT=c,b.DOTToGraph=y},function(a,b){function c(a,b){var c=[],d=[];this.options={edges:{inheritColor:!0},nodes:{allowedToMove:!1,parseColor:!1}},void 0!==b&&(this.options.nodes.allowedToMove=b.allowedToMove|!1,this.options.nodes.parseColor=b.parseColor|!1,this.options.edges.inheritColor=b.inheritColor|!0);for(var e=a.edges,f=a.nodes,g=0;g<e.length;g++){var h={},i=e[g];h.id=i.id,h.from=i.source,h.to=i.target,h.attributes=i.attributes,h.color=i.color,h.inheritColor=void 0!==h.color?!1:this.options.inheritColor,c.push(h)}for(var g=0;g<f.length;g++){var j={},k=f[g];j.id=k.id,j.attributes=k.attributes,j.x=k.x,j.y=k.y,j.label=k.label,j.color=1==this.options.nodes.parseColor?k.color:void 0!==k.color?{background:k.color,border:k.color}:void 0,j.radius=k.size,j.allowedToMoveX=this.options.nodes.allowedToMove,j.allowedToMoveY=this.options.nodes.allowedToMove,d.push(j)}return{nodes:d,edges:c}}b.parseGephi=c},function(a,b,c){a.exports="undefined"!=typeof window&&window.moment||c(58)},function(a,b,c){a.exports="undefined"!=typeof window?window.Hammer||c(59):function(){throw Error("hammer.js is only available in a browser, not in node.js.")}},function(a,b,c){function d(){}var e=c(56),f=c(45),g=c(1),h=(c(3),c(4),c(17),c(27),c(55)),i=c(15);e(d.prototype),d.prototype._create=function(a){this.dom={},this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.root.className="vis timeline root",this.dom.background.className="vispanel background",this.dom.backgroundVertical.className="vispanel background vertical",this.dom.backgroundHorizontal.className="vispanel background horizontal",this.dom.centerContainer.className="vispanel center",this.dom.leftContainer.className="vispanel left",this.dom.rightContainer.className="vispanel right",this.dom.top.className="vispanel top",this.dom.bottom.className="vispanel bottom",this.dom.left.className="content",this.dom.center.className="content",this.dom.right.className="content",this.dom.shadowTop.className="shadow top",this.dom.shadowBottom.className="shadow bottom",this.dom.shadowTopLeft.className="shadow top",this.dom.shadowBottomLeft.className="shadow bottom",this.dom.shadowTopRight.className="shadow top",this.dom.shadowBottomRight.className="shadow bottom",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.on("rangechange",this.redraw.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("pinch",this._onPinch.bind(this)),this.on("dragstart",this._onDragStart.bind(this)),this.on("drag",this._onDrag.bind(this));var b=this;this.on("change",function(a){a&&1==a.queue?b._redrawTimer||(b._redrawTimer=setTimeout(function(){b._redrawTimer=null,b.redraw()},0)):b.redraw()}),this.hammer=f(this.dom.root,{preventDefault:!0}),this.listeners={};var c=["touch","pinch","tap","doubletap","hold","dragstart","drag","dragend","mousewheel","DOMMouseScroll"];if(c.forEach(function(a){var c=function(){var c=[a].concat(Array.prototype.slice.call(arguments,0));b.isActive()&&b.emit.apply(b,c)};b.hammer.on(a,c),b.listeners[a]=c}),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.touch={},this.redrawCount=0,!a)throw new Error("No container provided");a.appendChild(this.dom.root)},d.prototype.setOptions=function(a){if(a){var b=["width","height","minHeight","maxHeight","autoResize","start","end","orientation","clickToUse","dataAttributes","hiddenDates"];g.selectiveExtend(b,this.options,a),"hiddenDates"in this.options&&i.convertHiddenOptions(this.body,this.options.hiddenDates),"clickToUse"in a&&(a.clickToUse?this.activator=new h(this.dom.root):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize()}if(this.components.forEach(function(b){b.setOptions(a)}),a&&a.order)throw new Error("Option order is deprecated. There is no replacement for this feature.");this.redraw()},d.prototype.isActive=function(){return!this.activator||this.activator.active},d.prototype.destroy=function(){this.clear(),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(var a in this.listeners)this.listeners.hasOwnProperty(a)&&delete this.listeners[a];this.listeners=null,this.hammer=null,this.components.forEach(function(a){a.destroy()}),this.body=null},d.prototype.setCustomTime=function(a){if(!this.customTime)throw new Error("Cannot get custom time: Custom time bar is not enabled");this.customTime.setCustomTime(a)},d.prototype.getCustomTime=function(){if(!this.customTime)throw new Error("Cannot get custom time: Custom time bar is not enabled");return this.customTime.getCustomTime()},d.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},d.prototype.clear=function(a){(!a||a.items)&&this.setItems(null),(!a||a.groups)&&this.setGroups(null),(!a||a.options)&&(this.components.forEach(function(a){a.setOptions(a.defaultOptions)}),this.setOptions(this.defaultOptions))},d.prototype.fit=function(a){var b=this._getDataRange();if(null!==b.start||null!==b.end){var c=a&&void 0!==a.animate?a.animate:!0;this.range.setRange(b.start,b.end,c)}},d.prototype._getDataRange=function(){var a=this.getItemRange(),b=a.min,c=a.max;if(null!=b&&null!=c){var d=c.valueOf()-b.valueOf();0>=d&&(d=864e5),b=new Date(b.valueOf()-.05*d),c=new Date(c.valueOf()+.05*d)}return{start:b,end:c}},d.prototype.setWindow=function(a,b,c){var d=c&&void 0!==c.animate?c.animate:!0;if(1==arguments.length){var e=arguments[0];this.range.setRange(e.start,e.end,d)}else this.range.setRange(a,b,d)},d.prototype.moveTo=function(a,b){var c=this.range.end-this.range.start,d=g.convert(a,"Date").valueOf(),e=d-c/2,f=d+c/2,h=b&&void 0!==b.animate?b.animate:!0;this.range.setRange(e,f,h)},d.prototype.getWindow=function(){var a=this.range.getRange();return{start:new Date(a.start),end:new Date(a.end)}},d.prototype.redraw=function(){var a=!1,b=this.options,c=this.props,d=this.dom;if(d){i.updateHiddenDates(this.body,this.options.hiddenDates),"top"==b.orientation?(g.addClassName(d.root,"top"),g.removeClassName(d.root,"bottom")):(g.removeClassName(d.root,"top"),g.addClassName(d.root,"bottom")),d.root.style.maxHeight=g.option.asSize(b.maxHeight,""),d.root.style.minHeight=g.option.asSize(b.minHeight,""),d.root.style.width=g.option.asSize(b.width,""),c.border.left=(d.centerContainer.offsetWidth-d.centerContainer.clientWidth)/2,c.border.right=c.border.left,c.border.top=(d.centerContainer.offsetHeight-d.centerContainer.clientHeight)/2,c.border.bottom=c.border.top;var e=d.root.offsetHeight-d.root.clientHeight,f=d.root.offsetWidth-d.root.clientWidth;0===d.centerContainer.clientHeight&&(c.border.left=c.border.top,c.border.right=c.border.left),0===d.root.clientHeight&&(f=e),c.center.height=d.center.offsetHeight,c.left.height=d.left.offsetHeight,c.right.height=d.right.offsetHeight,c.top.height=d.top.clientHeight||-c.border.top,c.bottom.height=d.bottom.clientHeight||-c.border.bottom;var h=Math.max(c.left.height,c.center.height,c.right.height),j=c.top.height+h+c.bottom.height+e+c.border.top+c.border.bottom;d.root.style.height=g.option.asSize(b.height,j+"px"),c.root.height=d.root.offsetHeight,c.background.height=c.root.height-e;var k=c.root.height-c.top.height-c.bottom.height-e;c.centerContainer.height=k,c.leftContainer.height=k,c.rightContainer.height=c.leftContainer.height,c.root.width=d.root.offsetWidth,c.background.width=c.root.width-f,c.left.width=d.leftContainer.clientWidth||-c.border.left,c.leftContainer.width=c.left.width,c.right.width=d.rightContainer.clientWidth||-c.border.right,c.rightContainer.width=c.right.width;var l=c.root.width-c.left.width-c.right.width-f;c.center.width=l,c.centerContainer.width=l,c.top.width=l,c.bottom.width=l,d.background.style.height=c.background.height+"px",d.backgroundVertical.style.height=c.background.height+"px",d.backgroundHorizontal.style.height=c.centerContainer.height+"px",d.centerContainer.style.height=c.centerContainer.height+"px",d.leftContainer.style.height=c.leftContainer.height+"px",d.rightContainer.style.height=c.rightContainer.height+"px",d.background.style.width=c.background.width+"px",d.backgroundVertical.style.width=c.centerContainer.width+"px",d.backgroundHorizontal.style.width=c.background.width+"px",d.centerContainer.style.width=c.center.width+"px",d.top.style.width=c.top.width+"px",d.bottom.style.width=c.bottom.width+"px",d.background.style.left="0",d.background.style.top="0",d.backgroundVertical.style.left=c.left.width+c.border.left+"px",d.backgroundVertical.style.top="0",d.backgroundHorizontal.style.left="0",d.backgroundHorizontal.style.top=c.top.height+"px",d.centerContainer.style.left=c.left.width+"px",d.centerContainer.style.top=c.top.height+"px",d.leftContainer.style.left="0",d.leftContainer.style.top=c.top.height+"px",d.rightContainer.style.left=c.left.width+c.center.width+"px",d.rightContainer.style.top=c.top.height+"px",d.top.style.left=c.left.width+"px",d.top.style.top="0",d.bottom.style.left=c.left.width+"px",d.bottom.style.top=c.top.height+c.centerContainer.height+"px",this._updateScrollTop();var m=this.props.scrollTop;"bottom"==b.orientation&&(m+=Math.max(this.props.centerContainer.height-this.props.center.height-this.props.border.top-this.props.border.bottom,0)),d.center.style.left="0",d.center.style.top=m+"px",d.left.style.left="0",d.left.style.top=m+"px",d.right.style.left="0",d.right.style.top=m+"px";var n=0==this.props.scrollTop?"hidden":"",o=this.props.scrollTop==this.props.scrollTopMin?"hidden":"";if(d.shadowTop.style.visibility=n,d.shadowBottom.style.visibility=o,d.shadowTopLeft.style.visibility=n,d.shadowBottomLeft.style.visibility=o,d.shadowTopRight.style.visibility=n,d.shadowBottomRight.style.visibility=o,this.components.forEach(function(b){a=b.redraw()||a}),a){var p=3;this.redrawCount<p?(this.redrawCount++,this.redraw()):console.log("WARNING: infinite loop in redraw?"),this.redrawCount=0}this.emit("finishedRedraw")}},d.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},d.prototype.setCurrentTime=function(a){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(a)},d.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},d.prototype._toTime=function(a){return i.toTime(this,a,this.props.center.width)},d.prototype._toGlobalTime=function(a){return i.toTime(this,a,this.props.root.width)},d.prototype._toScreen=function(a){return i.toScreen(this,a,this.props.center.width)},d.prototype._toGlobalScreen=function(a){return i.toScreen(this,a,this.props.root.width)},d.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},d.prototype._startAutoResize=function(){var a=this;this._stopAutoResize(),this._onResize=function(){return 1!=a.options.autoResize?void a._stopAutoResize():void(a.dom.root&&(a.dom.root.offsetWidth!=a.props.lastWidth||a.dom.root.offsetHeight!=a.props.lastHeight)&&(a.props.lastWidth=a.dom.root.offsetWidth,a.props.lastHeight=a.dom.root.offsetHeight,a.emit("change")))},g.addEventListener(window,"resize",this._onResize),this.watchTimer=setInterval(this._onResize,1e3)},d.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),g.removeEventListener(window,"resize",this._onResize),this._onResize=null},d.prototype._onTouch=function(){this.touch.allowDragging=!0},d.prototype._onPinch=function(){this.touch.allowDragging=!1},d.prototype._onDragStart=function(){this.touch.initialScrollTop=this.props.scrollTop},d.prototype._onDrag=function(a){if(this.touch.allowDragging){var b=a.gesture.deltaY,c=this._getScrollTop(),d=this._setScrollTop(this.touch.initialScrollTop+b);d!=c&&(this.redraw(),this.emit("verticalDrag"))}},d.prototype._setScrollTop=function(a){return this.props.scrollTop=a,this._updateScrollTop(),this.props.scrollTop},d.prototype._updateScrollTop=function(){var a=Math.min(this.props.centerContainer.height-this.props.center.height,0);return a!=this.props.scrollTopMin&&("bottom"==this.options.orientation&&(this.props.scrollTop+=a-this.props.scrollTopMin),this.props.scrollTopMin=a),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<a&&(this.props.scrollTop=a),this.props.scrollTop},d.prototype._getScrollTop=function(){return this.props.scrollTop},a.exports=d},function(a,b,c){var d=c(45);b.fakeGesture=function(a,b){var c=null,e=d.event.getTouchList(b,c),f=d.event.collectEventData(this,c,e,b);return isNaN(f.center.pageX)&&(f.center.pageX=b.pageX),isNaN(f.center.pageY)&&(f.center.pageY=b.pageY),f}},function(a,b){b.en={current:"current",time:"time"},b.en_EN=b.en,b.en_US=b.en,b.nl={custom:"aangepaste",time:"tijd"},b.nl_NL=b.nl,b.nl_BE=b.nl},function(a,b){b.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted."},b.en_EN=b.en,b.en_US=b.en,b.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd."},b.nl_NL=b.nl,b.nl_BE=b.nl},function(){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(a,b,c){this.beginPath(),this.arc(a,b,c,0,2*Math.PI,!1)},CanvasRenderingContext2D.prototype.square=function(a,b,c){this.beginPath(),this.rect(a-c,b-c,2*c,2*c)},CanvasRenderingContext2D.prototype.triangle=function(a,b,c){this.beginPath();var d=2*c,e=d/2,f=Math.sqrt(3)/6*d,g=Math.sqrt(d*d-e*e);this.moveTo(a,b-(g-f)),this.lineTo(a+e,b+f),this.lineTo(a-e,b+f),this.lineTo(a,b-(g-f)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(a,b,c){this.beginPath();var d=2*c,e=d/2,f=Math.sqrt(3)/6*d,g=Math.sqrt(d*d-e*e);this.moveTo(a,b+(g-f)),this.lineTo(a+e,b-f),this.lineTo(a-e,b-f),this.lineTo(a,b+(g-f)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(a,b,c){this.beginPath();for(var d=0;10>d;d++){var e=d%2===0?1.3*c:.5*c;this.lineTo(a+e*Math.sin(2*d*Math.PI/10),b-e*Math.cos(2*d*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(a,b,c,d,e){var f=Math.PI/180;0>c-2*e&&(e=c/2),0>d-2*e&&(e=d/2),this.beginPath(),this.moveTo(a+e,b),this.lineTo(a+c-e,b),this.arc(a+c-e,b+e,e,270*f,360*f,!1),this.lineTo(a+c,b+d-e),this.arc(a+c-e,b+d-e,e,0,90*f,!1),this.lineTo(a+e,b+d),this.arc(a+e,b+d-e,e,90*f,180*f,!1),this.lineTo(a,b+e),this.arc(a+e,b+e,e,180*f,270*f,!1)},CanvasRenderingContext2D.prototype.ellipse=function(a,b,c,d){var e=.5522848,f=c/2*e,g=d/2*e,h=a+c,i=b+d,j=a+c/2,k=b+d/2;this.beginPath(),this.moveTo(a,k),this.bezierCurveTo(a,k-g,j-f,b,j,b),this.bezierCurveTo(j+f,b,h,k-g,h,k),this.bezierCurveTo(h,k+g,j+f,i,j,i),this.bezierCurveTo(j-f,i,a,k+g,a,k)},CanvasRenderingContext2D.prototype.database=function(a,b,c,d){var e=1/3,f=c,g=d*e,h=.5522848,i=f/2*h,j=g/2*h,k=a+f,l=b+g,m=a+f/2,n=b+g/2,o=b+(d-g/2),p=b+d;this.beginPath(),this.moveTo(k,n),this.bezierCurveTo(k,n+j,m+i,l,m,l),this.bezierCurveTo(m-i,l,a,n+j,a,n),this.bezierCurveTo(a,n-j,m-i,b,m,b),this.bezierCurveTo(m+i,b,k,n-j,k,n),this.lineTo(k,o),this.bezierCurveTo(k,o+j,m+i,p,m,p),this.bezierCurveTo(m-i,p,a,o+j,a,o),this.lineTo(a,n)},CanvasRenderingContext2D.prototype.arrow=function(a,b,c,d){var e=a-d*Math.cos(c),f=b-d*Math.sin(c),g=a-.9*d*Math.cos(c),h=b-.9*d*Math.sin(c),i=e+d/3*Math.cos(c+.5*Math.PI),j=f+d/3*Math.sin(c+.5*Math.PI),k=e+d/3*Math.cos(c-.5*Math.PI),l=f+d/3*Math.sin(c-.5*Math.PI);this.beginPath(),this.moveTo(a,b),this.lineTo(i,j),this.lineTo(g,h),this.lineTo(k,l),this.closePath()},CanvasRenderingContext2D.prototype.dashedLine=function(a,b,c,d,e){e||(e=[10,5]),0==m&&(m=.001);var f=e.length;this.moveTo(a,b);for(var g=c-a,h=d-b,i=h/g,j=Math.sqrt(g*g+h*h),k=0,l=!0;j>=.1;){var m=e[k++%f];m>j&&(m=j);var n=Math.sqrt(m*m/(1+i*i));0>g&&(n=-n),a+=n,b+=i*n,this[l?"lineTo":"moveTo"](a,b),j-=m,l=!l}})},function(a,b,c){function d(a,b){this.groupId=a,this.options=b}var e=c(2),f=c(53);d.prototype.getYRange=function(a){for(var b=a[0].y,c=a[0].y,d=0;d<a.length;d++)b=b>a[d].y?a[d].y:b,c=c<a[d].y?a[d].y:c;return{min:b,max:c,yAxisOrientation:this.options.yAxisOrientation}},d.prototype.draw=function(a,b,c){if(null!=a&&a.length>0){var g,h,i=Number(c.svg.style.height.replace("px",""));if(g=e.getSVGElement("path",c.svgElements,c.svg),g.setAttributeNS(null,"class",b.className),void 0!==b.style&&g.setAttributeNS(null,"style",b.style),h=1==b.options.catmullRom.enabled?d._catmullRom(a,b):d._linear(a),1==b.options.shaded.enabled){var j,k=e.getSVGElement("path",c.svgElements,c.svg);j="top"==b.options.shaded.orientation?"M"+a[0].x+",0 "+h+"L"+a[a.length-1].x+",0":"M"+a[0].x+","+i+" "+h+"L"+a[a.length-1].x+","+i,k.setAttributeNS(null,"class",b.className+" fill"),void 0!==b.options.shaded.style&&k.setAttributeNS(null,"style",b.options.shaded.style),k.setAttributeNS(null,"d",j)}g.setAttributeNS(null,"d","M"+h),1==b.options.drawPoints.enabled&&f.draw(a,b,c)}},d._catmullRomUniform=function(a){for(var b,c,d,e,f,g,h=Math.round(a[0].x)+","+Math.round(a[0].y)+" ",i=1/6,j=a.length,k=0;j-1>k;k++)b=0==k?a[0]:a[k-1],c=a[k],d=a[k+1],e=j>k+2?a[k+2]:d,f={x:(-b.x+6*c.x+d.x)*i,y:(-b.y+6*c.y+d.y)*i},g={x:(c.x+6*d.x-e.x)*i,y:(c.y+6*d.y-e.y)*i},h+="C"+f.x+","+f.y+" "+g.x+","+g.y+" "+d.x+","+d.y+" ";return h},d._catmullRom=function(a,b){var c=b.options.catmullRom.alpha;if(0==c||void 0===c)return this._catmullRomUniform(a);for(var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=Math.round(a[0].x)+","+Math.round(a[0].y)+" ",x=a.length,y=0;x-1>y;y++)d=0==y?a[0]:a[y-1],e=a[y],f=a[y+1],g=x>y+2?a[y+2]:f,j=Math.sqrt(Math.pow(d.x-e.x,2)+Math.pow(d.y-e.y,2)),k=Math.sqrt(Math.pow(e.x-f.x,2)+Math.pow(e.y-f.y,2)),l=Math.sqrt(Math.pow(f.x-g.x,2)+Math.pow(f.y-g.y,2)),q=Math.pow(l,c),s=Math.pow(l,2*c),r=Math.pow(k,c),t=Math.pow(k,2*c),v=Math.pow(j,c),u=Math.pow(j,2*c),m=2*u+3*v*r+t,n=2*s+3*q*r+t,o=3*v*(v+r),o>0&&(o=1/o),p=3*q*(q+r),p>0&&(p=1/p),h={x:(-t*d.x+m*e.x+u*f.x)*o,y:(-t*d.y+m*e.y+u*f.y)*o},i={x:(s*e.x+n*f.x-t*g.x)*p,y:(s*e.y+n*f.y-t*g.y)*p},0==h.x&&0==h.y&&(h=e),0==i.x&&0==i.y&&(i=f),w+="C"+h.x+","+h.y+" "+i.x+","+i.y+" "+f.x+","+f.y+" ";return w},d._linear=function(a){for(var b="",c=0;c<a.length;c++)b+=0==c?a[c].x+","+a[c].y:" "+a[c].x+","+a[c].y;return b},a.exports=d},function(a,b,c){function d(a,b){this.groupId=a,this.options=b}{var e=c(2);c(53)}d.prototype.getYRange=function(a){if("stack"!=this.options.barChart.handleOverlap){for(var b=a[0].y,c=a[0].y,d=0;d<a.length;d++)b=b>a[d].y?a[d].y:b,c=c<a[d].y?a[d].y:c;return{min:b,max:c,yAxisOrientation:this.options.yAxisOrientation}}for(var e=[],d=0;d<a.length;d++)e.push({x:a[d].x,y:a[d].y,groupId:this.groupId});return e},d.draw=function(a,b,c){var f,g,h,i,j,k,l=[],m={},n=0;for(j=0;j<a.length;j++)if(i=c.groups[a[j]],"bar"==i.options.style&&1==i.visible&&(void 0===c.options.groups.visibility[a[j]]||1==c.options.groups.visibility[a[j]]))for(k=0;k<b[a[j]].length;k++)l.push({x:b[a[j]][k].x,y:b[a[j]][k].y,groupId:a[j]}),n+=1;if(0!=n)for(l.sort(function(a,b){return a.x==b.x?a.groupId-b.groupId:a.x-b.x}),d._getDataIntersections(m,l),j=0;j<l.length;j++){i=c.groups[l[j].groupId];var o=.1*i.options.barChart.width;g=l[j].x;var p=0;if(void 0===m[g])j+1<l.length&&(f=Math.abs(l[j+1].x-g)),j>0&&(f=Math.min(f,Math.abs(l[j-1].x-g))),h=d._getSafeDrawData(f,i,o);else{var q=j+(m[g].amount-m[g].resolved),r=j-(m[g].resolved+1);q<l.length&&(f=Math.abs(l[q].x-g)),r>0&&(f=Math.min(f,Math.abs(l[r].x-g))),h=d._getSafeDrawData(f,i,o),m[g].resolved+=1,"stack"==i.options.barChart.handleOverlap?(p=m[g].accumulated,m[g].accumulated+=i.zeroPosition-l[j].y):"sideBySide"==i.options.barChart.handleOverlap&&(h.width=h.width/m[g].amount,h.offset+=m[g].resolved*h.width-.5*h.width*(m[g].amount+1),"left"==i.options.barChart.align?h.offset-=.5*h.width:"right"==i.options.barChart.align&&(h.offset+=.5*h.width))}e.drawBar(l[j].x+h.offset,l[j].y-p,h.width,i.zeroPosition-l[j].y,i.className+" bar",c.svgElements,c.svg),1==i.options.drawPoints.enabled&&e.drawPoint(l[j].x+h.offset,l[j].y,i,c.svgElements,c.svg)}},d._getDataIntersections=function(a,b){for(var c,d=0;d<b.length;d++)d+1<b.length&&(c=Math.abs(b[d+1].x-b[d].x)),d>0&&(c=Math.min(c,Math.abs(b[d-1].x-b[d].x))),0==c&&(void 0===a[b[d].x]&&(a[b[d].x]={amount:0,resolved:0,accumulated:0}),a[b[d].x].amount+=1)},d._getSafeDrawData=function(a,b,c){var d,e;return a<b.options.barChart.width&&a>0?(d=c>a?c:a,e=0,"left"==b.options.barChart.align?e-=.5*a:"right"==b.options.barChart.align&&(e+=.5*a)):(d=b.options.barChart.width,e=0,"left"==b.options.barChart.align?e-=.5*b.options.barChart.width:"right"==b.options.barChart.align&&(e+=.5*b.options.barChart.width)),{width:d,offset:e}},d.getStackedBarYRange=function(a,b,c,e,f){if(a.length>0){a.sort(function(a,b){return a.x==b.x?a.groupId-b.groupId:a.x-b.x});var g={};d._getDataIntersections(g,a),b[e]=d._getStackedBarYRange(g,a),b[e].yAxisOrientation=f,c.push(e)}},d._getStackedBarYRange=function(a,b){for(var c,d=b[0].y,e=b[0].y,f=0;f<b.length;f++)c=b[f].x,void 0===a[c]?(d=d>b[f].y?b[f].y:d,e=e<b[f].y?b[f].y:e):a[c].accumulated+=b[f].y;for(var g in a)a.hasOwnProperty(g)&&(d=d>a[g].accumulated?a[g].accumulated:d,e=e<a[g].accumulated?a[g].accumulated:e);return{min:d,max:e}},a.exports=d},function(a,b,c){function d(a,b){this.groupId=a,this.options=b}var e=c(2);d.prototype.getYRange=function(a){for(var b=a[0].y,c=a[0].y,d=0;d<a.length;d++)b=b>a[d].y?a[d].y:b,c=c<a[d].y?a[d].y:c;return{min:b,max:c,yAxisOrientation:this.options.yAxisOrientation}},d.prototype.draw=function(a,b,c,e){d.draw(a,b,c,e)},d.draw=function(a,b,c,d){void 0===d&&(d=0);for(var f=0;f<a.length;f++)e.drawPoint(a[f].x+d,a[f].y,b,c.svgElements,c.svg)},a.exports=d},function(a,b,c){var d=c(66),e=c(60),f=c(61),g=c(62),h=c(63),i=c(64),j=c(65);b._loadMixin=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])},b._clearMixin=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=void 0)},b._loadPhysicsSystem=function(){this._loadMixin(d),this._loadSelectedForceSolver(),1==this.constants.configurePhysics&&this._loadPhysicsConfiguration()},b._loadClusterSystem=function(){this.clusterSession=0,this.hubThreshold=5,this._loadMixin(e)},b._loadSectorSystem=function(){this.sectors={},this.activeSector=["default"],this.sectors.active={},this.sectors.active["default"]={nodes:{},edges:{},nodeIndices:[],formationScale:1,drawingNode:void 0},this.sectors.frozen={},this.sectors.support={nodes:{},edges:{},nodeIndices:[],formationScale:1,drawingNode:void 0},this.nodeIndices=this.sectors.active["default"].nodeIndices,this._loadMixin(f)},b._loadSelectionSystem=function(){this.selectionObj={nodes:{},edges:{}},this._loadMixin(g)},b._loadManipulationSystem=function(){this.blockConnectingEdgeSelection=!1,this.forceAppendSelection=!1,1==this.constants.dataManipulation.enabled?(void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="network-manipulationDiv",this.manipulationDiv.style.display=1==this.editMode?"block":"none",this.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="network-manipulation-editMode",this.editModeDiv.style.display=1==this.editMode?"none":"block",this.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="network-manipulation-closeDiv",this.closeDiv.style.display=this.manipulationDiv.style.display,this.frame.appendChild(this.closeDiv)),this._loadMixin(h),this._createManipulatorBar()):void 0!==this.manipulationDiv&&(this._createManipulatorBar(),this.frame.removeChild(this.manipulationDiv),this.frame.removeChild(this.editModeDiv),this.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._clearMixin(h))},b._loadNavigationControls=function(){this._loadMixin(i),this._cleanNavigation(),1==this.constants.navigation.enabled&&this._loadNavigationElements()},b._loadHierarchySystem=function(){this._loadMixin(j)
}},function(a,b,c){function d(a){this.active=!1,this.dom={container:a},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=h(this.dom.overlay,{prevent_default:!1}),this.hammer.on("tap",this._onTapOverlay.bind(this));var b=this,c=["touch","pinch","doubletap","hold","dragstart","drag","dragend","mousewheel","DOMMouseScroll"];c.forEach(function(a){b.hammer.on(a,function(a){a.stopPropagation()})}),this.windowHammer=h(window,{prevent_default:!1}),this.windowHammer.on("tap",function(c){e(c.target,a)||b.deactivate()}),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=f(),this.escListener=this.deactivate.bind(this)}function e(a,b){for(;a;){if(a===b)return!0;a=a.parentNode}return!1}var f=c(57),g=c(56),h=c(45),i=c(1);g(d.prototype),d.current=null,d.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.hammer=null,this.windowHammer=null},d.prototype.activate=function(){d.current&&d.current.deactivate(),d.current=this,this.active=!0,this.dom.overlay.style.display="none",i.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},d.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",i.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},d.prototype._onTapOverlay=function(a){this.activate(),a.stopPropagation()},a.exports=d},function(a){function b(a){return a?c(a):void 0}function c(a){for(var c in b.prototype)a[c]=b.prototype[c];return a}a.exports=b,b.prototype.on=b.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this},b.prototype.once=function(a,b){function c(){d.off(a,c),b.apply(this,arguments)}var d=this;return this._callbacks=this._callbacks||{},c.fn=b,this.on(a,c),this},b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=b.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},b.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c){c=c.slice(0);for(var d=0,e=c.length;e>d;++d)c[d].apply(this,b)}return this},b.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},b.prototype.hasListeners=function(a){return!!this.listeners(a).length}},function(a,b){var c,d,e;!function(f,g){d=[],c=g,e="function"==typeof c?c.apply(b,d):c,!(void 0!==e&&(a.exports=e))}(this,function(){function a(a){var b,c=a&&a.preventDefault||!1,d={},e={keydown:{},keyup:{}},f={};for(b=97;122>=b;b++)f[String.fromCharCode(b)]={code:65+(b-97),shift:!1};for(b=65;90>=b;b++)f[String.fromCharCode(b)]={code:b,shift:!0};for(b=0;9>=b;b++)f[""+b]={code:48+b,shift:!1};for(b=1;12>=b;b++)f["F"+b]={code:111+b,shift:!1};for(b=0;9>=b;b++)f["num"+b]={code:96+b,shift:!1};f["num*"]={code:106,shift:!1},f["num+"]={code:107,shift:!1},f["num-"]={code:109,shift:!1},f["num/"]={code:111,shift:!1},f["num."]={code:110,shift:!1},f.left={code:37,shift:!1},f.up={code:38,shift:!1},f.right={code:39,shift:!1},f.down={code:40,shift:!1},f.space={code:32,shift:!1},f.enter={code:13,shift:!1},f.shift={code:16,shift:void 0},f.esc={code:27,shift:!1},f.backspace={code:8,shift:!1},f.tab={code:9,shift:!1},f.ctrl={code:17,shift:!1},f.alt={code:18,shift:!1},f["delete"]={code:46,shift:!1},f.pageup={code:33,shift:!1},f.pagedown={code:34,shift:!1},f["="]={code:187,shift:!1},f["-"]={code:189,shift:!1},f["]"]={code:221,shift:!1},f["["]={code:219,shift:!1};var g=function(a){i(a,"keydown")},h=function(a){i(a,"keyup")},i=function(a,b){if(void 0!==e[b][a.keyCode]){for(var d=e[b][a.keyCode],f=0;f<d.length;f++)void 0===d[f].shift?d[f].fn(a):1==d[f].shift&&1==a.shiftKey?d[f].fn(a):0==d[f].shift&&0==a.shiftKey&&d[f].fn(a);1==c&&a.preventDefault()}};return d.bind=function(a,b,c){if(void 0===c&&(c="keydown"),void 0===f[a])throw new Error("unsupported key: "+a);void 0===e[c][f[a].code]&&(e[c][f[a].code]=[]),e[c][f[a].code].push({fn:b,shift:f[a].shift})},d.bindAll=function(a,b){void 0===b&&(b="keydown");for(var c in f)f.hasOwnProperty(c)&&d.bind(c,a,b)},d.getKey=function(a){for(var b in f)if(f.hasOwnProperty(b)){if(1==a.shiftKey&&1==f[b].shift&&a.keyCode==f[b].code)return b;if(0==a.shiftKey&&0==f[b].shift&&a.keyCode==f[b].code)return b;if(a.keyCode==f[b].code&&"shift"==b)return b}return"unknown key, currently not supported"},d.unbind=function(a,b,c){if(void 0===c&&(c="keydown"),void 0===f[a])throw new Error("unsupported key: "+a);if(void 0!==b){var d=[],g=e[c][f[a].code];if(void 0!==g)for(var h=0;h<g.length;h++)(g[h].fn!=b||g[h].shift!=f[a].shift)&&d.push(e[c][f[a].code][h]);e[c][f[a].code]=d}else e[c][f[a].code]=[]},d.reset=function(){e={keydown:{},keyup:{}}},d.destroy=function(){e={keydown:{},keyup:{}},window.removeEventListener("keydown",g,!0),window.removeEventListener("keyup",h,!0)},window.addEventListener("keydown",g,!0),window.addEventListener("keyup",h,!0),d}return a})},function(a,b,c){var d;(function(a,e){(function(f){function g(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function h(a,b){return Eb.call(a,b)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){yb.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function k(a,b){var c=!0;return r(function(){return c&&(j(a),c=!1),b.apply(this,arguments)},b)}function l(a,b){vc[a]||(j(b),vc[a]=!0)}function m(a,b){return function(c){return u(a.call(this,c),b)}}function n(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}function o(){}function p(a,b){b!==!1&&K(a),s(this,a),this._d=new Date(+a._d)}function q(a){var b=D(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=yb.localeData(),this._bubble()}function r(a,b){for(var c in b)h(b,c)&&(a[c]=b[c]);return h(b,"toString")&&(a.toString=b.toString),h(b,"valueOf")&&(a.valueOf=b.valueOf),a}function s(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=b._pf),"undefined"!=typeof b._locale&&(a._locale=b._locale),Nb.length>0)for(c in Nb)d=Nb[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function t(a){return 0>a?Math.ceil(a):Math.floor(a)}function u(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function v(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function w(a,b){var c;return b=P(b,a),a.isBefore(b)?c=v(a,b):(c=v(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function x(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(l(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=yb.duration(c,d),y(this,e,a),this}}function y(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&sb(a,"Date",rb(a,"Date")+f*c),g&&qb(a,rb(a,"Month")+g*c),d&&yb.updateOffset(a,f||g)}function z(a){return"[object Array]"===Object.prototype.toString.call(a)}function A(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function B(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&F(a[d])!==F(b[d]))&&g++;return g+f}function C(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=oc[a]||pc[b]||b}return a}function D(a){var b,c,d={};for(c in a)h(a,c)&&(b=C(c),b&&(d[b]=a[c]));return d}function E(a){var b,c;if(0===a.indexOf("week"))b=7,c="day";else{if(0!==a.indexOf("month"))return;b=12,c="month"}yb[a]=function(d,e){var g,h,i=yb._locale[a],j=[];if("number"==typeof d&&(e=d,d=f),h=function(a){var b=yb().utc().set(c,a);return i.call(yb._locale,b,d||"")},null!=e)return h(e);for(g=0;b>g;g++)j.push(h(g));return j}}function F(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function G(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function H(a,b,c){return mb(yb([a,11,31+b-c]),b,c).week}function I(a){return J(a)?366:365}function J(a){return a%4===0&&a%100!==0||a%400===0}function K(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[Gb]<0||a._a[Gb]>11?Gb:a._a[Hb]<1||a._a[Hb]>G(a._a[Fb],a._a[Gb])?Hb:a._a[Ib]<0||a._a[Ib]>24||24===a._a[Ib]&&(0!==a._a[Jb]||0!==a._a[Kb]||0!==a._a[Lb])?Ib:a._a[Jb]<0||a._a[Jb]>59?Jb:a._a[Kb]<0||a._a[Kb]>59?Kb:a._a[Lb]<0||a._a[Lb]>999?Lb:-1,a._pf._overflowDayOfYear&&(Fb>b||b>Hb)&&(b=Hb),a._pf.overflow=b)}function L(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length&&a._pf.bigHour===f)),a._isValid}function M(a){return a?a.toLowerCase().replace("_","-"):a}function N(a){for(var b,c,d,e,f=0;f<a.length;){for(e=M(a[f]).split("-"),b=e.length,c=M(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=O(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&B(e,c,!0)>=b-1)break;b--}f++}return null}function O(a){var b=null;if(!Mb[a]&&Ob)try{b=yb.locale(),!function(){var a=new Error('Cannot find module "./locale"');throw a.code="MODULE_NOT_FOUND",a}(),yb.locale(b)}catch(c){}return Mb[a]}function P(a,b){var c,d;return b._isUTC?(c=b.clone(),d=(yb.isMoment(a)||A(a)?+a:+yb(a))-+c,c._d.setTime(+c._d+d),yb.updateOffset(c,!1),c):yb(a).local()}function Q(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function R(a){var b,c,d=a.match(Sb);for(b=0,c=d.length;c>b;b++)d[b]=uc[d[b]]?uc[d[b]]:Q(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function S(a,b){return a.isValid()?(b=T(b,a.localeData()),qc[b]||(qc[b]=R(b)),qc[b](a)):a.localeData().invalidDate()}function T(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Tb.lastIndex=0;d>=0&&Tb.test(a);)a=a.replace(Tb,c),Tb.lastIndex=0,d-=1;return a}function U(a,b){var c,d=b._strict;switch(a){case"Q":return cc;case"DDDD":return ec;case"YYYY":case"GGGG":case"gggg":return d?fc:Wb;case"Y":case"G":case"g":return hc;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?gc:Xb;case"S":if(d)return cc;case"SS":if(d)return dc;case"SSS":if(d)return ec;case"DDD":return Vb;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Zb;case"a":case"A":return b._locale._meridiemParse;case"x":return ac;case"X":return bc;case"Z":case"ZZ":return $b;case"T":return _b;case"SSSS":return Yb;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?dc:Ub;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ub;case"Do":return d?b._locale._ordinalParse:b._locale._ordinalParseLenient;default:return c=new RegExp(bb(ab(a.replace("\\","")),"i"))}}function V(a){a=a||"";var b=a.match($b)||[],c=b[b.length-1]||[],d=(c+"").match(mc)||["-",0,0],e=+(60*d[1])+F(d[2]);return"+"===d[0]?-e:e}function W(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[Gb]=3*(F(b)-1));break;case"M":case"MM":null!=b&&(e[Gb]=F(b)-1);break;case"MMM":case"MMMM":d=c._locale.monthsParse(b,a,c._strict),null!=d?e[Gb]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[Hb]=F(b));break;case"Do":null!=b&&(e[Hb]=F(parseInt(b.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=F(b));break;case"YY":e[Fb]=yb.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[Fb]=F(b);break;case"a":case"A":c._isPm=c._locale.isPM(b);break;case"h":case"hh":c._pf.bigHour=!0;case"H":case"HH":e[Ib]=F(b);break;case"m":case"mm":e[Jb]=F(b);break;case"s":case"ss":e[Kb]=F(b);break;case"S":case"SS":case"SSS":case"SSSS":e[Lb]=F(1e3*("0."+b));break;case"x":c._d=new Date(F(b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=V(b);break;case"dd":case"ddd":case"dddd":d=c._locale.weekdaysParse(b),null!=d?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":a=a.substr(0,1);case"gggg":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=F(b));break;case"gg":case"GG":c._w=c._w||{},c._w[a]=yb.parseTwoDigitYear(b)}}function X(a){var b,c,d,e,f,h,i;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,h=4,c=g(b.GG,a._a[Fb],mb(yb(),1,4).year),d=g(b.W,1),e=g(b.E,1)):(f=a._locale._week.dow,h=a._locale._week.doy,c=g(b.gg,a._a[Fb],mb(yb(),f,h).year),d=g(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),i=nb(c,d,e,h,f),a._a[Fb]=i.year,a._dayOfYear=i.dayOfYear}function Y(a){var b,c,d,e,f=[];if(!a._d){for(d=$(a),a._w&&null==a._a[Hb]&&null==a._a[Gb]&&X(a),a._dayOfYear&&(e=g(a._a[Fb],d[Fb]),a._dayOfYear>I(e)&&(a._pf._overflowDayOfYear=!0),c=ib(e,0,a._dayOfYear),a._a[Gb]=c.getUTCMonth(),a._a[Hb]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[Ib]&&0===a._a[Jb]&&0===a._a[Kb]&&0===a._a[Lb]&&(a._nextDay=!0,a._a[Ib]=0),a._d=(a._useUTC?ib:hb).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()+a._tzm),a._nextDay&&(a._a[Ib]=24)}}function Z(a){var b;a._d||(b=D(a._i),a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],Y(a))}function $(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function _(a){if(a._f===yb.ISO_8601)return void db(a);a._a=[],a._pf.empty=!0;var b,c,d,e,g,h=""+a._i,i=h.length,j=0;for(d=T(a._f,a._locale).match(Sb)||[],b=0;b<d.length;b++)e=d[b],c=(h.match(U(e,a))||[])[0],c&&(g=h.substr(0,h.indexOf(c)),g.length>0&&a._pf.unusedInput.push(g),h=h.slice(h.indexOf(c)+c.length),j+=c.length),uc[e]?(c?a._pf.empty=!1:a._pf.unusedTokens.push(e),W(e,c,a)):a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=i-j,h.length>0&&a._pf.unusedInput.push(h),a._pf.bigHour===!0&&a._a[Ib]<=12&&(a._pf.bigHour=f),a._isPm&&a._a[Ib]<12&&(a._a[Ib]+=12),a._isPm===!1&&12===a._a[Ib]&&(a._a[Ib]=0),Y(a),K(a)}function ab(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function bb(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function cb(a){var b,c,d,e,f;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(e=0;e<a._f.length;e++)f=0,b=s({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._pf=i(),b._f=a._f[e],_(b),L(b)&&(f+=b._pf.charsLeftOver,f+=10*b._pf.unusedTokens.length,b._pf.score=f,(null==d||d>f)&&(d=f,c=b));r(a,c||b)}function db(a){var b,c,d=a._i,e=ic.exec(d);if(e){for(a._pf.iso=!0,b=0,c=kc.length;c>b;b++)if(kc[b][1].exec(d)){a._f=kc[b][0]+(e[6]||" ");break}for(b=0,c=lc.length;c>b;b++)if(lc[b][1].exec(d)){a._f+=lc[b][0];break}d.match($b)&&(a._f+="Z"),_(a)}else a._isValid=!1}function eb(a){db(a),a._isValid===!1&&(delete a._isValid,yb.createFromInputFallback(a))}function fb(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function gb(a){var b,c=a._i;c===f?a._d=new Date:A(c)?a._d=new Date(+c):null!==(b=Pb.exec(c))?a._d=new Date(+b[1]):"string"==typeof c?eb(a):z(c)?(a._a=fb(c.slice(0),function(a){return parseInt(a,10)}),Y(a)):"object"==typeof c?Z(a):"number"==typeof c?a._d=new Date(c):yb.createFromInputFallback(a)}function hb(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function ib(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function jb(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function kb(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function lb(a,b,c){var d=yb.duration(a).abs(),e=Db(d.as("s")),f=Db(d.as("m")),g=Db(d.as("h")),h=Db(d.as("d")),i=Db(d.as("M")),j=Db(d.as("y")),k=e<rc.s&&["s",e]||1===f&&["m"]||f<rc.m&&["mm",f]||1===g&&["h"]||g<rc.h&&["hh",g]||1===h&&["d"]||h<rc.d&&["dd",h]||1===i&&["M"]||i<rc.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,kb.apply({},k)}function mb(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=yb(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function nb(a,b,c,d,e){var f,g,h=ib(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:I(a-1)+g}}function ob(a){var b,c=a._i,d=a._f;return a._locale=a._locale||yb.localeData(a._l),null===c||d===f&&""===c?yb.invalid({nullInput:!0}):("string"==typeof c&&(a._i=c=a._locale.preparse(c)),yb.isMoment(c)?new p(c,!0):(d?z(d)?cb(a):_(a):gb(a),b=new p(a),b._nextDay&&(b.add(1,"d"),b._nextDay=f),b))}function pb(a,b){var c,d;if(1===b.length&&z(b[0])&&(b=b[0]),!b.length)return yb();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function qb(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),G(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function rb(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function sb(a,b,c){return"Month"===b?qb(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function tb(a,b){return function(c){return null!=c?(sb(this,a,c),yb.updateOffset(this,b),this):rb(this,a)}}function ub(a){return 400*a/146097}function vb(a){return 146097*a/400}function wb(a){yb.duration.fn[a]=function(){return this._data[a]}}function xb(a){"undefined"==typeof ender&&(zb=Cb.moment,Cb.moment=a?k("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",yb):yb)}for(var yb,zb,Ab,Bb="2.8.4",Cb="undefined"!=typeof a?a:this,Db=Math.round,Eb=Object.prototype.hasOwnProperty,Fb=0,Gb=1,Hb=2,Ib=3,Jb=4,Kb=5,Lb=6,Mb={},Nb=[],Ob="undefined"!=typeof e&&e&&e.exports,Pb=/^\/?Date\((\-?\d+)/i,Qb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Rb=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Sb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Tb=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ub=/\d\d?/,Vb=/\d{1,3}/,Wb=/\d{1,4}/,Xb=/[+\-]?\d{1,6}/,Yb=/\d+/,Zb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,$b=/Z|[\+\-]\d\d:?\d\d/gi,_b=/T/i,ac=/[\+\-]?\d+/,bc=/[\+\-]?\d+(\.\d{1,3})?/,cc=/\d/,dc=/\d\d/,ec=/\d{3}/,fc=/\d{4}/,gc=/[+-]?\d{6}/,hc=/[+-]?\d+/,ic=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jc="YYYY-MM-DDTHH:mm:ssZ",kc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],lc=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],mc=/([\+\-]|\d\d)/gi,nc=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),oc={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},pc={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},qc={},rc={s:45,m:45,h:22,d:26,M:11},sc="DDD w W M D d".split(" "),tc="M D H h m s w W".split(" "),uc={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+u(Math.abs(a),6)},gg:function(){return u(this.weekYear()%100,2)},gggg:function(){return u(this.weekYear(),4)},ggggg:function(){return u(this.weekYear(),5)},GG:function(){return u(this.isoWeekYear()%100,2)},GGGG:function(){return u(this.isoWeekYear(),4)},GGGGG:function(){return u(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return F(this.milliseconds()/100)},SS:function(){return u(F(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},SSSS:function(){return u(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+u(F(a/60),2)+":"+u(F(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+u(F(a/60),2)+u(F(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},vc={},wc=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];sc.length;)Ab=sc.pop(),uc[Ab+"o"]=n(uc[Ab],Ab);for(;tc.length;)Ab=tc.pop(),uc[Ab+Ab]=m(uc[Ab],2);uc.DDDD=m(uc.DDD,3),r(o.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=yb.utc([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=yb([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.apply(b,[c]):d},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(a){return a},postformat:function(a){return a},week:function(a){return mb(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),yb=function(a,b,c,d){var e;return"boolean"==typeof c&&(d=c,c=f),e={},e._isAMomentObject=!0,e._i=a,e._f=b,e._l=c,e._strict=d,e._isUTC=!1,e._pf=i(),ob(e)},yb.suppressDeprecationWarnings=!1,yb.createFromInputFallback=k("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),yb.min=function(){var a=[].slice.call(arguments,0);return pb("isBefore",a)},yb.max=function(){var a=[].slice.call(arguments,0);return pb("isAfter",a)},yb.utc=function(a,b,c,d){var e;return"boolean"==typeof c&&(d=c,c=f),e={},e._isAMomentObject=!0,e._useUTC=!0,e._isUTC=!0,e._l=c,e._i=a,e._f=b,e._strict=d,e._pf=i(),ob(e).utc()},yb.unix=function(a){return yb(1e3*a)},yb.duration=function(a,b){var c,d,e,f,g=a,i=null;return yb.isDuration(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(i=Qb.exec(a))?(c="-"===i[1]?-1:1,g={y:0,d:F(i[Hb])*c,h:F(i[Ib])*c,m:F(i[Jb])*c,s:F(i[Kb])*c,ms:F(i[Lb])*c}):(i=Rb.exec(a))?(c="-"===i[1]?-1:1,e=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*c},g={y:e(i[2]),M:e(i[3]),d:e(i[4]),h:e(i[5]),m:e(i[6]),s:e(i[7]),w:e(i[8])}):"object"==typeof g&&("from"in g||"to"in g)&&(f=w(yb(g.from),yb(g.to)),g={},g.ms=f.milliseconds,g.M=f.months),d=new q(g),yb.isDuration(a)&&h(a,"_locale")&&(d._locale=a._locale),d},yb.version=Bb,yb.defaultFormat=jc,yb.ISO_8601=function(){},yb.momentProperties=Nb,yb.updateOffset=function(){},yb.relativeTimeThreshold=function(a,b){return rc[a]===f?!1:b===f?rc[a]:(rc[a]=b,!0)},yb.lang=k("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return yb.locale(a,b)}),yb.locale=function(a,b){var c;return a&&(c="undefined"!=typeof b?yb.defineLocale(a,b):yb.localeData(a),c&&(yb.duration._locale=yb._locale=c)),yb._locale._abbr},yb.defineLocale=function(a,b){return null!==b?(b.abbr=a,Mb[a]||(Mb[a]=new o),Mb[a].set(b),yb.locale(a),Mb[a]):(delete Mb[a],null)},yb.langData=k("moment.langData is deprecated. Use moment.localeData instead.",function(a){return yb.localeData(a)}),yb.localeData=function(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return yb._locale;if(!z(a)){if(b=O(a))return b;a=[a]}return N(a)},yb.isMoment=function(a){return a instanceof p||null!=a&&h(a,"_isAMomentObject")},yb.isDuration=function(a){return a instanceof q};for(Ab=wc.length-1;Ab>=0;--Ab)E(wc[Ab]);yb.normalizeUnits=function(a){return C(a)},yb.invalid=function(a){var b=yb.utc(0/0);return null!=a?r(b._pf,a):b._pf.userInvalidated=!0,b},yb.parseZone=function(){return yb.apply(null,arguments).parseZone()},yb.parseTwoDigitYear=function(a){return F(a)+(F(a)>68?1900:2e3)},r(yb.fn=p.prototype,{clone:function(){return yb(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=yb(this).utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():S(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):S(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return L(this)},isDSTShifted:function(){return this._a?this.isValid()&&B(this._a,(this._isUTC?yb.utc(this._a):yb(this._a)).toArray())>0:!1},parsingFlags:function(){return r({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.zone(0,a)},local:function(a){return this._isUTC&&(this.zone(0,a),this._isUTC=!1,a&&this.add(this._dateTzOffset(),"m")),this},format:function(a){var b=S(this,a||yb.defaultFormat);return this.localeData().postformat(b)},add:x(1,"add"),subtract:x(-1,"subtract"),diff:function(a,b,c){var d,e,f,g=P(a,this),h=6e4*(this.zone()-g.zone());return b=C(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+g.daysInMonth()),e=12*(this.year()-g.year())+(this.month()-g.month()),f=this-yb(this).startOf("month")-(g-yb(g).startOf("month")),f-=6e4*(this.zone()-yb(this).startOf("month").zone()-(g.zone()-yb(g).startOf("month").zone())),e+=f/d,"year"===b&&(e/=12)):(d=this-g,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-h)/864e5:"week"===b?(d-h)/6048e5:d),c?e:t(e)},from:function(a,b){return yb.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(yb(),a)},calendar:function(a){var b=a||yb(),c=P(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,yb(b)))},isLeapYear:function(){return J(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=jb(a,this.localeData()),this.add(a-b,"d")):b},month:tb("Month",!0),startOf:function(a){switch(a=C(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(a){return a=C(a),a===f||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")},isAfter:function(a,b){var c;return b=C("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=yb.isMoment(a)?a:yb(a),+this>+a):(c=yb.isMoment(a)?+a:+yb(a),c<+this.clone().startOf(b))
},isBefore:function(a,b){var c;return b=C("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=yb.isMoment(a)?a:yb(a),+a>+this):(c=yb.isMoment(a)?+a:+yb(a),+this.clone().endOf(b)<c)},isSame:function(a,b){var c;return b=C(b||"millisecond"),"millisecond"===b?(a=yb.isMoment(a)?a:yb(a),+this===+a):(c=+yb(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))},min:k("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return a=yb.apply(null,arguments),this>a?this:a}),max:k("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return a=yb.apply(null,arguments),a>this?this:a}),zone:function(a,b){var c,d=this._offset||0;return null==a?this._isUTC?d:this._dateTzOffset():("string"==typeof a&&(a=V(a)),Math.abs(a)<16&&(a=60*a),!this._isUTC&&b&&(c=this._dateTzOffset()),this._offset=a,this._isUTC=!0,null!=c&&this.subtract(c,"m"),d!==a&&(!b||this._changeInProgress?y(this,yb.duration(d-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,yb.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?yb(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return G(this.year(),this.month())},dayOfYear:function(a){var b=Db((yb(this).startOf("day")-yb(this).startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=mb(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=mb(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=mb(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return H(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return H(this.year(),a.dow,a.doy)},get:function(a){return a=C(a),this[a]()},set:function(a,b){return a=C(a),"function"==typeof this[a]&&this[a](b),this},locale:function(a){var b;return a===f?this._locale._abbr:(b=yb.localeData(a),null!=b&&(this._locale=b),this)},lang:k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return a===f?this.localeData():this.locale(a)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),yb.fn.millisecond=yb.fn.milliseconds=tb("Milliseconds",!1),yb.fn.second=yb.fn.seconds=tb("Seconds",!1),yb.fn.minute=yb.fn.minutes=tb("Minutes",!1),yb.fn.hour=yb.fn.hours=tb("Hours",!0),yb.fn.date=tb("Date",!0),yb.fn.dates=k("dates accessor is deprecated. Use date instead.",tb("Date",!0)),yb.fn.year=tb("FullYear",!0),yb.fn.years=k("years accessor is deprecated. Use year instead.",tb("FullYear",!0)),yb.fn.days=yb.fn.day,yb.fn.months=yb.fn.month,yb.fn.weeks=yb.fn.week,yb.fn.isoWeeks=yb.fn.isoWeek,yb.fn.quarters=yb.fn.quarter,yb.fn.toJSON=yb.fn.toISOString,r(yb.duration.fn=q.prototype,{_bubble:function(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;g.milliseconds=d%1e3,a=t(d/1e3),g.seconds=a%60,b=t(a/60),g.minutes=b%60,c=t(b/60),g.hours=c%24,e+=t(c/24),h=t(ub(e)),e-=t(vb(h)),f+=t(e/30),e%=30,h+=t(f/12),f%=12,g.days=e,g.months=f,g.years=h},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return t(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*F(this._months/12)},humanize:function(a){var b=lb(this,!a,this.localeData());return a&&(b=this.localeData().pastFuture(+this,b)),this.localeData().postformat(b)},add:function(a,b){var c=yb.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=yb.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=C(a),this[a.toLowerCase()+"s"]()},as:function(a){var b,c;if(a=C(a),"month"===a||"year"===a)return b=this._days+this._milliseconds/864e5,c=this._months+12*ub(b),"month"===a?c:c/12;switch(b=this._days+Math.round(vb(this._months/12)),a){case"week":return b/7+this._milliseconds/6048e5;case"day":return b+this._milliseconds/864e5;case"hour":return 24*b+this._milliseconds/36e5;case"minute":return 24*b*60+this._milliseconds/6e4;case"second":return 24*b*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*b*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+a)}},lang:yb.fn.lang,locale:yb.fn.locale,toIsoString:k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"},localeData:function(){return this._locale}}),yb.duration.fn.toString=yb.duration.fn.toISOString;for(Ab in nc)h(nc,Ab)&&wb(Ab.toLowerCase());yb.duration.fn.asMilliseconds=function(){return this.as("ms")},yb.duration.fn.asSeconds=function(){return this.as("s")},yb.duration.fn.asMinutes=function(){return this.as("m")},yb.duration.fn.asHours=function(){return this.as("h")},yb.duration.fn.asDays=function(){return this.as("d")},yb.duration.fn.asWeeks=function(){return this.as("weeks")},yb.duration.fn.asMonths=function(){return this.as("M")},yb.duration.fn.asYears=function(){return this.as("y")},yb.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===F(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),Ob?e.exports=yb:(d=function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(Cb.moment=zb),yb}.call(b,c,b,e),!(d!==f&&(e.exports=d)),xb(!0))}).call(this)}).call(b,function(){return this}(),c(71)(a))},function(a,b,c){var d;!function(e,f){"use strict";function g(){h.READY||(w.determineEventTypes(),v.each(h.gestures,function(a){y.register(a)}),w.onTouch(h.DOCUMENT,r,y.detect),w.onTouch(h.DOCUMENT,s,y.detect),h.READY=!0)}var h=function z(a,b){return new z.Instance(a,b||{})};h.VERSION="1.1.3",h.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},h.DOCUMENT=document,h.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,h.HAS_TOUCHEVENTS="ontouchstart"in e,h.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),h.NO_MOUSEEVENTS=h.HAS_TOUCHEVENTS&&h.IS_MOBILE||h.HAS_POINTEREVENTS,h.CALCULATE_INTERVAL=25;var i={},j=h.DIRECTION_DOWN="down",k=h.DIRECTION_LEFT="left",l=h.DIRECTION_UP="up",m=h.DIRECTION_RIGHT="right",n=h.POINTER_MOUSE="mouse",o=h.POINTER_TOUCH="touch",p=h.POINTER_PEN="pen",q=h.EVENT_START="start",r=h.EVENT_MOVE="move",s=h.EVENT_END="end",t=h.EVENT_RELEASE="release",u=h.EVENT_TOUCH="touch";h.READY=!1,h.plugins=h.plugins||{},h.gestures=h.gestures||{};var v=h.utils={extend:function(a,b,c){for(var d in b)!b.hasOwnProperty(d)||a[d]!==f&&c||(a[d]=b[d]);return a},on:function(a,b,c){a.addEventListener(b,c,!1)},off:function(a,b,c){a.removeEventListener(b,c,!1)},each:function(a,b,c){var d,e;if("forEach"in a)a.forEach(b,c);else if(a.length!==f){for(d=0,e=a.length;e>d;d++)if(b.call(c,a[d],d,a)===!1)return}else for(d in a)if(a.hasOwnProperty(d)&&b.call(c,a[d],d,a)===!1)return},inStr:function(a,b){return a.indexOf(b)>-1},inArray:function(a,b){if(a.indexOf){var c=a.indexOf(b);return-1===c?!1:c}for(var d=0,e=a.length;e>d;d++)if(a[d]===b)return d;return!1},toArray:function(a){return Array.prototype.slice.call(a,0)},hasParent:function(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1},getCenter:function(a){var b=[],c=[],d=[],e=[],f=Math.min,g=Math.max;return 1===a.length?{pageX:a[0].pageX,pageY:a[0].pageY,clientX:a[0].clientX,clientY:a[0].clientY}:(v.each(a,function(a){b.push(a.pageX),c.push(a.pageY),d.push(a.clientX),e.push(a.clientY)}),{pageX:(f.apply(Math,b)+g.apply(Math,b))/2,pageY:(f.apply(Math,c)+g.apply(Math,c))/2,clientX:(f.apply(Math,d)+g.apply(Math,d))/2,clientY:(f.apply(Math,e)+g.apply(Math,e))/2})},getVelocity:function(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}},getAngle:function(a,b){var c=b.clientX-a.clientX,d=b.clientY-a.clientY;return 180*Math.atan2(d,c)/Math.PI},getDirection:function(a,b){var c=Math.abs(a.clientX-b.clientX),d=Math.abs(a.clientY-b.clientY);return c>=d?a.clientX-b.clientX>0?k:m:a.clientY-b.clientY>0?l:j},getDistance:function(a,b){var c=b.clientX-a.clientX,d=b.clientY-a.clientY;return Math.sqrt(c*c+d*d)},getScale:function(a,b){return a.length>=2&&b.length>=2?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return a.length>=2&&b.length>=2?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a==l||a==j},setPrefixedCss:function(a,b,c,d){var e=["","Webkit","Moz","O","ms"];b=v.toCamelCase(b);for(var f=0;f<e.length;f++){var g=b;if(e[f]&&(g=e[f]+g.slice(0,1).toUpperCase()+g.slice(1)),g in a.style){a.style[g]=(null==d||d)&&c||"";break}}},toggleBehavior:function(a,b,c){if(b&&a&&a.style){v.each(b,function(b,d){v.setPrefixedCss(a,d,b,c)});var d=c&&function(){return!1};"none"==b.userSelect&&(a.onselectstart=d),"none"==b.userDrag&&(a.ondragstart=d)}},toCamelCase:function(a){return a.replace(/[_-]([a-z])/g,function(a){return a[1].toUpperCase()})}},w=h.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(a,b,c,d){var e=b.split(" ");v.each(e,function(b){v.on(a,b,c),d&&d(b)})},off:function(a,b,c,d){var e=b.split(" ");v.each(e,function(b){v.off(a,b,c),d&&d(b)})},onTouch:function(a,b,c){var d=this,e=function(e){var f,g=e.type.toLowerCase(),i=h.HAS_POINTEREVENTS,j=v.inStr(g,"mouse");j&&d.preventMouseEvents||(j&&b==q&&0===e.button?(d.preventMouseEvents=!1,d.shouldDetect=!0):i&&b==q?d.shouldDetect=1===e.buttons||x.matchType(o,e):j||b!=q||(d.preventMouseEvents=!0,d.shouldDetect=!0),i&&b!=s&&x.updatePointer(b,e),d.shouldDetect&&(f=d.doDetect.call(d,e,b,a,c)),f==s&&(d.preventMouseEvents=!1,d.shouldDetect=!1,x.reset()),i&&b==s&&x.updatePointer(b,e))};return this.on(a,i[b],e),e},doDetect:function(a,b,c,d){var e=this.getTouchList(a,b),f=e.length,g=b,h=e.trigger,i=f;b==q?h=u:b==s&&(h=t,i=e.length-(a.changedTouches?a.changedTouches.length:1)),i>0&&this.started&&(g=r),this.started=!0;var j=this.collectEventData(c,g,e,a);return b!=s&&d.call(y,j),h&&(j.changedLength=i,j.eventType=h,d.call(y,j),j.eventType=g,delete j.changedLength),g==s&&(d.call(y,j),this.started=!1),g},determineEventTypes:function(){var a;return a=h.HAS_POINTEREVENTS?e.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:h.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],i[q]=a[0],i[r]=a[1],i[s]=a[2],i},getTouchList:function(a,b){if(h.HAS_POINTEREVENTS)return x.getTouchList();if(a.touches){if(b==r)return a.touches;var c=[],d=[].concat(v.toArray(a.touches),v.toArray(a.changedTouches)),e=[];return v.each(d,function(a){v.inArray(c,a.identifier)===!1&&e.push(a),c.push(a.identifier)}),e}return a.identifier=1,[a]},collectEventData:function(a,b,c,d){var e=o;return v.inStr(d.type,"mouse")||x.matchType(n,d)?e=n:x.matchType(p,d)&&(e=p),{center:v.getCenter(c),timeStamp:Date.now(),target:d.target,touches:c,eventType:b,pointerType:e,srcEvent:d,preventDefault:function(){var a=this.srcEvent;a.preventManipulation&&a.preventManipulation(),a.preventDefault&&a.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return y.stopDetect()}}}},x=h.PointerEvent={pointers:{},getTouchList:function(){var a=[];return v.each(this.pointers,function(b){a.push(b)}),a},updatePointer:function(a,b){a==s||a!=s&&1!==b.buttons?delete this.pointers[b.pointerId]:(b.identifier=b.pointerId,this.pointers[b.pointerId]=b)},matchType:function(a,b){if(!b.pointerType)return!1;var c=b.pointerType,d={};return d[n]=c===(b.MSPOINTER_TYPE_MOUSE||n),d[o]=c===(b.MSPOINTER_TYPE_TOUCH||o),d[p]=c===(b.MSPOINTER_TYPE_PEN||p),d[a]},reset:function(){this.pointers={}}},y=h.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(a,b){this.current||(this.stopped=!1,this.current={inst:a,startEvent:v.extend({},b),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(b))},detect:function(a){if(this.current&&!this.stopped){a=this.extendEventData(a);var b=this.current.inst,c=b.options;return v.each(this.gestures,function(d){!this.stopped&&b.enabled&&c[d.name]&&d.handler.call(d,a,b)},this),this.current&&(this.current.lastEvent=a),a.eventType==s&&this.stopDetect(),a}},stopDetect:function(){this.previous=v.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(a,b,c,d,e){var f=this.current,g=!1,i=f.lastCalcEvent,j=f.lastCalcData;i&&a.timeStamp-i.timeStamp>h.CALCULATE_INTERVAL&&(b=i.center,c=a.timeStamp-i.timeStamp,d=a.center.clientX-i.center.clientX,e=a.center.clientY-i.center.clientY,g=!0),(a.eventType==u||a.eventType==t)&&(f.futureCalcEvent=a),(!f.lastCalcEvent||g)&&(j.velocity=v.getVelocity(c,d,e),j.angle=v.getAngle(b,a.center),j.direction=v.getDirection(b,a.center),f.lastCalcEvent=f.futureCalcEvent||a,f.futureCalcEvent=a),a.velocityX=j.velocity.x,a.velocityY=j.velocity.y,a.interimAngle=j.angle,a.interimDirection=j.direction},extendEventData:function(a){var b=this.current,c=b.startEvent,d=b.lastEvent||c;(a.eventType==u||a.eventType==t)&&(c.touches=[],v.each(a.touches,function(a){c.touches.push({clientX:a.clientX,clientY:a.clientY})}));var e=a.timeStamp-c.timeStamp,f=a.center.clientX-c.center.clientX,g=a.center.clientY-c.center.clientY;return this.getCalculatedData(a,d.center,e,f,g),v.extend(a,{startEvent:c,deltaTime:e,deltaX:f,deltaY:g,distance:v.getDistance(c.center,a.center),angle:v.getAngle(c.center,a.center),direction:v.getDirection(c.center,a.center),scale:v.getScale(c.touches,a.touches),rotation:v.getRotation(c.touches,a.touches)}),a},register:function(a){var b=a.defaults||{};return b[a.name]===f&&(b[a.name]=!0),v.extend(h.defaults,b,!0),a.index=a.index||1e3,this.gestures.push(a),this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestures}};h.Instance=function(a,b){var c=this;g(),this.element=a,this.enabled=!0,v.each(b,function(a,c){delete b[c],b[v.toCamelCase(c)]=a}),this.options=v.extend(v.extend({},h.defaults),b||{}),this.options.behavior&&v.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=w.onTouch(a,q,function(a){c.enabled&&a.eventType==q?y.startDetect(c,a):a.eventType==u&&y.detect(a)}),this.eventHandlers=[]},h.Instance.prototype={on:function(a,b){var c=this;return w.on(c.element,a,b,function(a){c.eventHandlers.push({gesture:a,handler:b})}),c},off:function(a,b){var c=this;return w.off(c.element,a,b,function(a){var d=v.inArray({gesture:a,handler:b});d!==!1&&c.eventHandlers.splice(d,1)}),c},trigger:function(a,b){b||(b={});var c=h.DOCUMENT.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b;var d=this.element;return v.hasParent(b.target,d)&&(d=b.target),d.dispatchEvent(c),this},enable:function(a){return this.enabled=a,this},dispose:function(){var a,b;for(v.toggleBehavior(this.element,this.options.behavior,!1),a=-1;b=this.eventHandlers[++a];)v.off(this.element,b.gesture,b.handler);return this.eventHandlers=[],w.off(this.element,i[q],this.eventStartHandler),null}},function(a){function b(b,d){var e=y.current;if(!(d.options.dragMaxTouches>0&&b.touches.length>d.options.dragMaxTouches))switch(b.eventType){case q:c=!1;break;case r:if(b.distance<d.options.dragMinDistance&&e.name!=a)return;var f=e.startEvent.center;if(e.name!=a&&(e.name=a,d.options.dragDistanceCorrection&&b.distance>0)){var g=Math.abs(d.options.dragMinDistance/b.distance);f.pageX+=b.deltaX*g,f.pageY+=b.deltaY*g,f.clientX+=b.deltaX*g,f.clientY+=b.deltaY*g,b=y.extendEventData(b)}(e.lastEvent.dragLockToAxis||d.options.dragLockToAxis&&d.options.dragLockMinDistance<=b.distance)&&(b.dragLockToAxis=!0);var h=e.lastEvent.direction;b.dragLockToAxis&&h!==b.direction&&(b.direction=v.isVertical(h)?b.deltaY<0?l:j:b.deltaX<0?k:m),c||(d.trigger(a+"start",b),c=!0),d.trigger(a,b),d.trigger(a+b.direction,b);var i=v.isVertical(b.direction);(d.options.dragBlockVertical&&i||d.options.dragBlockHorizontal&&!i)&&b.preventDefault();break;case t:c&&b.changedLength<=d.options.dragMaxTouches&&(d.trigger(a+"end",b),c=!1);break;case s:c=!1}}var c=!1;h.gestures.Drag={name:a,index:50,handler:b,defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}}("drag"),h.gestures.Gesture={name:"gesture",index:1337,handler:function(a,b){b.trigger(this.name,a)}},function(a){function b(b,d){var e=d.options,f=y.current;switch(b.eventType){case q:clearTimeout(c),f.name=a,c=setTimeout(function(){f&&f.name==a&&d.trigger(a,b)},e.holdTimeout);break;case r:b.distance>e.holdThreshold&&clearTimeout(c);break;case t:clearTimeout(c)}}var c;h.gestures.Hold={name:a,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:b}}("hold"),h.gestures.Release={name:"release",index:1/0,handler:function(a,b){a.eventType==t&&b.trigger(this.name,a)}},h.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(a,b){if(a.eventType==t){var c=a.touches.length,d=b.options;if(c<d.swipeMinTouches||c>d.swipeMaxTouches)return;(a.velocityX>d.swipeVelocityX||a.velocityY>d.swipeVelocityY)&&(b.trigger(this.name,a),b.trigger(this.name+a.direction,a))}}},function(a){function b(b,d){var e,f,g=d.options,h=y.current,i=y.previous;switch(b.eventType){case q:c=!1;break;case r:c=c||b.distance>g.tapMaxDistance;break;case s:!v.inStr(b.srcEvent.type,"cancel")&&b.deltaTime<g.tapMaxTime&&!c&&(e=i&&i.lastEvent&&b.timeStamp-i.lastEvent.timeStamp,f=!1,i&&i.name==a&&e&&e<g.doubleTapInterval&&b.distance<g.doubleTapDistance&&(d.trigger("doubletap",b),f=!0),(!f||g.tapAlways)&&(h.name=a,d.trigger(h.name,b)))}}var c=!1;h.gestures.Tap={name:a,index:100,handler:b,defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}("tap"),h.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(a,b){return b.options.preventMouse&&a.pointerType==n?void a.stopDetect():(b.options.preventDefault&&a.preventDefault(),void(a.eventType==u&&b.trigger("touch",a)))}},function(a){function b(b,d){switch(b.eventType){case q:c=!1;break;case r:if(b.touches.length<2)return;var e=Math.abs(1-b.scale),f=Math.abs(b.rotation);if(e<d.options.transformMinScale&&f<d.options.transformMinRotation)return;y.current.name=a,c||(d.trigger(a+"start",b),c=!0),d.trigger(a,b),f>d.options.transformMinRotation&&d.trigger("rotate",b),e>d.options.transformMinScale&&(d.trigger("pinch",b),d.trigger("pinch"+(b.scale<1?"in":"out"),b));break;case t:c&&b.changedLength<2&&(d.trigger(a+"end",b),c=!1)}}var c=!1;h.gestures.Transform={name:a,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:b}}("transform"),d=function(){return h}.call(b,c,b,a),!(d!==f&&(a.exports=d))}(window)},function(a,b){b.startWithClustering=function(){this.clusterToFit(this.constants.clustering.initialMaxNodes,!0),this.updateLabels(),this.stabilize&&this._stabilize(),this.start()},b.clusterToFit=function(a,b){for(var c=this.nodeIndices.length,d=50,e=0;c>a&&d>e;)e%3==0?(this.forceAggregateHubs(!0),this.normalizeClusterLevels()):this.increaseClusterLevel(),c=this.nodeIndices.length,e+=1;e>0&&1==b&&this.repositionNodes(),this._updateCalculationNodes()},b.openCluster=function(a){var b=this.moving;if(a.clusterSize>this.constants.clustering.sectorThreshold&&this._nodeInActiveArea(a)&&("default"!=this._sector()||1!=this.nodeIndices.length)){this._addSector(a);for(var c=0;this.nodeIndices.length<this.constants.clustering.initialMaxNodes&&10>c;)this.decreaseClusterLevel(),c+=1}else this._expandClusterNode(a,!1,!0),this._updateNodeIndexList(),this._updateDynamicEdges(),this._updateCalculationNodes(),this.updateLabels();this.moving!=b&&this.start()},b.updateClustersDefault=function(){1==this.constants.clustering.enabled&&this.updateClusters(0,!1,!1)},b.increaseClusterLevel=function(){this.updateClusters(-1,!1,!0)},b.decreaseClusterLevel=function(){this.updateClusters(1,!1,!0)},b.updateClusters=function(a,b,c,d){var e=this.moving,f=this.nodeIndices.length;this.previousScale>this.scale&&0==a&&this._collapseSector(),this.previousScale>this.scale||-1==a?this._formClusters(c):(this.previousScale<this.scale||1==a)&&(1==c?this._openClusters(b,c):this._openClustersBySize()),this._updateNodeIndexList(),this.nodeIndices.length==f&&(this.previousScale>this.scale||-1==a)&&(this._aggregateHubs(c),this._updateNodeIndexList()),(this.previousScale>this.scale||-1==a)&&(this.handleChains(),this._updateNodeIndexList()),this.previousScale=this.scale,this._updateDynamicEdges(),this.updateLabels(),this.nodeIndices.length<f&&(this.clusterSession+=1,this.normalizeClusterLevels()),(0==d||void 0===d)&&this.moving!=e&&this.start(),this._updateCalculationNodes()},b.handleChains=function(){var a=this._getChainFraction();a>this.constants.clustering.chainThreshold&&this._reduceAmountOfChains(1-this.constants.clustering.chainThreshold/a)},b._aggregateHubs=function(a){this._getHubSize(),this._formClustersByHub(a,!1)},b.forceAggregateHubs=function(a){var b=this.moving,c=this.nodeIndices.length;this._aggregateHubs(!0),this._updateNodeIndexList(),this._updateDynamicEdges(),this.updateLabels(),this.nodeIndices.length!=c&&(this.clusterSession+=1),(0==a||void 0===a)&&this.moving!=b&&this.start()},b._openClustersBySize=function(){for(var a in this.nodes)if(this.nodes.hasOwnProperty(a)){var b=this.nodes[a];1==b.inView()&&(b.width*this.scale>this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientWidth||b.height*this.scale>this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientHeight)&&this.openCluster(b)}},b._openClusters=function(a,b){for(var c=0;c<this.nodeIndices.length;c++){var d=this.nodes[this.nodeIndices[c]];this._expandClusterNode(d,a,b),this._updateCalculationNodes()}},b._expandClusterNode=function(a,b,c,d){if(a.clusterSize>1&&(a.clusterSize<this.constants.clustering.sectorThreshold&&(d=!0),b=d?!0:b,a.formationScale<this.scale||1==c))for(var e in a.containedNodes)if(a.containedNodes.hasOwnProperty(e)){var f=a.containedNodes[e];1==c?(f.clusterSession==a.clusterSessions[a.clusterSessions.length-1]||d)&&this._expelChildFromParent(a,e,b,c,d):this._nodeInActiveArea(a)&&this._expelChildFromParent(a,e,b,c,d)}},b._expelChildFromParent=function(a,b,c,d,e){var f=a.containedNodes[b];if(f.formationScale<this.scale||1==d){this._unselectAll(),this.nodes[b]=f,this._releaseContainedEdges(a,f),this._connectEdgeBackToChild(a,f),this._validateEdges(a),a.options.mass-=f.options.mass,a.clusterSize-=f.clusterSize,a.options.fontSize=Math.min(this.constants.clustering.maxFontSize,this.constants.nodes.fontSize+this.constants.clustering.fontSizeMultiplier*(a.clusterSize-1)),a.dynamicEdgesLength=a.dynamicEdges.length,f.x=a.x+a.growthIndicator*(.5-Math.random()),f.y=a.y+a.growthIndicator*(.5-Math.random()),delete a.containedNodes[b];var g=!1;for(var h in a.containedNodes)if(a.containedNodes.hasOwnProperty(h)&&a.containedNodes[h].clusterSession==f.clusterSession){g=!0;break}0==g&&a.clusterSessions.pop(),this._repositionBezierNodes(f),f.clusterSession=0,a.clearSizeCache(),this.moving=!0}1==c&&this._expandClusterNode(f,c,d,e)},b._repositionBezierNodes=function(a){for(var b=0;b<a.dynamicEdges.length;b++)a.dynamicEdges[b].positionBezierNode()},b._formClusters=function(a){0==a?this._formClustersByZoom():this._forceClustersByZoom()},b._formClustersByZoom=function(){var a,b,c,d=this.constants.clustering.clusterEdgeThreshold/this.scale;for(var e in this.edges)if(this.edges.hasOwnProperty(e)){var f=this.edges[e];if(f.connected&&f.toId!=f.fromId&&(a=f.to.x-f.from.x,b=f.to.y-f.from.y,c=Math.sqrt(a*a+b*b),d>c)){var g=f.from,h=f.to;f.to.options.mass>f.from.options.mass&&(g=f.to,h=f.from),1==h.dynamicEdgesLength?this._addToCluster(g,h,!1):1==g.dynamicEdgesLength&&this._addToCluster(h,g,!1)}}},b._forceClustersByZoom=function(){for(var a in this.nodes)if(this.nodes.hasOwnProperty(a)){var b=this.nodes[a];if(1==b.dynamicEdgesLength&&0!=b.dynamicEdges.length){var c=b.dynamicEdges[0],d=c.toId==b.id?this.nodes[c.fromId]:this.nodes[c.toId];b.id!=d.id&&(d.options.mass>b.options.mass?this._addToCluster(d,b,!0):this._addToCluster(b,d,!0))}}},b._clusterToSmallestNeighbour=function(a){for(var b=-1,c=null,d=0;d<a.dynamicEdges.length;d++)if(void 0!==a.dynamicEdges[d]){var e=null;a.dynamicEdges[d].fromId!=a.id?e=a.dynamicEdges[d].from:a.dynamicEdges[d].toId!=a.id&&(e=a.dynamicEdges[d].to),null!=e&&b>e.clusterSessions.length&&(b=e.clusterSessions.length,c=e)}null!=e&&void 0!==this.nodes[e.id]&&this._addToCluster(e,a,!0)},b._formClustersByHub=function(a,b){for(var c in this.nodes)this.nodes.hasOwnProperty(c)&&this._formClusterFromHub(this.nodes[c],a,b)},b._formClusterFromHub=function(a,b,c,d){if(void 0===d&&(d=0),a.dynamicEdgesLength>=this.hubThreshold&&0==c||a.dynamicEdgesLength==this.hubThreshold&&1==c){for(var e,f,g,h=this.constants.clustering.clusterEdgeThreshold/this.scale,i=!1,j=[],k=a.dynamicEdges.length,l=0;k>l;l++)j.push(a.dynamicEdges[l].id);if(0==b)for(i=!1,l=0;k>l;l++){var m=this.edges[j[l]];if(void 0!==m&&m.connected&&m.toId!=m.fromId&&(e=m.to.x-m.from.x,f=m.to.y-m.from.y,g=Math.sqrt(e*e+f*f),h>g)){i=!0;break}}if(!b&&i||b)for(l=0;k>l;l++)if(m=this.edges[j[l]],void 0!==m){var n=this.nodes[m.fromId==a.id?m.toId:m.fromId];n.dynamicEdges.length<=this.hubThreshold+d&&n.id!=a.id&&this._addToCluster(a,n,b)}}},b._addToCluster=function(a,b,c){a.containedNodes[b.id]=b;for(var d=0;d<b.dynamicEdges.length;d++){var e=b.dynamicEdges[d];e.toId==a.id||e.fromId==a.id?this._addToContainedEdges(a,b,e):this._connectEdgeToCluster(a,b,e)}b.dynamicEdges=[],this._containCircularEdgesFromNode(a,b),delete this.nodes[b.id];var f=a.options.mass;b.clusterSession=this.clusterSession,a.options.mass+=b.options.mass,a.clusterSize+=b.clusterSize,a.options.fontSize=Math.min(this.constants.clustering.maxFontSize,this.constants.nodes.fontSize+this.constants.clustering.fontSizeMultiplier*a.clusterSize),a.clusterSessions[a.clusterSessions.length-1]!=this.clusterSession&&a.clusterSessions.push(this.clusterSession),a.formationScale=1==c?0:this.scale,a.clearSizeCache(),a.containedNodes[b.id].formationScale=a.formationScale,b.clearVelocity(),a.updateVelocity(f),this.moving=!0},b._updateDynamicEdges=function(){for(var a=0;a<this.nodeIndices.length;a++){var b=this.nodes[this.nodeIndices[a]];b.dynamicEdgesLength=b.dynamicEdges.length;var c=0;if(b.dynamicEdgesLength>1)for(var d=0;d<b.dynamicEdgesLength-1;d++)for(var e=b.dynamicEdges[d].toId,f=b.dynamicEdges[d].fromId,g=d+1;g<b.dynamicEdgesLength;g++)(b.dynamicEdges[g].toId==e&&b.dynamicEdges[g].fromId==f||b.dynamicEdges[g].fromId==e&&b.dynamicEdges[g].toId==f)&&(c+=1);b.dynamicEdgesLength-=c}},b._addToContainedEdges=function(a,b,c){a.containedEdges.hasOwnProperty(b.id)||(a.containedEdges[b.id]=[]),a.containedEdges[b.id].push(c),delete this.edges[c.id];for(var d=0;d<a.dynamicEdges.length;d++)if(a.dynamicEdges[d].id==c.id){a.dynamicEdges.splice(d,1);break}},b._connectEdgeToCluster=function(a,b,c){c.toId==c.fromId?this._addToContainedEdges(a,b,c):(c.toId==b.id?(c.originalToId.push(b.id),c.to=a,c.toId=a.id):(c.originalFromId.push(b.id),c.from=a,c.fromId=a.id),this._addToReroutedEdges(a,b,c))},b._containCircularEdgesFromNode=function(a,b){for(var c=0;c<a.dynamicEdges.length;c++){var d=a.dynamicEdges[c];d.toId==d.fromId&&this._addToContainedEdges(a,b,d)}},b._addToReroutedEdges=function(a,b,c){a.reroutedEdges.hasOwnProperty(b.id)||(a.reroutedEdges[b.id]=[]),a.reroutedEdges[b.id].push(c),a.dynamicEdges.push(c)},b._connectEdgeBackToChild=function(a,b){if(a.reroutedEdges.hasOwnProperty(b.id)){for(var c=0;c<a.reroutedEdges[b.id].length;c++){var d=a.reroutedEdges[b.id][c];d.originalFromId[d.originalFromId.length-1]==b.id?(d.originalFromId.pop(),d.fromId=b.id,d.from=b):(d.originalToId.pop(),d.toId=b.id,d.to=b),b.dynamicEdges.push(d);for(var e=0;e<a.dynamicEdges.length;e++)if(a.dynamicEdges[e].id==d.id){a.dynamicEdges.splice(e,1);break}}delete a.reroutedEdges[b.id]}},b._validateEdges=function(a){for(var b=0;b<a.dynamicEdges.length;b++){var c=a.dynamicEdges[b];a.id!=c.toId&&a.id!=c.fromId&&a.dynamicEdges.splice(b,1)}},b._releaseContainedEdges=function(a,b){for(var c=0;c<a.containedEdges[b.id].length;c++){var d=a.containedEdges[b.id][c];this.edges[d.id]=d,b.dynamicEdges.push(d),a.dynamicEdges.push(d)}delete a.containedEdges[b.id]},b.updateLabels=function(){var a;for(a in this.nodes)if(this.nodes.hasOwnProperty(a)){var b=this.nodes[a];b.clusterSize>1&&(b.label="[".concat(String(b.clusterSize),"]"))}for(a in this.nodes)this.nodes.hasOwnProperty(a)&&(b=this.nodes[a],1==b.clusterSize&&(b.label=void 0!==b.originalLabel?b.originalLabel:String(b.id)))},b.normalizeClusterLevels=function(){var a,b=0,c=1e9,d=0;for(a in this.nodes)this.nodes.hasOwnProperty(a)&&(d=this.nodes[a].clusterSessions.length,d>b&&(b=d),c>d&&(c=d));if(b-c>this.constants.clustering.clusterLevelDifference){var e=this.nodeIndices.length,f=b-this.constants.clustering.clusterLevelDifference;for(a in this.nodes)this.nodes.hasOwnProperty(a)&&this.nodes[a].clusterSessions.length<f&&this._clusterToSmallestNeighbour(this.nodes[a]);this._updateNodeIndexList(),this._updateDynamicEdges(),this.nodeIndices.length!=e&&(this.clusterSession+=1)}},b._nodeInActiveArea=function(a){return Math.abs(a.x-this.areaCenter.x)<=this.constants.clustering.activeAreaBoxSize/this.scale&&Math.abs(a.y-this.areaCenter.y)<=this.constants.clustering.activeAreaBoxSize/this.scale},b.repositionNodes=function(){for(var a=0;a<this.nodeIndices.length;a++){var b=this.nodes[this.nodeIndices[a]];if(0==b.xFixed||0==b.yFixed){var c=1*this.nodeIndices.length*Math.min(100,b.options.mass),d=2*Math.PI*Math.random();0==b.xFixed&&(b.x=c*Math.cos(d)),0==b.yFixed&&(b.y=c*Math.sin(d)),this._repositionBezierNodes(b)}}},b._getHubSize=function(){for(var a=0,b=0,c=0,d=0,e=0;e<this.nodeIndices.length;e++){var f=this.nodes[this.nodeIndices[e]];f.dynamicEdgesLength>d&&(d=f.dynamicEdgesLength),a+=f.dynamicEdgesLength,b+=Math.pow(f.dynamicEdgesLength,2),c+=1}a/=c,b/=c;var g=b-Math.pow(a,2),h=Math.sqrt(g);this.hubThreshold=Math.floor(a+2*h),this.hubThreshold>d&&(this.hubThreshold=d)},b._reduceAmountOfChains=function(a){this.hubThreshold=2;var b=Math.floor(this.nodeIndices.length*a);for(var c in this.nodes)this.nodes.hasOwnProperty(c)&&2==this.nodes[c].dynamicEdgesLength&&this.nodes[c].dynamicEdges.length>=2&&b>0&&(this._formClusterFromHub(this.nodes[c],!0,!0,1),b-=1)
},b._getChainFraction=function(){var a=0,b=0;for(var c in this.nodes)this.nodes.hasOwnProperty(c)&&(2==this.nodes[c].dynamicEdgesLength&&this.nodes[c].dynamicEdges.length>=2&&(a+=1),b+=1);return a/b}},function(a,b,c){var d=c(1),e=c(40);b._putDataInSector=function(){this.sectors.active[this._sector()].nodes=this.nodes,this.sectors.active[this._sector()].edges=this.edges,this.sectors.active[this._sector()].nodeIndices=this.nodeIndices},b._switchToSector=function(a,b){void 0===b||"active"==b?this._switchToActiveSector(a):this._switchToFrozenSector(a)},b._switchToActiveSector=function(a){this.nodeIndices=this.sectors.active[a].nodeIndices,this.nodes=this.sectors.active[a].nodes,this.edges=this.sectors.active[a].edges},b._switchToSupportSector=function(){this.nodeIndices=this.sectors.support.nodeIndices,this.nodes=this.sectors.support.nodes,this.edges=this.sectors.support.edges},b._switchToFrozenSector=function(a){this.nodeIndices=this.sectors.frozen[a].nodeIndices,this.nodes=this.sectors.frozen[a].nodes,this.edges=this.sectors.frozen[a].edges},b._loadLatestSector=function(){this._switchToSector(this._sector())},b._sector=function(){return this.activeSector[this.activeSector.length-1]},b._previousSector=function(){if(this.activeSector.length>1)return this.activeSector[this.activeSector.length-2];throw new TypeError("there are not enough sectors in the this.activeSector array.")},b._setActiveSector=function(a){this.activeSector.push(a)},b._forgetLastSector=function(){this.activeSector.pop()},b._createNewSector=function(a){this.sectors.active[a]={nodes:{},edges:{},nodeIndices:[],formationScale:this.scale,drawingNode:void 0},this.sectors.active[a].drawingNode=new e({id:a,color:{background:"#eaefef",border:"495c5e"}},{},{},this.constants),this.sectors.active[a].drawingNode.clusterSize=2},b._deleteActiveSector=function(a){delete this.sectors.active[a]},b._deleteFrozenSector=function(a){delete this.sectors.frozen[a]},b._freezeSector=function(a){this.sectors.frozen[a]=this.sectors.active[a],this._deleteActiveSector(a)},b._activateSector=function(a){this.sectors.active[a]=this.sectors.frozen[a],this._deleteFrozenSector(a)},b._mergeThisWithFrozen=function(a){for(var b in this.nodes)this.nodes.hasOwnProperty(b)&&(this.sectors.frozen[a].nodes[b]=this.nodes[b]);for(var c in this.edges)this.edges.hasOwnProperty(c)&&(this.sectors.frozen[a].edges[c]=this.edges[c]);for(var d=0;d<this.nodeIndices.length;d++)this.sectors.frozen[a].nodeIndices.push(this.nodeIndices[d])},b._collapseThisToSingleCluster=function(){this.clusterToFit(1,!1)},b._addSector=function(a){var b=this._sector();delete this.nodes[a.id];var c=d.randomUUID();this._freezeSector(b),this._createNewSector(c),this._setActiveSector(c),this._switchToSector(this._sector()),this.nodes[a.id]=a},b._collapseSector=function(){var a=this._sector();if("default"!=a&&(1==this.nodeIndices.length||this.sectors.active[a].drawingNode.width*this.scale<this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientWidth||this.sectors.active[a].drawingNode.height*this.scale<this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientHeight)){var b=this._previousSector();this._collapseThisToSingleCluster(),this._mergeThisWithFrozen(b),this._deleteActiveSector(a),this._activateSector(b),this._switchToSector(b),this._forgetLastSector(),this._updateNodeIndexList(),this._updateCalculationNodes()}},b._doInAllActiveSectors=function(a,b){var c=[];if(void 0===b)for(var d in this.sectors.active)this.sectors.active.hasOwnProperty(d)&&(this._switchToActiveSector(d),c.push(this[a]()));else for(var d in this.sectors.active)if(this.sectors.active.hasOwnProperty(d)){this._switchToActiveSector(d);var e=Array.prototype.splice.call(arguments,1);c.push(e.length>1?this[a](e[0],e[1]):this[a](b))}return this._loadLatestSector(),c},b._doInSupportSector=function(a,b){var c=!1;if(void 0===b)this._switchToSupportSector(),c=this[a]();else{this._switchToSupportSector();var d=Array.prototype.splice.call(arguments,1);c=d.length>1?this[a](d[0],d[1]):this[a](b)}return this._loadLatestSector(),c},b._doInAllFrozenSectors=function(a,b){if(void 0===b)for(var c in this.sectors.frozen)this.sectors.frozen.hasOwnProperty(c)&&(this._switchToFrozenSector(c),this[a]());else for(var c in this.sectors.frozen)if(this.sectors.frozen.hasOwnProperty(c)){this._switchToFrozenSector(c);var d=Array.prototype.splice.call(arguments,1);d.length>1?this[a](d[0],d[1]):this[a](b)}this._loadLatestSector()},b._doInAllSectors=function(a,b){var c=Array.prototype.splice.call(arguments,1);void 0===b?(this._doInAllActiveSectors(a),this._doInAllFrozenSectors(a)):c.length>1?(this._doInAllActiveSectors(a,c[0],c[1]),this._doInAllFrozenSectors(a,c[0],c[1])):(this._doInAllActiveSectors(a,b),this._doInAllFrozenSectors(a,b))},b._clearNodeIndexList=function(){var a=this._sector();this.sectors.active[a].nodeIndices=[],this.nodeIndices=this.sectors.active[a].nodeIndices},b._drawSectorNodes=function(a,b){var c,d=1e9,e=-1e9,f=1e9,g=-1e9;for(var h in this.sectors[b])if(this.sectors[b].hasOwnProperty(h)&&void 0!==this.sectors[b][h].drawingNode){this._switchToSector(h,b),d=1e9,e=-1e9,f=1e9,g=-1e9;for(var i in this.nodes)this.nodes.hasOwnProperty(i)&&(c=this.nodes[i],c.resize(a),f>c.x-.5*c.width&&(f=c.x-.5*c.width),g<c.x+.5*c.width&&(g=c.x+.5*c.width),d>c.y-.5*c.height&&(d=c.y-.5*c.height),e<c.y+.5*c.height&&(e=c.y+.5*c.height));c=this.sectors[b][h].drawingNode,c.x=.5*(g+f),c.y=.5*(e+d),c.width=2*(c.x-f),c.height=2*(c.y-d),c.options.radius=Math.sqrt(Math.pow(.5*c.width,2)+Math.pow(.5*c.height,2)),c.setScale(this.scale),c._drawCircle(a)}},b._drawAllSectorNodes=function(a){this._drawSectorNodes(a,"frozen"),this._drawSectorNodes(a,"active"),this._loadLatestSector()}},function(a,b,c){var d=c(40);b._getNodesOverlappingWith=function(a,b){var c=this.nodes;for(var d in c)c.hasOwnProperty(d)&&c[d].isOverlappingWith(a)&&b.push(d)},b._getAllNodesOverlappingWith=function(a){var b=[];return this._doInAllActiveSectors("_getNodesOverlappingWith",a,b),b},b._pointerToPositionObject=function(a){var b=this._XconvertDOMtoCanvas(a.x),c=this._YconvertDOMtoCanvas(a.y);return{left:b,top:c,right:b,bottom:c}},b._getNodeAt=function(a){var b=this._pointerToPositionObject(a),c=this._getAllNodesOverlappingWith(b);return c.length>0?this.nodes[c[c.length-1]]:null},b._getEdgesOverlappingWith=function(a,b){var c=this.edges;for(var d in c)c.hasOwnProperty(d)&&c[d].isOverlappingWith(a)&&b.push(d)},b._getAllEdgesOverlappingWith=function(a){var b=[];return this._doInAllActiveSectors("_getEdgesOverlappingWith",a,b),b},b._getEdgeAt=function(a){var b=this._pointerToPositionObject(a),c=this._getAllEdgesOverlappingWith(b);return c.length>0?this.edges[c[c.length-1]]:null},b._addToSelection=function(a){a instanceof d?this.selectionObj.nodes[a.id]=a:this.selectionObj.edges[a.id]=a},b._addToHover=function(a){a instanceof d?this.hoverObj.nodes[a.id]=a:this.hoverObj.edges[a.id]=a},b._removeFromSelection=function(a){a instanceof d?delete this.selectionObj.nodes[a.id]:delete this.selectionObj.edges[a.id]},b._unselectAll=function(a){void 0===a&&(a=!1);for(var b in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(b)&&this.selectionObj.nodes[b].unselect();for(var c in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(c)&&this.selectionObj.edges[c].unselect();this.selectionObj={nodes:{},edges:{}},0==a&&this.emit("select",this.getSelection())},b._unselectClusters=function(a){void 0===a&&(a=!1);for(var b in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(b)&&this.selectionObj.nodes[b].clusterSize>1&&(this.selectionObj.nodes[b].unselect(),this._removeFromSelection(this.selectionObj.nodes[b]));0==a&&this.emit("select",this.getSelection())},b._getSelectedNodeCount=function(){var a=0;for(var b in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(b)&&(a+=1);return a},b._getSelectedNode=function(){for(var a in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(a))return this.selectionObj.nodes[a];return null},b._getSelectedEdge=function(){for(var a in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(a))return this.selectionObj.edges[a];return null},b._getSelectedEdgeCount=function(){var a=0;for(var b in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(b)&&(a+=1);return a},b._getSelectedObjectCount=function(){var a=0;for(var b in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(b)&&(a+=1);for(var c in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(c)&&(a+=1);return a},b._selectionIsEmpty=function(){for(var a in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(a))return!1;for(var b in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(b))return!1;return!0},b._clusterInSelection=function(){for(var a in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(a)&&this.selectionObj.nodes[a].clusterSize>1)return!0;return!1},b._selectConnectedEdges=function(a){for(var b=0;b<a.dynamicEdges.length;b++){var c=a.dynamicEdges[b];c.select(),this._addToSelection(c)}},b._hoverConnectedEdges=function(a){for(var b=0;b<a.dynamicEdges.length;b++){var c=a.dynamicEdges[b];c.hover=!0,this._addToHover(c)}},b._unselectConnectedEdges=function(a){for(var b=0;b<a.dynamicEdges.length;b++){var c=a.dynamicEdges[b];c.unselect(),this._removeFromSelection(c)}},b._selectObject=function(a,b,c,e,f){void 0===c&&(c=!1),void 0===e&&(e=!0),0==this._selectionIsEmpty()&&0==b&&0==this.forceAppendSelection&&this._unselectAll(!0),0!=a.selected||1!=this.constants.selectable&&!f?0==a.selected?(this._addToSelection(a),c=!0):(a.unselect(),this._removeFromSelection(a)):(a.select(),this._addToSelection(a),a instanceof d&&0==this.blockConnectingEdgeSelection&&1==e&&this._selectConnectedEdges(a)),0==c&&this.emit("select",this.getSelection())},b._blurObject=function(a){1==a.hover&&(a.hover=!1,this.emit("blurNode",{node:a.id}))},b._hoverObject=function(a){0==a.hover&&(a.hover=!0,this._addToHover(a),a instanceof d&&this.emit("hoverNode",{node:a.id})),a instanceof d&&this._hoverConnectedEdges(a)},b._handleTouch=function(){},b._handleTap=function(a){var b=this._getNodeAt(a);if(null!=b)this._selectObject(b,!1);else{var c=this._getEdgeAt(a);null!=c?this._selectObject(c,!1):this._unselectAll()}var d=this.getSelection();d.pointer={DOM:{x:a.x,y:a.y},canvas:{x:this._XconvertDOMtoCanvas(a.x),y:this._YconvertDOMtoCanvas(a.y)}},this.emit("click",d),this._redraw()},b._handleDoubleTap=function(a){var b=this._getNodeAt(a);null!=b&&void 0!==b&&(this.areaCenter={x:this._XconvertDOMtoCanvas(a.x),y:this._YconvertDOMtoCanvas(a.y)},this.openCluster(b));var c=this.getSelection();c.pointer={DOM:{x:a.x,y:a.y},canvas:{x:this._XconvertDOMtoCanvas(a.x),y:this._YconvertDOMtoCanvas(a.y)}},this.emit("doubleClick",c)},b._handleOnHold=function(a){var b=this._getNodeAt(a);if(null!=b)this._selectObject(b,!0);else{var c=this._getEdgeAt(a);null!=c&&this._selectObject(c,!0)}this._redraw()},b._handleOnRelease=function(a){this._manipulationReleaseOverload(a),this._navigationReleaseOverload(a)},b._manipulationReleaseOverload=function(){},b._navigationReleaseOverload=function(){},b.getSelection=function(){var a=this.getSelectedNodes(),b=this.getSelectedEdges();return{nodes:a,edges:b}},b.getSelectedNodes=function(){var a=[];if(1==this.constants.selectable)for(var b in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(b)&&a.push(b);return a},b.getSelectedEdges=function(){var a=[];if(1==this.constants.selectable)for(var b in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(b)&&a.push(b);return a},b.setSelection=function(){console.log("setSelection is deprecated. Please use selectNodes instead.")},b.selectNodes=function(a,b){var c,d,e;if(!a||void 0==a.length)throw"Selection must be an array with ids";for(this._unselectAll(!0),c=0,d=a.length;d>c;c++){e=a[c];var f=this.nodes[e];if(!f)throw new RangeError('Node with id "'+e+'" not found');this._selectObject(f,!0,!0,b,!0)}this.redraw()},b.selectEdges=function(a){var b,c,d;if(!a||void 0==a.length)throw"Selection must be an array with ids";for(this._unselectAll(!0),b=0,c=a.length;c>b;b++){d=a[b];var e=this.edges[d];if(!e)throw new RangeError('Edge with id "'+d+'" not found');this._selectObject(e,!0,!0,!1,!0)}this.redraw()},b._updateSelection=function(){for(var a in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(a)&&(this.nodes.hasOwnProperty(a)||delete this.selectionObj.nodes[a]);for(var b in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(b)&&(this.edges.hasOwnProperty(b)||delete this.selectionObj.edges[b])}},function(a,b,c){var d=c(1),e=c(40),f=c(37);b._clearManipulatorBar=function(){for(;this.manipulationDiv.hasChildNodes();)this.manipulationDiv.removeChild(this.manipulationDiv.firstChild);this.manipulationDOM={},this._manipulationReleaseOverload=function(){},delete this.sectors.support.nodes.targetNode,delete this.sectors.support.nodes.targetViaNode,this.controlNodesActive=!1},b._restoreOverloadedFunctions=function(){for(var a in this.cachedFunctions)this.cachedFunctions.hasOwnProperty(a)&&(this[a]=this.cachedFunctions[a])},b._toggleEditMode=function(){this.editMode=!this.editMode;var a=this.manipulationDiv,b=this.closeDiv,c=this.editModeDiv;1==this.editMode?(a.style.display="block",b.style.display="block",c.style.display="none",b.onclick=this._toggleEditMode.bind(this)):(a.style.display="none",b.style.display="none",c.style.display="block",b.onclick=null),this._createManipulatorBar()},b._createManipulatorBar=function(){this.boundFunction&&this.off("select",this.boundFunction);var a=this.constants.locales[this.constants.locale];if(void 0!==this.edgeBeingEdited&&(this.edgeBeingEdited._disableControlNodes(),this.edgeBeingEdited=void 0,this.selectedControlNode=null,this.controlNodesActive=!1,this._redraw()),this._restoreOverloadedFunctions(),this.freezeSimulation=!1,this.blockConnectingEdgeSelection=!1,this.forceAppendSelection=!1,this.manipulationDOM={},1==this.editMode){for(;this.manipulationDiv.hasChildNodes();)this.manipulationDiv.removeChild(this.manipulationDiv.firstChild);this.manipulationDOM.addNodeSpan=document.createElement("span"),this.manipulationDOM.addNodeSpan.className="network-manipulationUI add",this.manipulationDOM.addNodeLabelSpan=document.createElement("span"),this.manipulationDOM.addNodeLabelSpan.className="network-manipulationLabel",this.manipulationDOM.addNodeLabelSpan.innerHTML=a.addNode,this.manipulationDOM.addNodeSpan.appendChild(this.manipulationDOM.addNodeLabelSpan),this.manipulationDOM.seperatorLineDiv1=document.createElement("div"),this.manipulationDOM.seperatorLineDiv1.className="network-seperatorLine",this.manipulationDOM.addEdgeSpan=document.createElement("span"),this.manipulationDOM.addEdgeSpan.className="network-manipulationUI connect",this.manipulationDOM.addEdgeLabelSpan=document.createElement("span"),this.manipulationDOM.addEdgeLabelSpan.className="network-manipulationLabel",this.manipulationDOM.addEdgeLabelSpan.innerHTML=a.addEdge,this.manipulationDOM.addEdgeSpan.appendChild(this.manipulationDOM.addEdgeLabelSpan),this.manipulationDiv.appendChild(this.manipulationDOM.addNodeSpan),this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv1),this.manipulationDiv.appendChild(this.manipulationDOM.addEdgeSpan),1==this._getSelectedNodeCount()&&this.triggerFunctions.edit?(this.manipulationDOM.seperatorLineDiv2=document.createElement("div"),this.manipulationDOM.seperatorLineDiv2.className="network-seperatorLine",this.manipulationDOM.editNodeSpan=document.createElement("span"),this.manipulationDOM.editNodeSpan.className="network-manipulationUI edit",this.manipulationDOM.editNodeLabelSpan=document.createElement("span"),this.manipulationDOM.editNodeLabelSpan.className="network-manipulationLabel",this.manipulationDOM.editNodeLabelSpan.innerHTML=a.editNode,this.manipulationDOM.editNodeSpan.appendChild(this.manipulationDOM.editNodeLabelSpan),this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv2),this.manipulationDiv.appendChild(this.manipulationDOM.editNodeSpan)):1==this._getSelectedEdgeCount()&&0==this._getSelectedNodeCount()&&(this.manipulationDOM.seperatorLineDiv3=document.createElement("div"),this.manipulationDOM.seperatorLineDiv3.className="network-seperatorLine",this.manipulationDOM.editEdgeSpan=document.createElement("span"),this.manipulationDOM.editEdgeSpan.className="network-manipulationUI edit",this.manipulationDOM.editEdgeLabelSpan=document.createElement("span"),this.manipulationDOM.editEdgeLabelSpan.className="network-manipulationLabel",this.manipulationDOM.editEdgeLabelSpan.innerHTML=a.editEdge,this.manipulationDOM.editEdgeSpan.appendChild(this.manipulationDOM.editEdgeLabelSpan),this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv3),this.manipulationDiv.appendChild(this.manipulationDOM.editEdgeSpan)),0==this._selectionIsEmpty()&&(this.manipulationDOM.seperatorLineDiv4=document.createElement("div"),this.manipulationDOM.seperatorLineDiv4.className="network-seperatorLine",this.manipulationDOM.deleteSpan=document.createElement("span"),this.manipulationDOM.deleteSpan.className="network-manipulationUI delete",this.manipulationDOM.deleteLabelSpan=document.createElement("span"),this.manipulationDOM.deleteLabelSpan.className="network-manipulationLabel",this.manipulationDOM.deleteLabelSpan.innerHTML=a.del,this.manipulationDOM.deleteSpan.appendChild(this.manipulationDOM.deleteLabelSpan),this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv4),this.manipulationDiv.appendChild(this.manipulationDOM.deleteSpan)),this.manipulationDOM.addNodeSpan.onclick=this._createAddNodeToolbar.bind(this),this.manipulationDOM.addEdgeSpan.onclick=this._createAddEdgeToolbar.bind(this),1==this._getSelectedNodeCount()&&this.triggerFunctions.edit?this.manipulationDOM.editNodeSpan.onclick=this._editNode.bind(this):1==this._getSelectedEdgeCount()&&0==this._getSelectedNodeCount()&&(this.manipulationDOM.editEdgeSpan.onclick=this._createEditEdgeToolbar.bind(this)),0==this._selectionIsEmpty()&&(this.manipulationDOM.deleteSpan.onclick=this._deleteSelected.bind(this)),this.closeDiv.onclick=this._toggleEditMode.bind(this),this.boundFunction=this._createManipulatorBar.bind(this),this.on("select",this.boundFunction)}else{for(;this.editModeDiv.hasChildNodes();)this.editModeDiv.removeChild(this.editModeDiv.firstChild);this.manipulationDOM.editModeSpan=document.createElement("span"),this.manipulationDOM.editModeSpan.className="network-manipulationUI edit editmode",this.manipulationDOM.editModeLabelSpan=document.createElement("span"),this.manipulationDOM.editModeLabelSpan.className="network-manipulationLabel",this.manipulationDOM.editModeLabelSpan.innerHTML=a.edit,this.manipulationDOM.editModeSpan.appendChild(this.manipulationDOM.editModeLabelSpan),this.editModeDiv.appendChild(this.manipulationDOM.editModeSpan),this.manipulationDOM.editModeSpan.onclick=this._toggleEditMode.bind(this)}},b._createAddNodeToolbar=function(){this._clearManipulatorBar(),this.boundFunction&&this.off("select",this.boundFunction);var a=this.constants.locales[this.constants.locale];this.manipulationDOM={},this.manipulationDOM.backSpan=document.createElement("span"),this.manipulationDOM.backSpan.className="network-manipulationUI back",this.manipulationDOM.backLabelSpan=document.createElement("span"),this.manipulationDOM.backLabelSpan.className="network-manipulationLabel",this.manipulationDOM.backLabelSpan.innerHTML=a.back,this.manipulationDOM.backSpan.appendChild(this.manipulationDOM.backLabelSpan),this.manipulationDOM.seperatorLineDiv1=document.createElement("div"),this.manipulationDOM.seperatorLineDiv1.className="network-seperatorLine",this.manipulationDOM.descriptionSpan=document.createElement("span"),this.manipulationDOM.descriptionSpan.className="network-manipulationUI none",this.manipulationDOM.descriptionLabelSpan=document.createElement("span"),this.manipulationDOM.descriptionLabelSpan.className="network-manipulationLabel",this.manipulationDOM.descriptionLabelSpan.innerHTML=a.addDescription,this.manipulationDOM.descriptionSpan.appendChild(this.manipulationDOM.descriptionLabelSpan),this.manipulationDiv.appendChild(this.manipulationDOM.backSpan),this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv1),this.manipulationDiv.appendChild(this.manipulationDOM.descriptionSpan),this.manipulationDOM.backSpan.onclick=this._createManipulatorBar.bind(this),this.boundFunction=this._addNode.bind(this),this.on("select",this.boundFunction)},b._createAddEdgeToolbar=function(){this._clearManipulatorBar(),this._unselectAll(!0),this.freezeSimulation=!0;var a=this.constants.locales[this.constants.locale];this.boundFunction&&this.off("select",this.boundFunction),this._unselectAll(),this.forceAppendSelection=!1,this.blockConnectingEdgeSelection=!0,this.manipulationDOM={},this.manipulationDOM.backSpan=document.createElement("span"),this.manipulationDOM.backSpan.className="network-manipulationUI back",this.manipulationDOM.backLabelSpan=document.createElement("span"),this.manipulationDOM.backLabelSpan.className="network-manipulationLabel",this.manipulationDOM.backLabelSpan.innerHTML=a.back,this.manipulationDOM.backSpan.appendChild(this.manipulationDOM.backLabelSpan),this.manipulationDOM.seperatorLineDiv1=document.createElement("div"),this.manipulationDOM.seperatorLineDiv1.className="network-seperatorLine",this.manipulationDOM.descriptionSpan=document.createElement("span"),this.manipulationDOM.descriptionSpan.className="network-manipulationUI none",this.manipulationDOM.descriptionLabelSpan=document.createElement("span"),this.manipulationDOM.descriptionLabelSpan.className="network-manipulationLabel",this.manipulationDOM.descriptionLabelSpan.innerHTML=a.edgeDescription,this.manipulationDOM.descriptionSpan.appendChild(this.manipulationDOM.descriptionLabelSpan),this.manipulationDiv.appendChild(this.manipulationDOM.backSpan),this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv1),this.manipulationDiv.appendChild(this.manipulationDOM.descriptionSpan),this.manipulationDOM.backSpan.onclick=this._createManipulatorBar.bind(this),this.boundFunction=this._handleConnect.bind(this),this.on("select",this.boundFunction),this.cachedFunctions._handleTouch=this._handleTouch,this.cachedFunctions._manipulationReleaseOverload=this._manipulationReleaseOverload,this.cachedFunctions._handleDragStart=this._handleDragStart,this.cachedFunctions._handleDragEnd=this._handleDragEnd,this._handleTouch=this._handleConnect,this._manipulationReleaseOverload=function(){},this._handleDragStart=function(){},this._handleDragEnd=this._finishConnect,this._redraw()},b._createEditEdgeToolbar=function(){this._clearManipulatorBar(),this.controlNodesActive=!0,this.boundFunction&&this.off("select",this.boundFunction),this.edgeBeingEdited=this._getSelectedEdge(),this.edgeBeingEdited._enableControlNodes();var a=this.constants.locales[this.constants.locale];this.manipulationDOM={},this.manipulationDOM.backSpan=document.createElement("span"),this.manipulationDOM.backSpan.className="network-manipulationUI back",this.manipulationDOM.backLabelSpan=document.createElement("span"),this.manipulationDOM.backLabelSpan.className="network-manipulationLabel",this.manipulationDOM.backLabelSpan.innerHTML=a.back,this.manipulationDOM.backSpan.appendChild(this.manipulationDOM.backLabelSpan),this.manipulationDOM.seperatorLineDiv1=document.createElement("div"),this.manipulationDOM.seperatorLineDiv1.className="network-seperatorLine",this.manipulationDOM.descriptionSpan=document.createElement("span"),this.manipulationDOM.descriptionSpan.className="network-manipulationUI none",this.manipulationDOM.descriptionLabelSpan=document.createElement("span"),this.manipulationDOM.descriptionLabelSpan.className="network-manipulationLabel",this.manipulationDOM.descriptionLabelSpan.innerHTML=a.editEdgeDescription,this.manipulationDOM.descriptionSpan.appendChild(this.manipulationDOM.descriptionLabelSpan),this.manipulationDiv.appendChild(this.manipulationDOM.backSpan),this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv1),this.manipulationDiv.appendChild(this.manipulationDOM.descriptionSpan),this.manipulationDOM.backSpan.onclick=this._createManipulatorBar.bind(this),this.cachedFunctions._handleTouch=this._handleTouch,this.cachedFunctions._manipulationReleaseOverload=this._manipulationReleaseOverload,this.cachedFunctions._handleTap=this._handleTap,this.cachedFunctions._handleDragStart=this._handleDragStart,this.cachedFunctions._handleOnDrag=this._handleOnDrag,this._handleTouch=this._selectControlNode,this._handleTap=function(){},this._handleOnDrag=this._controlNodeDrag,this._handleDragStart=function(){},this._manipulationReleaseOverload=this._releaseControlNode,this._redraw()},b._selectControlNode=function(a){this.edgeBeingEdited.controlNodes.from.unselect(),this.edgeBeingEdited.controlNodes.to.unselect(),this.selectedControlNode=this.edgeBeingEdited._getSelectedControlNode(this._XconvertDOMtoCanvas(a.x),this._YconvertDOMtoCanvas(a.y)),null!==this.selectedControlNode&&(this.selectedControlNode.select(),this.freezeSimulation=!0),this._redraw()},b._controlNodeDrag=function(a){var b=this._getPointer(a.gesture.center);null!==this.selectedControlNode&&void 0!==this.selectedControlNode&&(this.selectedControlNode.x=this._XconvertDOMtoCanvas(b.x),this.selectedControlNode.y=this._YconvertDOMtoCanvas(b.y)),this._redraw()},b._releaseControlNode=function(a){var b=this._getNodeAt(a);null!==b?(1==this.edgeBeingEdited.controlNodes.from.selected&&(this._editEdge(b.id,this.edgeBeingEdited.to.id),this.edgeBeingEdited.controlNodes.from.unselect()),1==this.edgeBeingEdited.controlNodes.to.selected&&(this._editEdge(this.edgeBeingEdited.from.id,b.id),this.edgeBeingEdited.controlNodes.to.unselect())):this.edgeBeingEdited._restoreControlNodes(),this.freezeSimulation=!1,this._redraw()},b._handleConnect=function(a){if(0==this._getSelectedNodeCount()){var b=this._getNodeAt(a);if(null!=b)if(b.clusterSize>1)alert(this.constants.locales[this.constants.locale].createEdgeError);else{this._selectObject(b,!1);var c=this.sectors.support.nodes;c.targetNode=new e({id:"targetNode"},{},{},this.constants);var d=c.targetNode;d.x=b.x,d.y=b.y,this.edges.connectionEdge=new f({id:"connectionEdge",from:b.id,to:d.id},this,this.constants);var g=this.edges.connectionEdge;g.from=b,g.connected=!0,g.options.smoothCurves={enabled:!0,dynamic:!1,type:"continuous",roundness:.5},g.selected=!0,g.to=d,this.cachedFunctions._handleOnDrag=this._handleOnDrag,this._handleOnDrag=function(a){var b=this._getPointer(a.gesture.center),c=this.edges.connectionEdge;c.to.x=this._XconvertDOMtoCanvas(b.x),c.to.y=this._YconvertDOMtoCanvas(b.y)},this.moving=!0,this.start()}}},b._finishConnect=function(a){if(1==this._getSelectedNodeCount()){var b=this._getPointer(a.gesture.center);this._handleOnDrag=this.cachedFunctions._handleOnDrag,delete this.cachedFunctions._handleOnDrag;var c=this.edges.connectionEdge.fromId;delete this.edges.connectionEdge,delete this.sectors.support.nodes.targetNode,delete this.sectors.support.nodes.targetViaNode;var d=this._getNodeAt(b);null!=d&&(d.clusterSize>1?alert(this.constants.locales[this.constants.locale].createEdgeError):(this._createEdge(c,d.id),this._createManipulatorBar())),this._unselectAll()}},b._addNode=function(){if(this._selectionIsEmpty()&&1==this.editMode){var a=this._pointerToPositionObject(this.pointerPosition),b={id:d.randomUUID(),x:a.left,y:a.top,label:"new",allowedToMoveX:!0,allowedToMoveY:!0};if(this.triggerFunctions.add){if(2!=this.triggerFunctions.add.length)throw new Error("The function for add does not support two arguments (data,callback)");var c=this;this.triggerFunctions.add(b,function(a){c.nodesData.add(a),c._createManipulatorBar(),c.moving=!0,c.start()})}else this.nodesData.add(b),this._createManipulatorBar(),this.moving=!0,this.start()}},b._createEdge=function(a,b){if(1==this.editMode){var c={from:a,to:b};if(this.triggerFunctions.connect){if(2!=this.triggerFunctions.connect.length)throw new Error("The function for connect does not support two arguments (data,callback)");var d=this;this.triggerFunctions.connect(c,function(a){d.edgesData.add(a),d.moving=!0,d.start()})}else this.edgesData.add(c),this.moving=!0,this.start()}},b._editEdge=function(a,b){if(1==this.editMode){var c={id:this.edgeBeingEdited.id,from:a,to:b};if(this.triggerFunctions.editEdge){if(2!=this.triggerFunctions.editEdge.length)throw new Error("The function for edit does not support two arguments (data, callback)");var d=this;this.triggerFunctions.editEdge(c,function(a){d.edgesData.update(a),d.moving=!0,d.start()})}else this.edgesData.update(c),this.moving=!0,this.start()}},b._editNode=function(){if(!this.triggerFunctions.edit||1!=this.editMode)throw new Error("No edit function has been bound to this button");var a=this._getSelectedNode(),b={id:a.id,label:a.label,group:a.options.group,shape:a.options.shape,color:{background:a.options.color.background,border:a.options.color.border,highlight:{background:a.options.color.highlight.background,border:a.options.color.highlight.border}}};if(2!=this.triggerFunctions.edit.length)throw new Error("The function for edit does not support two arguments (data, callback)");var c=this;this.triggerFunctions.edit(b,function(a){c.nodesData.update(a),c._createManipulatorBar(),c.moving=!0,c.start()})},b._deleteSelected=function(){if(!this._selectionIsEmpty()&&1==this.editMode)if(this._clusterInSelection())alert(this.constants.locales[this.constants.locale].deleteClusterError);else{var a=this.getSelectedNodes(),b=this.getSelectedEdges();if(this.triggerFunctions.del){var c=this,d={nodes:a,edges:b};if(!(this.triggerFunctions.del.length=2))throw new Error("The function for delete does not support two arguments (data, callback)");this.triggerFunctions.del(d,function(a){c.edgesData.remove(a.edges),c.nodesData.remove(a.nodes),c._unselectAll(),c.moving=!0,c.start()})}else this.edgesData.remove(b),this.nodesData.remove(a),this._unselectAll(),this.moving=!0,this.start()}}},function(a,b,c){var d=(c(1),c(45));b._cleanNavigation=function(){if(0!=this.navigationHammers.existing.length){for(var a=0;a<this.navigationHammers.existing.length;a++)this.navigationHammers.existing[a].dispose();this.navigationHammers.existing=[]}this._navigationReleaseOverload=function(){},this.navigationDivs&&this.navigationDivs.wrapper&&this.navigationDivs.wrapper.parentNode&&this.navigationDivs.wrapper.parentNode.removeChild(this.navigationDivs.wrapper)},b._loadNavigationElements=function(){this._cleanNavigation(),this.navigationDivs={};var a=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],b=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_zoomExtent"];this.navigationDivs.wrapper=document.createElement("div"),this.frame.appendChild(this.navigationDivs.wrapper);for(var c=0;c<a.length;c++){this.navigationDivs[a[c]]=document.createElement("div"),this.navigationDivs[a[c]].className="network-navigation "+a[c],this.navigationDivs.wrapper.appendChild(this.navigationDivs[a[c]]);var e=d(this.navigationDivs[a[c]],{prevent_default:!0});e.on("touch",this[b[c]].bind(this)),this.navigationHammers._new.push(e)}this._navigationReleaseOverload=this._stopMovement,this.navigationHammers.existing=this.navigationHammers._new},b._zoomExtent=function(a){this.zoomExtent({duration:700}),a.stopPropagation()},b._stopMovement=function(){this._xStopMoving(),this._yStopMoving(),this._stopZoom()},b._moveUp=function(a){this.yIncrement=this.constants.keyboard.speed.y,this.start(),a.preventDefault()},b._moveDown=function(a){this.yIncrement=-this.constants.keyboard.speed.y,this.start(),a.preventDefault()},b._moveLeft=function(a){this.xIncrement=this.constants.keyboard.speed.x,this.start(),a.preventDefault()},b._moveRight=function(a){this.xIncrement=-this.constants.keyboard.speed.y,this.start(),a.preventDefault()},b._zoomIn=function(a){this.zoomIncrement=this.constants.keyboard.speed.zoom,this.start(),a.preventDefault()
},b._zoomOut=function(a){this.zoomIncrement=-this.constants.keyboard.speed.zoom,this.start(),a.preventDefault()},b._stopZoom=function(a){this.zoomIncrement=0,a&&a.preventDefault()},b._yStopMoving=function(a){this.yIncrement=0,a&&a.preventDefault()},b._xStopMoving=function(a){this.xIncrement=0,a&&a.preventDefault()}},function(a,b){b._resetLevels=function(){for(var a in this.nodes)if(this.nodes.hasOwnProperty(a)){var b=this.nodes[a];0==b.preassignedLevel&&(b.level=-1,b.hierarchyEnumerated=!1)}},b._setupHierarchicalLayout=function(){if(1==this.constants.hierarchicalLayout.enabled&&this.nodeIndices.length>0){"RL"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?this.constants.hierarchicalLayout.levelSeparation*=-1:this.constants.hierarchicalLayout.levelSeparation=Math.abs(this.constants.hierarchicalLayout.levelSeparation),"RL"==this.constants.hierarchicalLayout.direction||"LR"==this.constants.hierarchicalLayout.direction?1==this.constants.smoothCurves.enabled&&(this.constants.smoothCurves.type="vertical"):1==this.constants.smoothCurves.enabled&&(this.constants.smoothCurves.type="horizontal");var a,b,c=0,d=!1,e=!1;for(b in this.nodes)this.nodes.hasOwnProperty(b)&&(a=this.nodes[b],-1!=a.level?d=!0:e=!0,c<a.edges.length&&(c=a.edges.length));if(1==e&&1==d)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");this._changeConstants(),1==e&&("hubsize"==this.constants.hierarchicalLayout.layout?this._determineLevels(c):this._determineLevelsDirected());var f=this._getDistribution();this._placeNodesByHierarchy(f),this.start()}},b._placeNodesByHierarchy=function(a){var b,c;for(var d in a)if(a.hasOwnProperty(d))for(b in a[d].nodes)a[d].nodes.hasOwnProperty(b)&&(c=a[d].nodes[b],"UD"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?c.xFixed&&(c.x=a[d].minPos,c.xFixed=!1,a[d].minPos+=a[d].nodeSpacing):c.yFixed&&(c.y=a[d].minPos,c.yFixed=!1,a[d].minPos+=a[d].nodeSpacing),this._placeBranchNodes(c.edges,c.id,a,c.level));this._stabilize()},b._getDistribution=function(){var a,b,c,d={};for(a in this.nodes)this.nodes.hasOwnProperty(a)&&(b=this.nodes[a],b.xFixed=!0,b.yFixed=!0,"UD"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?b.y=this.constants.hierarchicalLayout.levelSeparation*b.level:b.x=this.constants.hierarchicalLayout.levelSeparation*b.level,void 0===d[b.level]&&(d[b.level]={amount:0,nodes:{},minPos:0,nodeSpacing:0}),d[b.level].amount+=1,d[b.level].nodes[a]=b);var e=0;for(c in d)d.hasOwnProperty(c)&&e<d[c].amount&&(e=d[c].amount);for(c in d)d.hasOwnProperty(c)&&(d[c].nodeSpacing=(e+1)*this.constants.hierarchicalLayout.nodeSpacing,d[c].nodeSpacing/=d[c].amount+1,d[c].minPos=d[c].nodeSpacing-.5*(d[c].amount+1)*d[c].nodeSpacing);return d},b._determineLevels=function(a){var b,c;for(b in this.nodes)this.nodes.hasOwnProperty(b)&&(c=this.nodes[b],c.edges.length==a&&(c.level=0));for(b in this.nodes)this.nodes.hasOwnProperty(b)&&(c=this.nodes[b],0==c.level&&this._setLevel(1,c.edges,c.id))},b._determineLevelsDirected=function(){var a,b;for(a in this.nodes)if(this.nodes.hasOwnProperty(a)){this.nodes[a].level=1e4;break}for(a in this.nodes)this.nodes.hasOwnProperty(a)&&(b=this.nodes[a],1e4==b.level&&this._setLevelDirected(1e4,b.edges,b.id));var c=1e4;for(a in this.nodes)this.nodes.hasOwnProperty(a)&&(b=this.nodes[a],c=b.level<c?b.level:c);for(a in this.nodes)this.nodes.hasOwnProperty(a)&&(b=this.nodes[a],b.level-=c)},b._changeConstants=function(){this.constants.clustering.enabled=!1,this.constants.physics.barnesHut.enabled=!1,this.constants.physics.hierarchicalRepulsion.enabled=!0,this._loadSelectedForceSolver(),1==this.constants.smoothCurves.enabled&&(this.constants.smoothCurves.dynamic=!1),this._configureSmoothCurves()},b._placeBranchNodes=function(a,b,c,d){for(var e=0;e<a.length;e++){var f=null;f=a[e].toId==b?a[e].from:a[e].to;var g=!1;"UD"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?f.xFixed&&f.level>d&&(f.xFixed=!1,f.x=c[f.level].minPos,g=!0):f.yFixed&&f.level>d&&(f.yFixed=!1,f.y=c[f.level].minPos,g=!0),1==g&&(c[f.level].minPos+=c[f.level].nodeSpacing,f.edges.length>1&&this._placeBranchNodes(f.edges,f.id,c,f.level))}},b._setLevel=function(a,b,c){for(var d=0;d<b.length;d++){var e=null;e=b[d].toId==c?b[d].from:b[d].to,(-1==e.level||e.level>a)&&(e.level=a,e.edges.length>1&&this._setLevel(a+1,e.edges,e.id))}},b._setLevelDirected=function(a,b,c){this.nodes[c].hierarchyEnumerated=!0;for(var d=0;d<b.length;d++){var e=null,f=1;b[d].toId==c?(e=b[d].from,f=-1):e=b[d].to,-1==e.level&&(e.level=a+f)}for(var d=0;d<b.length;d++){var e=null;e=b[d].toId==c?b[d].from:b[d].to,e.edges.length>1&&e.hierarchyEnumerated===!1&&this._setLevelDirected(e.level,e.edges,e.id)}},b._restoreNodes=function(){for(var a in this.nodes)this.nodes.hasOwnProperty(a)&&(this.nodes[a].xFixed=!1,this.nodes[a].yFixed=!1)}},function(a,b,c){function d(){this.constants.smoothCurves.enabled=!this.constants.smoothCurves.enabled;var a=document.getElementById("graph_toggleSmooth");a.style.background=1==this.constants.smoothCurves.enabled?"#A4FF56":"#FF8532",this._configureSmoothCurves(!1)}function e(){for(var a in this.calculationNodes)this.calculationNodes.hasOwnProperty(a)&&(this.calculationNodes[a].vx=0,this.calculationNodes[a].vy=0,this.calculationNodes[a].fx=0,this.calculationNodes[a].fy=0);1==this.constants.hierarchicalLayout.enabled?(this._setupHierarchicalLayout(),h.call(this,"graph_H_nd",1,"physics_hierarchicalRepulsion_nodeDistance"),h.call(this,"graph_H_cg",1,"physics_centralGravity"),h.call(this,"graph_H_sc",1,"physics_springConstant"),h.call(this,"graph_H_sl",1,"physics_springLength"),h.call(this,"graph_H_damp",1,"physics_damping")):this.repositionNodes(),this.moving=!0,this.start()}function f(){var a="No options are required, default values used.",b=[],c=document.getElementById("graph_physicsMethod1"),d=document.getElementById("graph_physicsMethod2");if(1==c.checked){if(this.constants.physics.barnesHut.gravitationalConstant!=this.backupConstants.physics.barnesHut.gravitationalConstant&&b.push("gravitationalConstant: "+this.constants.physics.barnesHut.gravitationalConstant),this.constants.physics.centralGravity!=this.backupConstants.physics.barnesHut.centralGravity&&b.push("centralGravity: "+this.constants.physics.centralGravity),this.constants.physics.springLength!=this.backupConstants.physics.barnesHut.springLength&&b.push("springLength: "+this.constants.physics.springLength),this.constants.physics.springConstant!=this.backupConstants.physics.barnesHut.springConstant&&b.push("springConstant: "+this.constants.physics.springConstant),this.constants.physics.damping!=this.backupConstants.physics.barnesHut.damping&&b.push("damping: "+this.constants.physics.damping),0!=b.length){a="var options = {",a+="physics: {barnesHut: {";for(var e=0;e<b.length;e++)a+=b[e],e<b.length-1&&(a+=", ");a+="}}"}this.constants.smoothCurves.enabled!=this.backupConstants.smoothCurves.enabled&&(0==b.length?a="var options = {":a+=", ",a+="smoothCurves: "+this.constants.smoothCurves.enabled),"No options are required, default values used."!=a&&(a+="};")}else if(1==d.checked){if(a="var options = {",a+="physics: {barnesHut: {enabled: false}",this.constants.physics.repulsion.nodeDistance!=this.backupConstants.physics.repulsion.nodeDistance&&b.push("nodeDistance: "+this.constants.physics.repulsion.nodeDistance),this.constants.physics.centralGravity!=this.backupConstants.physics.repulsion.centralGravity&&b.push("centralGravity: "+this.constants.physics.centralGravity),this.constants.physics.springLength!=this.backupConstants.physics.repulsion.springLength&&b.push("springLength: "+this.constants.physics.springLength),this.constants.physics.springConstant!=this.backupConstants.physics.repulsion.springConstant&&b.push("springConstant: "+this.constants.physics.springConstant),this.constants.physics.damping!=this.backupConstants.physics.repulsion.damping&&b.push("damping: "+this.constants.physics.damping),0!=b.length){a+=", repulsion: {";for(var e=0;e<b.length;e++)a+=b[e],e<b.length-1&&(a+=", ");a+="}}"}0==b.length&&(a+="}"),this.constants.smoothCurves!=this.backupConstants.smoothCurves&&(a+=", smoothCurves: "+this.constants.smoothCurves),a+="};"}else{if(a="var options = {",this.constants.physics.hierarchicalRepulsion.nodeDistance!=this.backupConstants.physics.hierarchicalRepulsion.nodeDistance&&b.push("nodeDistance: "+this.constants.physics.hierarchicalRepulsion.nodeDistance),this.constants.physics.centralGravity!=this.backupConstants.physics.hierarchicalRepulsion.centralGravity&&b.push("centralGravity: "+this.constants.physics.centralGravity),this.constants.physics.springLength!=this.backupConstants.physics.hierarchicalRepulsion.springLength&&b.push("springLength: "+this.constants.physics.springLength),this.constants.physics.springConstant!=this.backupConstants.physics.hierarchicalRepulsion.springConstant&&b.push("springConstant: "+this.constants.physics.springConstant),this.constants.physics.damping!=this.backupConstants.physics.hierarchicalRepulsion.damping&&b.push("damping: "+this.constants.physics.damping),0!=b.length){a+="physics: {hierarchicalRepulsion: {";for(var e=0;e<b.length;e++)a+=b[e],e<b.length-1&&(a+=", ");a+="}},"}if(a+="hierarchicalLayout: {",b=[],this.constants.hierarchicalLayout.direction!=this.backupConstants.hierarchicalLayout.direction&&b.push("direction: "+this.constants.hierarchicalLayout.direction),Math.abs(this.constants.hierarchicalLayout.levelSeparation)!=this.backupConstants.hierarchicalLayout.levelSeparation&&b.push("levelSeparation: "+this.constants.hierarchicalLayout.levelSeparation),this.constants.hierarchicalLayout.nodeSpacing!=this.backupConstants.hierarchicalLayout.nodeSpacing&&b.push("nodeSpacing: "+this.constants.hierarchicalLayout.nodeSpacing),0!=b.length){for(var e=0;e<b.length;e++)a+=b[e],e<b.length-1&&(a+=", ");a+="}"}else a+="enabled:true}";a+="};"}this.optionsDiv.innerHTML=a}function g(){var a=["graph_BH_table","graph_R_table","graph_H_table"],b=document.querySelector('input[name="graph_physicsMethod"]:checked').value,c="graph_"+b+"_table",d=document.getElementById(c);d.style.display="block";for(var e=0;e<a.length;e++)a[e]!=c&&(d=document.getElementById(a[e]),d.style.display="none");this._restoreNodes(),"R"==b?(this.constants.hierarchicalLayout.enabled=!1,this.constants.physics.hierarchicalRepulsion.enabled=!1,this.constants.physics.barnesHut.enabled=!1):"H"==b?0==this.constants.hierarchicalLayout.enabled&&(this.constants.hierarchicalLayout.enabled=!0,this.constants.physics.hierarchicalRepulsion.enabled=!0,this.constants.physics.barnesHut.enabled=!1,this.constants.smoothCurves.enabled=!1,this._setupHierarchicalLayout()):(this.constants.hierarchicalLayout.enabled=!1,this.constants.physics.hierarchicalRepulsion.enabled=!1,this.constants.physics.barnesHut.enabled=!0),this._loadSelectedForceSolver();var f=document.getElementById("graph_toggleSmooth");f.style.background=1==this.constants.smoothCurves.enabled?"#A4FF56":"#FF8532",this.moving=!0,this.start()}function h(a,b,c){var d=a+"_value",e=document.getElementById(a).value;Array.isArray(b)?(document.getElementById(d).value=b[parseInt(e)],this._overWriteGraphConstants(c,b[parseInt(e)])):(document.getElementById(d).value=parseInt(b)*parseFloat(e),this._overWriteGraphConstants(c,parseInt(b)*parseFloat(e))),("hierarchicalLayout_direction"==c||"hierarchicalLayout_levelSeparation"==c||"hierarchicalLayout_nodeSpacing"==c)&&this._setupHierarchicalLayout(),this.moving=!0,this.start()}var i=c(1),j=c(68),k=c(69),l=c(70);b._toggleBarnesHut=function(){this.constants.physics.barnesHut.enabled=!this.constants.physics.barnesHut.enabled,this._loadSelectedForceSolver(),this.moving=!0,this.start()},b._loadSelectedForceSolver=function(){1==this.constants.physics.barnesHut.enabled?(this._clearMixin(j),this._clearMixin(k),this.constants.physics.centralGravity=this.constants.physics.barnesHut.centralGravity,this.constants.physics.springLength=this.constants.physics.barnesHut.springLength,this.constants.physics.springConstant=this.constants.physics.barnesHut.springConstant,this.constants.physics.damping=this.constants.physics.barnesHut.damping,this._loadMixin(l)):1==this.constants.physics.hierarchicalRepulsion.enabled?(this._clearMixin(l),this._clearMixin(j),this.constants.physics.centralGravity=this.constants.physics.hierarchicalRepulsion.centralGravity,this.constants.physics.springLength=this.constants.physics.hierarchicalRepulsion.springLength,this.constants.physics.springConstant=this.constants.physics.hierarchicalRepulsion.springConstant,this.constants.physics.damping=this.constants.physics.hierarchicalRepulsion.damping,this._loadMixin(k)):(this._clearMixin(l),this._clearMixin(k),this.barnesHutTree=void 0,this.constants.physics.centralGravity=this.constants.physics.repulsion.centralGravity,this.constants.physics.springLength=this.constants.physics.repulsion.springLength,this.constants.physics.springConstant=this.constants.physics.repulsion.springConstant,this.constants.physics.damping=this.constants.physics.repulsion.damping,this._loadMixin(j))},b._initializeForceCalculation=function(){1==this.nodeIndices.length?this.nodes[this.nodeIndices[0]]._setForce(0,0):(this.nodeIndices.length>this.constants.clustering.clusterThreshold&&1==this.constants.clustering.enabled&&this.clusterToFit(this.constants.clustering.reduceToNodes,!1),this._calculateForces())},b._calculateForces=function(){this._calculateGravitationalForces(),this._calculateNodeForces(),this.constants.physics.springConstant>0&&(1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic?this._calculateSpringForcesWithSupport():1==this.constants.physics.hierarchicalRepulsion.enabled?this._calculateHierarchicalSpringForces():this._calculateSpringForces())},b._updateCalculationNodes=function(){if(1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic){this.calculationNodes={},this.calculationNodeIndices=[];for(var a in this.nodes)this.nodes.hasOwnProperty(a)&&(this.calculationNodes[a]=this.nodes[a]);var b=this.sectors.support.nodes;for(var c in b)b.hasOwnProperty(c)&&(this.edges.hasOwnProperty(b[c].parentEdgeId)?this.calculationNodes[c]=b[c]:b[c]._setForce(0,0));for(var d in this.calculationNodes)this.calculationNodes.hasOwnProperty(d)&&this.calculationNodeIndices.push(d)}else this.calculationNodes=this.nodes,this.calculationNodeIndices=this.nodeIndices},b._calculateGravitationalForces=function(){var a,b,c,d,e,f=this.calculationNodes,g=this.constants.physics.centralGravity,h=0;for(e=0;e<this.calculationNodeIndices.length;e++)d=f[this.calculationNodeIndices[e]],d.damping=this.constants.physics.damping,"default"==this._sector()&&0!=g?(a=-d.x,b=-d.y,c=Math.sqrt(a*a+b*b),h=0==c?0:g/c,d.fx=a*h,d.fy=b*h):(d.fx=0,d.fy=0)},b._calculateSpringForces=function(){var a,b,c,d,e,f,g,h,i,j=this.edges;for(c in j)j.hasOwnProperty(c)&&(b=j[c],b.connected&&this.nodes.hasOwnProperty(b.toId)&&this.nodes.hasOwnProperty(b.fromId)&&(a=b.physics.springLength,a+=(b.to.clusterSize+b.from.clusterSize-2)*this.constants.clustering.edgeGrowth,d=b.from.x-b.to.x,e=b.from.y-b.to.y,i=Math.sqrt(d*d+e*e),0==i&&(i=.01),h=this.constants.physics.springConstant*(a-i)/i,f=d*h,g=e*h,b.from.fx+=f,b.from.fy+=g,b.to.fx-=f,b.to.fy-=g))},b._calculateSpringForcesWithSupport=function(){var a,b,c,d,e=this.edges;for(c in e)if(e.hasOwnProperty(c)&&(b=e[c],b.connected&&this.nodes.hasOwnProperty(b.toId)&&this.nodes.hasOwnProperty(b.fromId)&&null!=b.via)){var f=b.to,g=b.via,h=b.from;a=b.physics.springLength,d=f.clusterSize+h.clusterSize-2,a+=d*this.constants.clustering.edgeGrowth,this._calculateSpringForce(f,g,.5*a),this._calculateSpringForce(g,h,.5*a)}},b._calculateSpringForce=function(a,b,c){var d,e,f,g,h,i;d=a.x-b.x,e=a.y-b.y,i=Math.sqrt(d*d+e*e),0==i&&(i=.01),h=this.constants.physics.springConstant*(c-i)/i,f=d*h,g=e*h,a.fx+=f,a.fy+=g,b.fx-=f,b.fy-=g},b._loadPhysicsConfiguration=function(){if(void 0===this.physicsConfiguration){this.backupConstants={},i.deepExtend(this.backupConstants,this.constants);var a=["LR","RL","UD","DU"];this.physicsConfiguration=document.createElement("div"),this.physicsConfiguration.className="PhysicsConfiguration",this.physicsConfiguration.innerHTML='<table><tr><td><b>Simulation Mode:</b></td></tr><tr><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod1" value="BH" checked="checked">Barnes Hut</td><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod2" value="R">Repulsion</td><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod3" value="H">Hierarchical</td></tr></table><table id="graph_BH_table" style="display:none"><tr><td><b>Barnes Hut</b></td></tr><tr><td width="150px">gravitationalConstant</td><td>0</td><td><input type="range" min="0" max="20000" value="'+-1*this.constants.physics.barnesHut.gravitationalConstant+'" step="25" style="width:300px" id="graph_BH_gc"></td><td  width="50px">-20000</td><td><input value="'+-1*this.constants.physics.barnesHut.gravitationalConstant+'" id="graph_BH_gc_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="'+this.constants.physics.barnesHut.centralGravity+'" step="0.05"  style="width:300px" id="graph_BH_cg"></td><td>3</td><td><input value="'+this.constants.physics.barnesHut.centralGravity+'" id="graph_BH_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="'+this.constants.physics.barnesHut.springLength+'" step="1" style="width:300px" id="graph_BH_sl"></td><td>500</td><td><input value="'+this.constants.physics.barnesHut.springLength+'" id="graph_BH_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="'+this.constants.physics.barnesHut.springConstant+'" step="0.001" style="width:300px" id="graph_BH_sc"></td><td>0.5</td><td><input value="'+this.constants.physics.barnesHut.springConstant+'" id="graph_BH_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="'+this.constants.physics.barnesHut.damping+'" step="0.005" style="width:300px" id="graph_BH_damp"></td><td>0.3</td><td><input value="'+this.constants.physics.barnesHut.damping+'" id="graph_BH_damp_value" style="width:60px"></td></tr></table><table id="graph_R_table" style="display:none"><tr><td><b>Repulsion</b></td></tr><tr><td width="150px">nodeDistance</td><td>0</td><td><input type="range" min="0" max="300" value="'+this.constants.physics.repulsion.nodeDistance+'" step="1" style="width:300px" id="graph_R_nd"></td><td width="50px">300</td><td><input value="'+this.constants.physics.repulsion.nodeDistance+'" id="graph_R_nd_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="'+this.constants.physics.repulsion.centralGravity+'" step="0.05"  style="width:300px" id="graph_R_cg"></td><td>3</td><td><input value="'+this.constants.physics.repulsion.centralGravity+'" id="graph_R_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="'+this.constants.physics.repulsion.springLength+'" step="1" style="width:300px" id="graph_R_sl"></td><td>500</td><td><input value="'+this.constants.physics.repulsion.springLength+'" id="graph_R_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="'+this.constants.physics.repulsion.springConstant+'" step="0.001" style="width:300px" id="graph_R_sc"></td><td>0.5</td><td><input value="'+this.constants.physics.repulsion.springConstant+'" id="graph_R_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="'+this.constants.physics.repulsion.damping+'" step="0.005" style="width:300px" id="graph_R_damp"></td><td>0.3</td><td><input value="'+this.constants.physics.repulsion.damping+'" id="graph_R_damp_value" style="width:60px"></td></tr></table><table id="graph_H_table" style="display:none"><tr><td width="150"><b>Hierarchical</b></td></tr><tr><td width="150px">nodeDistance</td><td>0</td><td><input type="range" min="0" max="300" value="'+this.constants.physics.hierarchicalRepulsion.nodeDistance+'" step="1" style="width:300px" id="graph_H_nd"></td><td width="50px">300</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.nodeDistance+'" id="graph_H_nd_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="'+this.constants.physics.hierarchicalRepulsion.centralGravity+'" step="0.05"  style="width:300px" id="graph_H_cg"></td><td>3</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.centralGravity+'" id="graph_H_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="'+this.constants.physics.hierarchicalRepulsion.springLength+'" step="1" style="width:300px" id="graph_H_sl"></td><td>500</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.springLength+'" id="graph_H_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="'+this.constants.physics.hierarchicalRepulsion.springConstant+'" step="0.001" style="width:300px" id="graph_H_sc"></td><td>0.5</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.springConstant+'" id="graph_H_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="'+this.constants.physics.hierarchicalRepulsion.damping+'" step="0.005" style="width:300px" id="graph_H_damp"></td><td>0.3</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.damping+'" id="graph_H_damp_value" style="width:60px"></td></tr><tr><td width="150px">direction</td><td>1</td><td><input type="range" min="0" max="3" value="'+a.indexOf(this.constants.hierarchicalLayout.direction)+'" step="1" style="width:300px" id="graph_H_direction"></td><td>4</td><td><input value="'+this.constants.hierarchicalLayout.direction+'" id="graph_H_direction_value" style="width:60px"></td></tr><tr><td width="150px">levelSeparation</td><td>1</td><td><input type="range" min="0" max="500" value="'+this.constants.hierarchicalLayout.levelSeparation+'" step="1" style="width:300px" id="graph_H_levsep"></td><td>500</td><td><input value="'+this.constants.hierarchicalLayout.levelSeparation+'" id="graph_H_levsep_value" style="width:60px"></td></tr><tr><td width="150px">nodeSpacing</td><td>1</td><td><input type="range" min="0" max="500" value="'+this.constants.hierarchicalLayout.nodeSpacing+'" step="1" style="width:300px" id="graph_H_nspac"></td><td>500</td><td><input value="'+this.constants.hierarchicalLayout.nodeSpacing+'" id="graph_H_nspac_value" style="width:60px"></td></tr></table><table><tr><td><b>Options:</b></td></tr><tr><td width="180px"><input type="button" id="graph_toggleSmooth" value="Toggle smoothCurves" style="width:150px"></td><td width="180px"><input type="button" id="graph_repositionNodes" value="Reinitialize" style="width:150px"></td><td width="180px"><input type="button" id="graph_generateOptions" value="Generate Options" style="width:150px"></td></tr></table>',this.containerElement.parentElement.insertBefore(this.physicsConfiguration,this.containerElement),this.optionsDiv=document.createElement("div"),this.optionsDiv.style.fontSize="14px",this.optionsDiv.style.fontFamily="verdana",this.containerElement.parentElement.insertBefore(this.optionsDiv,this.containerElement);var b;b=document.getElementById("graph_BH_gc"),b.onchange=h.bind(this,"graph_BH_gc",-1,"physics_barnesHut_gravitationalConstant"),b=document.getElementById("graph_BH_cg"),b.onchange=h.bind(this,"graph_BH_cg",1,"physics_centralGravity"),b=document.getElementById("graph_BH_sc"),b.onchange=h.bind(this,"graph_BH_sc",1,"physics_springConstant"),b=document.getElementById("graph_BH_sl"),b.onchange=h.bind(this,"graph_BH_sl",1,"physics_springLength"),b=document.getElementById("graph_BH_damp"),b.onchange=h.bind(this,"graph_BH_damp",1,"physics_damping"),b=document.getElementById("graph_R_nd"),b.onchange=h.bind(this,"graph_R_nd",1,"physics_repulsion_nodeDistance"),b=document.getElementById("graph_R_cg"),b.onchange=h.bind(this,"graph_R_cg",1,"physics_centralGravity"),b=document.getElementById("graph_R_sc"),b.onchange=h.bind(this,"graph_R_sc",1,"physics_springConstant"),b=document.getElementById("graph_R_sl"),b.onchange=h.bind(this,"graph_R_sl",1,"physics_springLength"),b=document.getElementById("graph_R_damp"),b.onchange=h.bind(this,"graph_R_damp",1,"physics_damping"),b=document.getElementById("graph_H_nd"),b.onchange=h.bind(this,"graph_H_nd",1,"physics_hierarchicalRepulsion_nodeDistance"),b=document.getElementById("graph_H_cg"),b.onchange=h.bind(this,"graph_H_cg",1,"physics_centralGravity"),b=document.getElementById("graph_H_sc"),b.onchange=h.bind(this,"graph_H_sc",1,"physics_springConstant"),b=document.getElementById("graph_H_sl"),b.onchange=h.bind(this,"graph_H_sl",1,"physics_springLength"),b=document.getElementById("graph_H_damp"),b.onchange=h.bind(this,"graph_H_damp",1,"physics_damping"),b=document.getElementById("graph_H_direction"),b.onchange=h.bind(this,"graph_H_direction",a,"hierarchicalLayout_direction"),b=document.getElementById("graph_H_levsep"),b.onchange=h.bind(this,"graph_H_levsep",1,"hierarchicalLayout_levelSeparation"),b=document.getElementById("graph_H_nspac"),b.onchange=h.bind(this,"graph_H_nspac",1,"hierarchicalLayout_nodeSpacing");var c=document.getElementById("graph_physicsMethod1"),j=document.getElementById("graph_physicsMethod2"),k=document.getElementById("graph_physicsMethod3");j.checked=!0,this.constants.physics.barnesHut.enabled&&(c.checked=!0),this.constants.hierarchicalLayout.enabled&&(k.checked=!0);var l=document.getElementById("graph_toggleSmooth"),m=document.getElementById("graph_repositionNodes"),n=document.getElementById("graph_generateOptions");l.onclick=d.bind(this),m.onclick=e.bind(this),n.onclick=f.bind(this),l.style.background=1==this.constants.smoothCurves&&0==this.constants.dynamicSmoothCurves?"#A4FF56":"#FF8532",g.apply(this),c.onchange=g.bind(this),j.onchange=g.bind(this),k.onchange=g.bind(this)}},b._overWriteGraphConstants=function(a,b){var c=a.split("_");1==c.length?this.constants[c[0]]=b:2==c.length?this.constants[c[0]][c[1]]=b:3==c.length&&(this.constants[c[0]][c[1]][c[2]]=b)}},function(a){function b(a){throw new Error("Cannot find module '"+a+"'.")}b.keys=function(){return[]},b.resolve=b,a.exports=b,b.id=67},function(a,b){b._calculateNodeForces=function(){var a,b,c,d,e,f,g,h,i,j,k,l=this.calculationNodes,m=this.calculationNodeIndices,n=-2/3,o=4/3,p=this.constants.physics.repulsion.nodeDistance,q=p;for(j=0;j<m.length-1;j++)for(h=l[m[j]],k=j+1;k<m.length;k++){i=l[m[k]],f=h.clusterSize+i.clusterSize-2,a=i.x-h.x,b=i.y-h.y,c=Math.sqrt(a*a+b*b),q=0==f?p:p*(1+f*this.constants.clustering.distanceAmplification);var r=n/q;2*q>c&&(g=.5*q>c?1:r*c+o,g*=0==f?1:1+f*this.constants.clustering.forceAmplification,g/=c,d=a*g,e=b*g,h.fx-=d,h.fy-=e,i.fx+=d,i.fy+=e)}}},function(a,b){b._calculateNodeForces=function(){var a,b,c,d,e,f,g,h,i,j,k=this.calculationNodes,l=this.calculationNodeIndices,m=this.constants.physics.hierarchicalRepulsion.nodeDistance;for(i=0;i<l.length-1;i++)for(g=k[l[i]],j=i+1;j<l.length;j++)if(h=k[l[j]],g.level==h.level){a=h.x-g.x,b=h.y-g.y,c=Math.sqrt(a*a+b*b);var n=.05;f=m>c?-Math.pow(n*c,2)+Math.pow(n*m,2):0,0==c?c=.01:f/=c,d=a*f,e=b*f,g.fx-=d,g.fy-=e,h.fx+=d,h.fy+=e}},b._calculateHierarchicalSpringForces=function(){for(var a,b,c,d,e,f,g,h,i,j=this.edges,k=this.calculationNodes,l=this.calculationNodeIndices,m=0;m<l.length;m++){var n=k[l[m]];n.springFx=0,n.springFy=0}for(c in j)if(j.hasOwnProperty(c)&&(b=j[c],b.connected&&this.nodes.hasOwnProperty(b.toId)&&this.nodes.hasOwnProperty(b.fromId)))if(a=b.physics.springLength,a+=(b.to.clusterSize+b.from.clusterSize-2)*this.constants.clustering.edgeGrowth,d=b.from.x-b.to.x,e=b.from.y-b.to.y,i=Math.sqrt(d*d+e*e),0==i&&(i=.01),h=this.constants.physics.springConstant*(a-i)/i,f=d*h,g=e*h,b.to.level!=b.from.level)b.to.springFx-=f,b.to.springFy-=g,b.from.springFx+=f,b.from.springFy+=g;else{var o=.5;b.to.fx-=o*f,b.to.fy-=o*g,b.from.fx+=o*f,b.from.fy+=o*g}var p,q,h=1;for(m=0;m<l.length;m++){var r=k[l[m]];p=Math.min(h,Math.max(-h,r.springFx)),q=Math.min(h,Math.max(-h,r.springFy)),r.fx+=p,r.fy+=q}var s=0,t=0;for(m=0;m<l.length;m++){var r=k[l[m]];s+=r.fx,t+=r.fy}var u=s/l.length,v=t/l.length;for(m=0;m<l.length;m++){var r=k[l[m]];r.fx-=u,r.fy-=v}}},function(a,b){b._calculateNodeForces=function(){if(0!=this.constants.physics.barnesHut.gravitationalConstant){var a,b=this.calculationNodes,c=this.calculationNodeIndices,d=c.length;this._formBarnesHutTree(b,c);for(var e=this.barnesHutTree,f=0;d>f;f++)a=b[c[f]],a.options.mass>0&&(this._getForceContribution(e.root.children.NW,a),this._getForceContribution(e.root.children.NE,a),this._getForceContribution(e.root.children.SW,a),this._getForceContribution(e.root.children.SE,a))}},b._getForceContribution=function(a,b){if(a.childrenCount>0){var c,d,e;if(c=a.centerOfMass.x-b.x,d=a.centerOfMass.y-b.y,e=Math.sqrt(c*c+d*d),e*a.calcSize>this.constants.physics.barnesHut.theta){0==e&&(e=.1*Math.random(),c=e);var f=this.constants.physics.barnesHut.gravitationalConstant*a.mass*b.options.mass/(e*e*e),g=c*f,h=d*f;b.fx+=g,b.fy+=h}else if(4==a.childrenCount)this._getForceContribution(a.children.NW,b),this._getForceContribution(a.children.NE,b),this._getForceContribution(a.children.SW,b),this._getForceContribution(a.children.SE,b);else if(a.children.data.id!=b.id){0==e&&(e=.5*Math.random(),c=e);var f=this.constants.physics.barnesHut.gravitationalConstant*a.mass*b.options.mass/(e*e*e),g=c*f,h=d*f;b.fx+=g,b.fy+=h}}},b._formBarnesHutTree=function(a,b){for(var c,d=b.length,e=Number.MAX_VALUE,f=Number.MAX_VALUE,g=-Number.MAX_VALUE,h=-Number.MAX_VALUE,i=0;d>i;i++){var j=a[b[i]].x,k=a[b[i]].y;a[b[i]].options.mass>0&&(e>j&&(e=j),j>g&&(g=j),f>k&&(f=k),k>h&&(h=k))}var l=Math.abs(g-e)-Math.abs(h-f);l>0?(f-=.5*l,h+=.5*l):(e+=.5*l,g-=.5*l);var m=1e-5,n=Math.max(m,Math.abs(g-e)),o=.5*n,p=.5*(e+g),q=.5*(f+h),r={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-o,maxX:p+o,minY:q-o,maxY:q+o},size:n,calcSize:1/n,children:{data:null},maxWidth:0,level:0,childrenCount:4}};for(this._splitBranch(r.root),i=0;d>i;i++)c=a[b[i]],c.options.mass>0&&this._placeInTree(r.root,c);this.barnesHutTree=r},b._updateBranchMass=function(a,b){var c=a.mass+b.options.mass,d=1/c;a.centerOfMass.x=a.centerOfMass.x*a.mass+b.x*b.options.mass,a.centerOfMass.x*=d,a.centerOfMass.y=a.centerOfMass.y*a.mass+b.y*b.options.mass,a.centerOfMass.y*=d,a.mass=c;var e=Math.max(Math.max(b.height,b.radius),b.width);a.maxWidth=a.maxWidth<e?e:a.maxWidth},b._placeInTree=function(a,b,c){(1!=c||void 0===c)&&this._updateBranchMass(a,b),a.children.NW.range.maxX>b.x?a.children.NW.range.maxY>b.y?this._placeInRegion(a,b,"NW"):this._placeInRegion(a,b,"SW"):a.children.NW.range.maxY>b.y?this._placeInRegion(a,b,"NE"):this._placeInRegion(a,b,"SE")},b._placeInRegion=function(a,b,c){switch(a.children[c].childrenCount){case 0:a.children[c].children.data=b,a.children[c].childrenCount=1,this._updateBranchMass(a.children[c],b);break;case 1:a.children[c].children.data.x==b.x&&a.children[c].children.data.y==b.y?(b.x+=Math.random(),b.y+=Math.random()):(this._splitBranch(a.children[c]),this._placeInTree(a.children[c],b));break;case 4:this._placeInTree(a.children[c],b)}},b._splitBranch=function(a){var b=null;
1==a.childrenCount&&(b=a.children.data,a.mass=0,a.centerOfMass.x=0,a.centerOfMass.y=0),a.childrenCount=4,a.children.data=null,this._insertRegion(a,"NW"),this._insertRegion(a,"NE"),this._insertRegion(a,"SW"),this._insertRegion(a,"SE"),null!=b&&this._placeInTree(a,b)},b._insertRegion=function(a,b){var c,d,e,f,g=.5*a.size;switch(b){case"NW":c=a.range.minX,d=a.range.minX+g,e=a.range.minY,f=a.range.minY+g;break;case"NE":c=a.range.minX+g,d=a.range.maxX,e=a.range.minY,f=a.range.minY+g;break;case"SW":c=a.range.minX,d=a.range.minX+g,e=a.range.minY+g,f=a.range.maxY;break;case"SE":c=a.range.minX+g,d=a.range.maxX,e=a.range.minY+g,f=a.range.maxY}a.children[b]={centerOfMass:{x:0,y:0},mass:0,range:{minX:c,maxX:d,minY:e,maxY:f},size:.5*a.size,calcSize:2*a.calcSize,children:{data:null},maxWidth:0,level:a.level+1,childrenCount:0}},b._drawTree=function(a,b){void 0!==this.barnesHutTree&&(a.lineWidth=1,this._drawBranch(this.barnesHutTree.root,a,b))},b._drawBranch=function(a,b,c){void 0===c&&(c="#FF0000"),4==a.childrenCount&&(this._drawBranch(a.children.NW,b),this._drawBranch(a.children.NE,b),this._drawBranch(a.children.SE,b),this._drawBranch(a.children.SW,b)),b.strokeStyle=c,b.beginPath(),b.moveTo(a.range.minX,a.range.minY),b.lineTo(a.range.maxX,a.range.minY),b.stroke(),b.beginPath(),b.moveTo(a.range.maxX,a.range.minY),b.lineTo(a.range.maxX,a.range.maxY),b.stroke(),b.beginPath(),b.moveTo(a.range.maxX,a.range.maxY),b.lineTo(a.range.minX,a.range.maxY),b.stroke(),b.beginPath(),b.moveTo(a.range.minX,a.range.maxY),b.lineTo(a.range.minX,a.range.minY),b.stroke()}},function(a){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1),a}}])}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,b,c){function d(a){for(var b in a)if(void 0!==f.style[b])return a[b]}var e=function(d,f,g){g=g||{};var h=a.defer(),i=e[g.animation?"animationEndEventName":"transitionEndEventName"],j=function(){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(f)?d.addClass(f):angular.isFunction(f)?f(d):angular.isObject(f)&&d.css(f),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},f=document.createElement("trans"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},h={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return e.transitionEndEventName=d(g),e.animationEndEventName=d(h),e}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(a){return{link:function(b,c,d){function e(b){function d(){j===e&&(j=void 0)}var e=a(c,b);return j&&j.cancel(),j=e,e.then(d,d),e}function f(){k?(k=!1,g()):(c.removeClass("collapse").addClass("collapsing"),e({height:c[0].scrollHeight+"px"}).then(g))}function g(){c.removeClass("collapsing"),c.addClass("collapse in"),c.css({height:"auto"})}function h(){if(k)k=!1,i(),c.css({height:0});else{c.css({height:c[0].scrollHeight+"px"});{c[0].offsetWidth}c.removeClass("collapse in").addClass("collapsing"),e({height:0}).then(i)}}function i(){c.removeClass("collapsing"),c.addClass("collapse")}var j,k=!0;b.$watch(d.collapse,function(a){a?h():f()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.$watch("isOpen",function(b){b&&d.closeOthers(a)}),a.toggleOpen=function(){a.isDisabled||(a.isOpen=!a.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable="close"in b,this.close=a.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(a){return{require:"alert",link:function(b,c,d,e){a(function(){e.close()},parseInt(d.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(a,b,c){b.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){var e=d[0],f=d[1];f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.btnRadio)))},b.bind(e.toggleEvent,function(){var d=b.hasClass(e.activeClass);(!d||angular.isDefined(c.uncheckable))&&a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.btnRadio)),f.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){var d=a.$eval(b);return angular.isDefined(d)?d:c}var h=d[0],i=d[1];i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.bind(h.toggleEvent,function(){a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(a,b,c,d){function e(){f();var b=+a.interval;!isNaN(b)&&b>0&&(h=c(g,b))}function f(){h&&(c.cancel(h),h=null)}function g(){var b=+a.interval;i&&!isNaN(b)&&b>0?a.next():a.pause()}var h,i,j=this,k=j.slides=a.slides=[],l=-1;j.currentSlide=null;var m=!1;j.select=a.select=function(c,f){function g(){if(!m){if(j.currentSlide&&angular.isString(f)&&!a.noTransition&&c.$element){c.$element.addClass(f);{c.$element[0].offsetWidth}angular.forEach(k,function(a){angular.extend(a,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(c,{direction:f,active:!0,entering:!0}),angular.extend(j.currentSlide||{},{direction:f,leaving:!0}),a.$currentTransition=d(c.$element,{}),function(b,c){a.$currentTransition.then(function(){h(b,c)},function(){h(b,c)})}(c,j.currentSlide)}else h(c,j.currentSlide);j.currentSlide=c,l=i,e()}}function h(b,c){angular.extend(b,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(c||{},{direction:"",active:!1,leaving:!1,entering:!1}),a.$currentTransition=null}var i=k.indexOf(c);void 0===f&&(f=i>l?"next":"prev"),c&&c!==j.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),b(g)):g())},a.$on("$destroy",function(){m=!0}),j.indexOfSlide=function(a){return k.indexOf(a)},a.next=function(){var b=(l+1)%k.length;return a.$currentTransition?void 0:j.select(k[b],"next")},a.prev=function(){var b=0>l-1?k.length-1:l-1;return a.$currentTransition?void 0:j.select(k[b],"prev")},a.isActive=function(a){return j.currentSlide===a},a.$watch("interval",e),a.$on("$destroy",f),a.play=function(){i||(i=!0,e())},a.pause=function(){a.noPause||(i=!1,f())},j.addSlide=function(b,c){b.$element=c,k.push(b),1===k.length||b.active?(j.select(k[k.length-1]),1==k.length&&a.play()):b.active=!1},j.removeSlide=function(a){var b=k.indexOf(a);k.splice(b,1),k.length>0&&a.active?j.select(b>=k.length?k[b-1]:k[b]):l>b&&l--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(a,b){function c(a){var c=[],d=a.split("");return angular.forEach(e,function(b,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+b.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;h>g;g++)d[g]="",a[g]="$";a=a.join(""),c.push({index:f,apply:b.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:b(c,"index")}}function d(a,b,c){return 1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}this.parsers={};var e={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:a.DATETIME_FORMATS.MONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.MONTH.indexOf(b)}},MMM:{regex:a.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.SHORTMONTH.indexOf(b)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:a.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:a.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(b,e){if(!angular.isString(b)||!e)return b;e=a.DATETIME_FORMATS[e]||e,this.parsers[e]||(this.parsers[e]=c(e));var f=this.parsers[e],g=f.regex,h=f.map,i=b.match(g);if(i&&i.length){for(var j,k={year:1900,month:0,date:1,hours:0},l=1,m=i.length;m>l;l++){var n=h[l-1];n.apply&&n.apply.call(k,i[l])}return d(k.year,k.month,k.date)&&(j=new Date(k.year,k.month,k.date,k.hours)),j}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(c,e){i[c]=angular.isDefined(b[c])?8>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):h[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=h[d]?new Date(h[d]):null}),a.datepickerMode=a.datepickerMode||h.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(b.initDate)?a.$parent.$eval(b.initDate):new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$modelValue){var a=new Date(j.$modelValue),b=!isNaN(a);b?this.activeDate=a:f.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),j.$setValidity("date",b)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$modelValue?new Date(j.$modelValue):null;j.$setValidity("date-disabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$modelValue?new Date(j.$modelValue):null;return{date:a,label:g(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$modelValue?new Date(j.$modelValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&-1===b||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){e(function(){i.element[0].focus()},0,!1)};a.$on("datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate),k()}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):(a.toggleMode("up"===c?1:-1),k())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}).directive("daypicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(b,c,d,e){function f(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?i[b]:29}function g(a,b){var c=new Array(b),d=new Date(a),e=0;for(d.setHours(12);b>e;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.step={months:1},e.element=c;var i=[31,28,31,30,31,30,31,31,30,31,30,31];e._refreshView=function(){var c=e.activeDate.getFullYear(),d=e.activeDate.getMonth(),f=new Date(c,d,1),i=e.startingDay-f.getDay(),j=i>0?7-i:-i,k=new Date(f);j>0&&k.setDate(-j+1);for(var l=g(k,42),m=0;42>m;m++)l[m]=angular.extend(e.createDateObject(l[m],e.formatDay),{secondary:l[m].getMonth()!==d,uid:b.uniqueId+"-"+m});b.labels=new Array(7);for(var n=0;7>n;n++)b.labels[n]={abbr:a(l[n].date,e.formatDayHeader),full:a(l[n].date,"EEEE")};if(b.title=a(e.activeDate,e.formatDayTitle),b.rows=e.split(l,7),b.showWeeks){b.weekNumbers=[];for(var o=h(b.rows[0][0].date),p=b.rows.length;b.weekNumbers.push(o++)<p;);}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.handleKeyDown=function(a){var b=e.activeDate.getDate();if("left"===a)b-=1;else if("up"===a)b-=7;else if("right"===a)b+=1;else if("down"===a)b+=7;else if("pageup"===a||"pagedown"===a){var c=e.activeDate.getMonth()+("pageup"===a?-1:1);e.activeDate.setMonth(c,1),b=Math.min(f(e.activeDate.getFullYear(),e.activeDate.getMonth()),b)}else"home"===a?b=1:"end"===a&&(b=f(e.activeDate.getFullYear(),e.activeDate.getMonth()));e.activeDate.setDate(b)},e.refreshView()}}}]).directive("monthpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(b,c,d,e){e.step={years:1},e.element=c,e._refreshView=function(){for(var c=new Array(12),d=e.activeDate.getFullYear(),f=0;12>f;f++)c[f]=angular.extend(e.createDateObject(new Date(d,f,1),e.formatMonth),{uid:b.uniqueId+"-"+f});b.title=a(e.activeDate,e.formatMonthTitle),b.rows=e.split(c,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.handleKeyDown=function(a){var b=e.activeDate.getMonth();if("left"===a)b-=1;else if("up"===a)b-=3;else if("right"===a)b+=1;else if("down"===a)b+=3;else if("pageup"===a||"pagedown"===a){var c=e.activeDate.getFullYear()+("pageup"===a?-1:1);e.activeDate.setFullYear(c)}else"home"===a?b=0:"end"===a&&(b=11);e.activeDate.setMonth(b)},e.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(a,b,c,d){function e(a){return parseInt((a-1)/f,10)*f+1}var f=d.yearRange;d.step={years:f},d.element=b,d._refreshView=function(){for(var b=new Array(f),c=0,g=e(d.activeDate.getFullYear());f>c;c++)b[c]=angular.extend(d.createDateObject(new Date(g+c,0,1),d.formatYear),{uid:a.uniqueId+"-"+c});a.title=[b[0].label,b[f-1].label].join(" - "),a.rows=d.split(b,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.handleKeyDown=function(a){var b=d.activeDate.getFullYear();"left"===a?b-=1:"up"===a?b-=5:"right"===a?b+=1:"down"===a?b+=5:"pageup"===a||"pagedown"===a?b+=("pageup"===a?-1:1)*d.step.years:"home"===a?b=e(d.activeDate.getFullYear()):"end"===a&&(b=e(d.activeDate.getFullYear())+f-1),d.activeDate.setFullYear(b)},d.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(a,b,c,d,e,f,g){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(h,i,j,k){function l(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function m(a){if(a){if(angular.isDate(a)&&!isNaN(a))return k.$setValidity("date",!0),a;if(angular.isString(a)){var b=f.parse(a,n)||new Date(a);return isNaN(b)?void k.$setValidity("date",!1):(k.$setValidity("date",!0),b)}return void k.$setValidity("date",!1)}return k.$setValidity("date",!0),null}var n,o=angular.isDefined(j.closeOnDateSelection)?h.$parent.$eval(j.closeOnDateSelection):g.closeOnDateSelection,p=angular.isDefined(j.datepickerAppendToBody)?h.$parent.$eval(j.datepickerAppendToBody):g.appendToBody;h.showButtonBar=angular.isDefined(j.showButtonBar)?h.$parent.$eval(j.showButtonBar):g.showButtonBar,h.getText=function(a){return h[a+"Text"]||g[a+"Text"]},j.$observe("datepickerPopup",function(a){n=a||g.datepickerPopup,k.$render()});var q=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");q.attr({"ng-model":"date","ng-change":"dateSelection()"});var r=angular.element(q.children()[0]);j.datepickerOptions&&angular.forEach(h.$parent.$eval(j.datepickerOptions),function(a,b){r.attr(l(b),a)}),h.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(a){if(j[a]){var c=b(j[a]);if(h.$parent.$watch(c,function(b){h.watchData[a]=b}),r.attr(l(a),"watchData."+a),"datepickerMode"===a){var d=c.assign;h.$watch("watchData."+a,function(a,b){a!==b&&d(h.$parent,a)})}}}),j.dateDisabled&&r.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),k.$parsers.unshift(m),h.dateSelection=function(a){angular.isDefined(a)&&(h.date=a),k.$setViewValue(h.date),k.$render(),o&&(h.isOpen=!1,i[0].focus())},i.bind("input change keyup",function(){h.$apply(function(){h.date=k.$modelValue})}),k.$render=function(){var a=k.$viewValue?e(k.$viewValue,n):"";i.val(a),h.date=m(k.$modelValue)};var s=function(a){h.isOpen&&a.target!==i[0]&&h.$apply(function(){h.isOpen=!1})},t=function(a){h.keydown(a)};i.bind("keydown",t),h.keydown=function(a){27===a.which?(a.preventDefault(),a.stopPropagation(),h.close()):40!==a.which||h.isOpen||(h.isOpen=!0)},h.$watch("isOpen",function(a){a?(h.$broadcast("datepicker.focus"),h.position=p?d.offset(i):d.position(i),h.position.top=h.position.top+i.prop("offsetHeight"),c.bind("click",s)):c.unbind("click",s)}),h.select=function(a){if("today"===a){var b=new Date;angular.isDate(k.$modelValue)?(a=new Date(k.$modelValue),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}h.dateSelection(a)},h.close=function(){h.isOpen=!1,i[0].focus()};var u=a(q)(h);q.remove(),p?c.find("body").append(u):i.after(u),h.$on("$destroy",function(){u.remove(),i.unbind("keydown",t),c.unbind("click",s)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(a,b){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(a){var b=null;this.open=function(e){b||(a.bind("click",c),a.bind("keydown",d)),b&&b!==e&&(b.isOpen=!1),b=e},this.close=function(e){b===e&&(b=null,a.unbind("click",c),a.unbind("keydown",d))};var c=function(a){if(b){var c=b.getToggleElement();a&&c&&c[0].contains(a.target)||b.$apply(function(){b.isOpen=!1})}},d=function(a){27===a.which&&(b.focusToggleElement(),c())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(a,b,c,d,e,f){var g,h=this,i=a.$new(),j=d.openClass,k=angular.noop,l=b.onToggle?c(b.onToggle):angular.noop;this.init=function(d){h.$element=d,b.isOpen&&(g=c(b.isOpen),k=g.assign,a.$watch(g,function(a){i.isOpen=!!a}))},this.toggle=function(a){return i.isOpen=arguments.length?!!a:!i.isOpen},this.isOpen=function(){return i.isOpen},i.getToggleElement=function(){return h.toggleElement},i.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},i.$watch("isOpen",function(b,c){f[b?"addClass":"removeClass"](h.$element,j),b?(i.focusToggleElement(),e.open(i)):e.close(i),k(a,b),angular.isDefined(b)&&b!==c&&l(a,{open:!!b})}),a.$on("$locationChangeSuccess",function(){i.isOpen=!1}),a.$on("$destroy",function(){i.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(a,b,c,d){d.init(b)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(a,b,c,d){if(d){d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$timeout",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(b,c,d){b.backdropClass=d.backdropClass||"",b.animate=!1,a(function(){b.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(a,b){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(c,d,e){d.addClass(e.windowClass||""),c.size=e.size,b(function(){c.animate=!0,d[0].querySelectorAll("[autofocus]").length||d[0].focus()}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d,e,f){function g(){for(var a=-1,b=n.keys(),c=0;c<b.length;c++)n.get(b[c]).value.backdrop&&(a=c);return a}function h(a){var b=c.find("body").eq(0),d=n.get(a).value;n.remove(a),j(d.modalDomEl,d.modalScope,300,function(){d.modalScope.$destroy(),b.toggleClass(m,n.length()>0),i()})}function i(){if(k&&-1==g()){var a=l;j(k,l,150,function(){a.$destroy(),a=null}),k=void 0,l=void 0}}function j(c,d,e,f){function g(){g.done||(g.done=!0,c.remove(),f&&f())}d.animate=!1;var h=a.transitionEndEventName;if(h){var i=b(g,e);c.bind(h,function(){b.cancel(i),g(),d.$apply()})}else b(g)}var k,l,m="modal-open",n=f.createNew(),o={};return e.$watch(g,function(a){l&&(l.index=a)}),c.bind("keydown",function(a){var b;27===a.which&&(b=n.top(),b&&b.value.keyboard&&(a.preventDefault(),e.$apply(function(){o.dismiss(b.key,"escape key press")})))}),o.open=function(a,b){n.add(a,{deferred:b.deferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard});var f=c.find("body").eq(0),h=g();if(h>=0&&!k){l=e.$new(!0),l.index=h;var i=angular.element("<div modal-backdrop></div>");i.attr("backdrop-class",b.backdropClass),k=d(i)(l),f.append(k)}var j=angular.element("<div modal-window></div>");j.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,size:b.size,index:n.length()-1,animate:"animate"}).html(b.content);var o=d(j)(b.scope);n.top().value.modalDomEl=o,f.append(o),f.addClass(m)},o.close=function(a,b){var c=n.get(a);c&&(c.value.deferred.resolve(b),h(a))},o.dismiss=function(a,b){var c=n.get(a);c&&(c.value.deferred.reject(b),h(a))},o.dismissAll=function(a){for(var b=this.getTop();b;)this.dismiss(b.key,a),b=this.getTop()},o.getTop=function(){return n.top()},o}]).provider("$modal",function(){var a={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d=(b.scope||c).$new();d.$close=k.close,d.$dismiss=k.dismiss;var f,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),f=g(b.controller,i),b.controllerAs&&(d[b.controllerAs]=f)),h.open(k,{scope:d,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]};return a}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(f,g){e=f,this.config=g,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=g.itemsPerPage},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);
return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b){a.page!==b&&b>0&&b<=a.totalPages&&(e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages},a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&b>k;f&&(l?(d=Math.max(a-Math.floor(k/2),1),e=d+k-1,e>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;e>=h;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,"...",!1);c.unshift(j)}if(b>e){var m=g(e+1,"...",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(e,f,g,h,i,j){return function(e,k,l){function m(a){var b=a||n.trigger||l,d=c[b]||b;return{show:b,hide:d}}var n=angular.extend({},b,d),o=a(e),p=j.startSymbol(),q=j.endSymbol(),r="<div "+o+'-popup title="'+p+"title"+q+'" content="'+p+"content"+q+'" placement="'+p+"placement"+q+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(){var a=f(r);return function(b,c,d){function f(){D.isOpen?l():j()}function j(){(!C||b.$eval(d[k+"Enable"]))&&(s(),D.popupDelay?z||(z=g(o,D.popupDelay,!1),z.then(function(a){a()})):o()())}function l(){b.$apply(function(){p()})}function o(){return z=null,y&&(g.cancel(y),y=null),D.content?(q(),w.css({top:0,left:0,display:"block"}),A?h.find("body").append(w):c.after(w),E(),D.isOpen=!0,D.$digest(),E):angular.noop}function p(){D.isOpen=!1,g.cancel(z),z=null,D.animation?y||(y=g(r,500)):r()}function q(){w&&r(),x=D.$new(),w=a(x,angular.noop)}function r(){y=null,w&&(w.remove(),w=null),x&&(x.$destroy(),x=null)}function s(){t(),u()}function t(){var a=d[k+"Placement"];D.placement=angular.isDefined(a)?a:n.placement}function u(){var a=d[k+"PopupDelay"],b=parseInt(a,10);D.popupDelay=isNaN(b)?n.popupDelay:b}function v(){var a=d[k+"Trigger"];F(),B=m(a),B.show===B.hide?c.bind(B.show,f):(c.bind(B.show,j),c.bind(B.hide,l))}var w,x,y,z,A=angular.isDefined(n.appendToBody)?n.appendToBody:!1,B=m(void 0),C=angular.isDefined(d[k+"Enable"]),D=b.$new(!0),E=function(){var a=i.positionElements(c,w,D.placement,A);a.top+="px",a.left+="px",w.css(a)};D.isOpen=!1,d.$observe(e,function(a){D.content=a,!a&&D.isOpen&&p()}),d.$observe(k+"Title",function(a){D.title=a});var F=function(){c.unbind(B.show,j),c.unbind(B.hide,l)};v();var G=b.$eval(d[k+"Animation"]);D.animation=angular.isDefined(G)?!!G:n.animation;var H=b.$eval(d[k+"AppendToBody"]);A=angular.isDefined(H)?H:A,A&&b.$on("$locationChangeSuccess",function(){D.isOpen&&p()}),b.$on("$destroy",function(){g.cancel(y),g.cancel(z),F(),r(),D=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(a){return a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max,this.addBar=function(b,c){e||c.css({transition:"none"}),this.bars.push(b),b.$watch("value",function(c){b.percent=+(100*c/a.max).toFixed(2)}),b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(f)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff},a[b]);return a},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,a.onSelect()},b.addTab=function(a){c.push(a),1===c.length?a.active=!0:a.active&&b.select(a)},b.removeTab=function(a){var e=c.indexOf(a);if(a.active&&c.length>1&&!d){var f=e==c.length-1?e-1:e+1;b.select(c[f])}c.splice(e,1)};var d;a.$on("$destroy",function(){d=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive("tab",["$parse",function(a){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(b,c,d){return function(b,c,e,f){b.$watch("active",function(a){a&&f.select(b)}),b.disabled=!1,e.disabled&&b.$parent.$watch(a(e.disabled),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},f.addTab(b),b.$on("$destroy",function(){f.removeTab(b)}),b.$transcludeFn=d}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(a,b,c,d,e,f){function g(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===p[1]&&(b+=12)),b):void 0}function h(){var b=parseInt(a.minutes,10);return b>=0&&60>b?b:void 0}function i(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a}function j(a){k(),o.$setViewValue(new Date(n)),l(a)}function k(){o.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function l(b){var c=n.getHours(),d=n.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:i(c),a.minutes="m"===b?d:i(d),a.meridian=n.getHours()<12?p[0]:p[1]}function m(a){var b=new Date(n.getTime()+6e4*a);n.setHours(b.getHours(),b.getMinutes()),j()}var n=new Date,o={$setViewValue:angular.noop},p=angular.isDefined(b.meridians)?a.$parent.$eval(b.meridians):f.meridians||e.DATETIME_FORMATS.AMPMS;this.init=function(c,d){o=c,o.$render=this.render;var e=d.eq(0),g=d.eq(1),h=angular.isDefined(b.mousewheel)?a.$parent.$eval(b.mousewheel):f.mousewheel;h&&this.setupMousewheelEvents(e,g),a.readonlyInput=angular.isDefined(b.readonlyInput)?a.$parent.$eval(b.readonlyInput):f.readonlyInput,this.setupInputEvents(e,g)};var q=f.hourStep;b.hourStep&&a.$parent.$watch(c(b.hourStep),function(a){q=parseInt(a,10)});var r=f.minuteStep;b.minuteStep&&a.$parent.$watch(c(b.minuteStep),function(a){r=parseInt(a,10)}),a.showMeridian=f.showMeridian,b.showMeridian&&a.$parent.$watch(c(b.showMeridian),function(b){if(a.showMeridian=!!b,o.$error.time){var c=g(),d=h();angular.isDefined(c)&&angular.isDefined(d)&&(n.setHours(c),j())}else l()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){o.$setViewValue(null),o.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=g();angular.isDefined(a)?(n.setHours(a),j("h")):d(!0)},b.bind("blur",function(){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=i(a.hours)})}),a.updateMinutes=function(){var a=h();angular.isDefined(a)?(n.setMinutes(a),j("m")):d(void 0,!0)},c.bind("blur",function(){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=i(a.minutes)})})},this.render=function(){var a=o.$modelValue?new Date(o.$modelValue):null;isNaN(a)?(o.$setValidity("time",!1),d.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(n=a),k(),l())},a.incrementHours=function(){m(60*q)},a.decrementHours=function(){m(60*-q)},a.incrementMinutes=function(){m(r)},a.decrementMinutes=function(){m(-r)},a.toggleMeridian=function(){m(720*(n.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(a,b,c,d,e,f,g){var h=[9,13,27,38,40];return{require:"ngModel",link:function(i,j,k,l){var m,n=i.$eval(k.typeaheadMinLength)||1,o=i.$eval(k.typeaheadWaitMs)||0,p=i.$eval(k.typeaheadEditable)!==!1,q=b(k.typeaheadLoading).assign||angular.noop,r=b(k.typeaheadOnSelect),s=k.typeaheadInputFormatter?b(k.typeaheadInputFormatter):void 0,t=k.typeaheadAppendToBody?i.$eval(k.typeaheadAppendToBody):!1,u=i.$eval(k.typeaheadFocusFirst)!==!1,v=b(k.ngModel).assign,w=g.parse(k.typeahead),x=i.$new();i.$on("$destroy",function(){x.$destroy()});var y="typeahead-"+x.$id+"-"+Math.floor(1e4*Math.random());j.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":y});var z=angular.element("<div typeahead-popup></div>");z.attr({id:y,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(k.typeaheadTemplateUrl)&&z.attr("template-url",k.typeaheadTemplateUrl);var A=function(){x.matches=[],x.activeIdx=-1,j.attr("aria-expanded",!1)},B=function(a){return y+"-option-"+a};x.$watch("activeIdx",function(a){0>a?j.removeAttr("aria-activedescendant"):j.attr("aria-activedescendant",B(a))});var C=function(a){var b={$viewValue:a};q(i,!0),c.when(w.source(i,b)).then(function(c){var d=a===l.$viewValue;if(d&&m)if(c.length>0){x.activeIdx=u?0:-1,x.matches.length=0;for(var e=0;e<c.length;e++)b[w.itemName]=c[e],x.matches.push({id:B(e),label:w.viewMapper(x,b),model:c[e]});x.query=a,x.position=t?f.offset(j):f.position(j),x.position.top=x.position.top+j.prop("offsetHeight"),j.attr("aria-expanded",!0)}else A();d&&q(i,!1)},function(){A(),q(i,!1)})};A(),x.query=void 0;var D,E=function(a){D=d(function(){C(a)},o)},F=function(){D&&d.cancel(D)};l.$parsers.unshift(function(a){return m=!0,a&&a.length>=n?o>0?(F(),E(a)):C(a):(q(i,!1),F(),A()),p?a:a?void l.$setValidity("editable",!1):(l.$setValidity("editable",!0),a)}),l.$formatters.push(function(a){var b,c,d={};return s?(d.$model=a,s(i,d)):(d[w.itemName]=a,b=w.viewMapper(i,d),d[w.itemName]=void 0,c=w.viewMapper(i,d),b!==c?b:a)}),x.select=function(a){var b,c,e={};e[w.itemName]=c=x.matches[a].model,b=w.modelMapper(i,e),v(i,b),l.$setValidity("editable",!0),r(i,{$item:c,$model:b,$label:w.viewMapper(i,e)}),A(),d(function(){j[0].focus()},0,!1)},j.bind("keydown",function(a){0!==x.matches.length&&-1!==h.indexOf(a.which)&&(-1!=x.activeIdx||13!==a.which&&9!==a.which)&&(a.preventDefault(),40===a.which?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):38===a.which?(x.activeIdx=(x.activeIdx>0?x.activeIdx:x.matches.length)-1,x.$digest()):13===a.which||9===a.which?x.$apply(function(){x.select(x.activeIdx)}):27===a.which&&(a.stopPropagation(),A(),x.$digest()))}),j.bind("blur",function(){m=!1});var G=function(a){j[0]!==a.target&&(A(),x.$digest())};e.bind("click",G),i.$on("$destroy",function(){e.unbind("click",G),t&&H.remove()});var H=a(z)(x);t?e.find("body").append(H):j.after(H)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(a,b,c,d){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(e,f,g){var h=d(g.templateUrl)(e.$parent)||"template/typeahead/typeahead-match.html";a.get(h,{cache:b}).success(function(a){f.replaceWith(c(a.trim())(e))})}}}]).filter("typeaheadHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?(""+b).replace(new RegExp(a(c),"gi"),"<strong>$&</strong>"):b}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')
}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]);var debuggerModule=angular.module("ozpIwc.debugger",["ui.bootstrap"]);debuggerModule.factory("iwcClient",function(){var a=new ozpIwc.InternalParticipant({name:"debuggerClient"});return ozpIwc.defaultRouter.registerParticipant(a),a}),debuggerModule.controller("debuggerController",["$scope","iwcClient",function(a,b){a.client=b,a.apis=[{address:"data.api",hasChildren:!0},{address:"intents.api"},{address:"system.api"},{address:"names.api"}]}]),debuggerModule.controller("packetLogController",["$scope",function(a){function b(b){if(a.logging){var c=b.packet;a.$apply(function(){a.packets.push(c)})}}a.logging=!1,a.viewFilter="",a.packets=[],a.maxShown=50,ozpIwc.defaultPeer.on("receive",b),ozpIwc.defaultPeer.on("send",b)}]),debuggerModule.controller("apiDisplayController",["$scope","iwcClient",function(a,b){a.keys=[],a.query=function(){a.loadKey=function(c){b.send({dst:a.api.address,action:"get",resource:c.resource},function(a,b){for(i in a)c[i]=a[i];c.isLoaded=!0,b()}),b.send({dst:a.api.address,action:"list",resource:c.resource},function(a,b){c.children="ok"===a.response?a.entity:"Not Supported: "+a.response,b()})},a.refresh()},a.refresh=function(){b.send({dst:a.api.address,action:"list"},function(b){a.keys=b.entity.map(function(b){var c={resource:b,isLoaded:!1,isWatched:!1};return a.loadKey(c),c})})},a.watchKey=function(c){c.isWatched&&b.send({dst:a.api.address,action:"watch",resource:c.resource},function(b){return"changed"===b.response&&a.$evalAsync(function(){c.entity=b.entity.newValue,c.permissions=b.permissions,c.contentType=b.contentType}),c.isWatched})},a.refresh()}]),debuggerModule.controller("metricsController",["$scope","$interval",function(a,b){a.updateFrequency=1e3,a.updateActive=!0,a.refresh=function(){a.metrics=ozpIwc.metrics.allMetrics().map(function(a){return{name:a.name,unit:a.unit(),value:a.get()}})},a.refresh();var c=null,d=function(){c&&b.cancel(c),a.updateActive&&(c=b(a.refresh,a.updateFrequency))};a.$watch("updateActive",d),a.$watch("updateFrequency",d)}]),debuggerModule.controller("electionController",["$scope",function(a){function b(a,b){return b.lastElectionTS<a.time}function c(b,c){return c.lastElectionTS+a.ELECTION_TIME<Date.now()}function d(a){var b=a.debuggerTime-a.time,c="delta: "+b+" ms";return{id:a.time+"_delay",content:c,start:new Date(a.time),end:new Date(a.debuggerTime),style:"background-color: lightgray",group:a.src,subgroup:"delay"}}function e(b){var c="election"===b.action&&"undefined"!=typeof b.entity.state&&Object.keys(b.entity.state).length>0,d={id:b.time,content:"Election",start:new Date(b.debuggerTime),end:new Date(b.time+a.ELECTION_TIME),group:b.src,subgroup:"actual"};switch(b.entity.priority===-Number.MAX_VALUE&&(d.style="background-color: gray",d.content+="<label> Quitting </label> "),b.action){case"leaderQuery":d.style="background-color: purple",d.content="<label>Leader Query</label>";break;case"leaderResponse":d.style="background-color: purple",d.content="<label>Leader Response</label>",d.end=null;break;case"victory":d.style="background-color: green",d.content="<label> Victory </label>"}return c&&(d.style="background-color: orange",d.content+="</br><label> Contains State </label>"),b.src===b.entity.previousLeader&&(d.content+="</br><label> Was Leader </label>"),d}function f(b){return{id:b.time,content:" Out of Sync",start:new Date(b.debuggerTime),end:new Date(b.time+a.ELECTION_TIME),group:b.src,style:"background-color: yellow",subgroup:"actual"}}function g(b){return{id:b.time,content:" Out of Election Window",start:new Date(b.debuggerTime),end:new Date(b.time+a.ELECTION_TIME),group:b.src,style:"background-color: red",subgroup:"actual"}}function h(a,h){var i={id:a.src,content:a.src},j={id:a.time,data:a};h.electionGroups.update(i),b(a,h)?(h.elections.add(d(a)),h.elections.add(e(a))):c(a,h)?(h.elections.add(d(a)),h.elections.add(g(a))):(h.elections.add(d(a)),h.elections.add(f(a))),"victory"===a.action&&(h.lastElectionTS=a.time),h.packets[j.id]=j.data}function i(b){if("disabled"!==a.enableOrNot){var c=b.packet.data;c.debuggerTime=Date.now();var d=["election","victory","leaderQuery","leaderResponse"];if(!(d.indexOf(c.action)<0))switch(c.dst){case"data.api.election":a.$apply(function(){h(c,a.apis[0])});break;case"names.api.election":a.$apply(function(){h(c,a.apis[1])});break;case"system.api.election":a.$apply(function(){h(c,a.apis[2])});break;case"intents.api.election":a.$apply(function(){h(c,a.apis[3])});break;default:switch(c.src){case"data.api.election":a.$apply(function(){h(c,a.apis[0])});break;case"names.api.election":a.$apply(function(){h(c,a.apis[1])});break;case"system.api.election":a.$apply(function(){h(c,a.apis[2])});break;case"intents.api.election":a.$apply(function(){h(c,a.apis[3])})}}}}a.ELECTION_TIME=ozpIwc.ELECTION_TIMEOUT,a.onElectionSelect=function(b){a.selectedElection=b},a.apis=[{value:"data.api",title:"Data Api",elections:new vis.DataSet,electionGroups:new vis.DataSet,packets:{},storageEvents:{},lastElectionTS:-Number.MAX_VALUE},{value:"names.api",title:"Names Api",elections:new vis.DataSet,electionGroups:new vis.DataSet,packets:{},storageEvents:{},lastElectionTS:-Number.MAX_VALUE},{value:"system.api",title:"System Api",elections:new vis.DataSet,electionGroups:new vis.DataSet,packets:{},storageEvents:{},lastElectionTS:-Number.MAX_VALUE},{value:"intents.api",title:"Intents Api",elections:new vis.DataSet,electionGroups:new vis.DataSet,packets:{},storageEvents:{},lastElectionTS:-Number.MAX_VALUE}],a.clear=function(){for(var b in a.apis)a.apis[b].elections=new vis.DataSet,a.apis[b].electionGroups=new vis.DataSet,a.apis[b].packets={},a.apis[b].storageEvents={};a.selectedElection=null};var j=function(b){if(b.newValue&&a.recvToggle&&"enabled"===a.enableOrNot){var c=Date.now(),d=c+"_"+Math.floor(1e4*Math.random()),e=JSON.parse(b.key);for(var f in a.apis)a.apis[f].electionGroups.update({id:"storageEvent",content:"storageEvent"}),a.apis[f].elections.add({id:d,content:e.data.action||e.data.response,style:e.data.action?"":"background-color: yellow",start:c,group:"storageEvent"}),a.apis[f].storageEvents[d]=e}};a.evtListener=null,a.enableOrNot="disabled",a.toggle=function(){"disabled"===a.enableOrNot?(a.enableOrNot="enabled",a.evtListener=window.addEventListener("storage",j)):(a.enableOrNot="disabled",window.removeEventListener("storage",a.evtListener)),ozpIwc.defaultPeer.on("receive",i),ozpIwc.defaultPeer.on("send",i)}}]).directive("visTimeline",function(){return{restrict:"EA",replace:!0,scope:{timelineId:"="},link:function(a,b){a.container=b[0],a.data=new vis.DataSet,a.options={stack:!1,maxHeight:"900px",groupOrder:"content"},a.timeline=new vis.Timeline(a.container,a.data,a.options),a.timeline.on("select",function(b){if(b.items.length>0){var c=a.$parent.selectedElection.packets[b.items[0]];if(c)a.$parent.packetContents=JSON.stringify(c,null,2);else{var d=a.$parent.selectedElection.storageEvents[b.items[0]];a.$parent.packetContents=JSON.stringify(d,null,2)}}else a.$parent.packetContents=""})},controller:function(a){a.$watch("$parent.selectedElection",function(b){b?(a.timeline.setGroups(b.electionGroups),a.timeline.setItems(b.elections),a.timeline.fit()):a.timeline.clear({items:!0,groups:!0})})}}});
//# sourceMappingURL=debugger.min.js.map