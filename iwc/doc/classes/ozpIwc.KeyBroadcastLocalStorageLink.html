<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>ozpIwc.KeyBroadcastLocalStorageLink - ozpIwc</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="ozpIwc"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.2.2</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/ozpIwc.ApiError.html">ozpIwc.ApiError</a></li>
            
                <li><a href="../classes/ozpIwc.AsyncAction.html">ozpIwc.AsyncAction</a></li>
            
                <li><a href="../classes/ozpIwc.CancelableEvent.html">ozpIwc.CancelableEvent</a></li>
            
                <li><a href="../classes/ozpIwc.Client.html">ozpIwc.Client</a></li>
            
                <li><a href="../classes/ozpIwc.CommonApiBase.html">ozpIwc.CommonApiBase</a></li>
            
                <li><a href="../classes/ozpIwc.CommonApiCollectionValue.html">ozpIwc.CommonApiCollectionValue</a></li>
            
                <li><a href="../classes/ozpIwc.CommonApiValue.html">ozpIwc.CommonApiValue</a></li>
            
                <li><a href="../classes/ozpIwc.DataApi.html">ozpIwc.DataApi</a></li>
            
                <li><a href="../classes/ozpIwc.DataApiValue.html">ozpIwc.DataApiValue</a></li>
            
                <li><a href="../classes/ozpIwc.Endpoint.html">ozpIwc.Endpoint</a></li>
            
                <li><a href="../classes/ozpIwc.EndpointRegistry.html">ozpIwc.EndpointRegistry</a></li>
            
                <li><a href="../classes/ozpIwc.Event.html">ozpIwc.Event</a></li>
            
                <li><a href="../classes/ozpIwc.FragmentPacket.html">ozpIwc.FragmentPacket</a></li>
            
                <li><a href="../classes/ozpIwc.FragmentStore.html">ozpIwc.FragmentStore</a></li>
            
                <li><a href="../classes/ozpIwc.IntentsApi.html">ozpIwc.IntentsApi</a></li>
            
                <li><a href="../classes/ozpIwc.IntentsApiDefinitionValue.html">ozpIwc.IntentsApiDefinitionValue</a></li>
            
                <li><a href="../classes/ozpIwc.IntentsApiHandlerValue.html">ozpIwc.IntentsApiHandlerValue</a></li>
            
                <li><a href="../classes/ozpIwc.IntentsApiTypeValue.html">ozpIwc.IntentsApiTypeValue</a></li>
            
                <li><a href="../classes/ozpIwc.InternalParticipant.html">ozpIwc.InternalParticipant</a></li>
            
                <li><a href="../classes/ozpIwc.KeyBroadcastLocalStorageLink.html">ozpIwc.KeyBroadcastLocalStorageLink</a></li>
            
                <li><a href="../classes/ozpIwc.LeaderGroupParticipant.html">ozpIwc.LeaderGroupParticipant</a></li>
            
                <li><a href="../classes/ozpIwc.LocalStorageLink.html">ozpIwc.LocalStorageLink</a></li>
            
                <li><a href="../classes/ozpIwc.log.html">ozpIwc.log</a></li>
            
                <li><a href="../classes/ozpIwc.MetricsRegistry.html">ozpIwc.MetricsRegistry</a></li>
            
                <li><a href="../classes/ozpIwc.metricsStats.Sample.html">ozpIwc.metricsStats.Sample</a></li>
            
                <li><a href="../classes/ozpIwc.metricsStats.UniformSample.html">ozpIwc.metricsStats.UniformSample</a></li>
            
                <li><a href="../classes/ozpIwc.metricStats.html">ozpIwc.metricStats</a></li>
            
                <li><a href="../classes/ozpIwc.metricStats.BinaryHeap.html">ozpIwc.metricStats.BinaryHeap</a></li>
            
                <li><a href="../classes/ozpIwc.metricStats.ExponentiallyDecayingSample.html">ozpIwc.metricStats.ExponentiallyDecayingSample</a></li>
            
                <li><a href="../classes/ozpIwc.metricTypes.BaseMetric.html">ozpIwc.metricTypes.BaseMetric</a></li>
            
                <li><a href="../classes/ozpIwc.metricTypes.Counter.html">ozpIwc.metricTypes.Counter</a></li>
            
                <li><a href="../classes/ozpIwc.metricTypes.Gauge.html">ozpIwc.metricTypes.Gauge</a></li>
            
                <li><a href="../classes/ozpIwc.metricTypes.Histogram.html">ozpIwc.metricTypes.Histogram</a></li>
            
                <li><a href="../classes/ozpIwc.metricTypes.Meter.html">ozpIwc.metricTypes.Meter</a></li>
            
                <li><a href="../classes/ozpIwc.MulticastParticipant.html">ozpIwc.MulticastParticipant</a></li>
            
                <li><a href="../classes/ozpIwc.NamesApi.html">ozpIwc.NamesApi</a></li>
            
                <li><a href="../classes/ozpIwc.NamesApiValue.html">ozpIwc.NamesApiValue</a></li>
            
                <li><a href="../classes/ozpIwc.NetworkPacket.html">ozpIwc.NetworkPacket</a></li>
            
                <li><a href="../classes/ozpIwc.Participant.html">ozpIwc.Participant</a></li>
            
                <li><a href="../classes/ozpIwc.Peer.html">ozpIwc.Peer</a></li>
            
                <li><a href="../classes/ozpIwc.policyAuth.PDP.html">ozpIwc.policyAuth.PDP</a></li>
            
                <li><a href="../classes/ozpIwc.policyAuth.SecurityAttribute.html">ozpIwc.policyAuth.SecurityAttribute</a></li>
            
                <li><a href="../classes/ozpIwc.PostMessageParticipant.html">ozpIwc.PostMessageParticipant</a></li>
            
                <li><a href="../classes/ozpIwc.PostMessageParticipantListener.html">ozpIwc.PostMessageParticipantListener</a></li>
            
                <li><a href="../classes/ozpIwc.Router.html">ozpIwc.Router</a></li>
            
                <li><a href="../classes/ozpIwc.RouterWatchdog.html">ozpIwc.RouterWatchdog</a></li>
            
                <li><a href="../classes/ozpIwc.SystemApi.html">ozpIwc.SystemApi</a></li>
            
                <li><a href="../classes/ozpIwc.SystemApiApplicationValue.html">ozpIwc.SystemApiApplicationValue</a></li>
            
                <li><a href="../classes/ozpIwc.Timer.html">ozpIwc.Timer</a></li>
            
                <li><a href="../classes/ozpIwc.TransportPacket.html">ozpIwc.TransportPacket</a></li>
            
                <li><a href="../classes/ozpIwc.TransportPacketContext.html">ozpIwc.TransportPacketContext</a></li>
            
                <li><a href="../classes/ozpIwc.util.html">ozpIwc.util</a></li>
            
                <li><a href="../classes/ozpIwcPolicies.html">ozpIwcPolicies</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/bus.html">bus</a></li>
            
                <li><a href="../modules/bus.api.html">bus.api</a></li>
            
                <li><a href="../modules/bus.api.Type.html">bus.api.Type</a></li>
            
                <li><a href="../modules/bus.api.Value.html">bus.api.Value</a></li>
            
                <li><a href="../modules/bus.network.html">bus.network</a></li>
            
                <li><a href="../modules/bus.network.packets.html">bus.network.packets</a></li>
            
                <li><a href="../modules/bus.security.html">bus.security</a></li>
            
                <li><a href="../modules/bus.transport.html">bus.transport</a></li>
            
                <li><a href="../modules/bus.util.html">bus.util</a></li>
            
                <li><a href="../modules/client.html">client</a></li>
            
                <li><a href="../modules/common.html">common</a></li>
            
                <li><a href="../modules/metrics.html">metrics</a></li>
            
                <li><a href="../modules/metrics.statistics.html">metrics.statistics</a></li>
            
                <li><a href="../modules/metrics.types.html">metrics.types</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1>ozpIwc.KeyBroadcastLocalStorageLink Class</h1>
<div class="box meta">
    

    

    
        <div class="foundat">
            Defined in: <a href="../files/app_js_bus_network_keyBroadcastLocalStorageLink.js.html#l9"><code>app&#x2F;js&#x2F;bus&#x2F;network&#x2F;keyBroadcastLocalStorageLink.js:9</code></a>
        </div>
    

    
        
            Module: <a href="../modules/bus.network.html">bus.network</a><br>
            Parent Module: <a href="../modules/bus.html">bus</a>
        
    

    
</div>



<div class="box intro">
    <p><p>This link connects peers using the HTML5 localstorage API.  It is a second generation version of
the localStorageLink that bypasses most of the garbage collection issues.</p>
<p><p> When a packet is sent, this link turns it to a string, creates a key with that value, and
immediately deletes it.  This still sends the storage event containing the packet as the key.
This completely eliminates the need to garbage collect the localstorage space, with the associated
mutex contention and full-buffer issues.</p>

</div>


    <div class="constructor">
        <h2>Constructor</h2>
        <div id="method_ozpIwc.KeyBroadcastLocalStorageLink" class="method item">
    <h3 class="name"><code>ozpIwc.KeyBroadcastLocalStorageLink</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code class="optional">[config]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/app_js_bus_network_keyBroadcastLocalStorageLink.js.html#l9"><code>app&#x2F;js&#x2F;bus&#x2F;network&#x2F;keyBroadcastLocalStorageLink.js:9</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name optional">[config]</code>
                        <span class="type">Object</span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    

                    <div class="param-description">
                        <p>Configuration for this link</p>

                    </div>

                    
                        <ul class="params-list">
                            
                            <li class="param">
                                
                                    <code class="param-name optional">[peer=ozpIwc.defaultPeer]</code>
                                    <span class="type"><a href="../classes/ozpIwc.Peer.html" class="crosslink">ozpIwc.Peer</a></span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>
                                

                                <div class="param-description">
                                    <p>The peer to connect to.</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name optional">[prefix=&#x27;ozpIwc&#x27;]</code>
                                    <span class="type">String</span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>
                                

                                <div class="param-description">
                                    <p>Namespace for communicating, must be the same for all peers on the same network.</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name optional">[selfId]</code>
                                    <span class="type">String</span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>
                                

                                <div class="param-description">
                                    <p>Unique name within the peer network.  Defaults to the peer id.</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name optional">[maxRetries]</code>
                                    <span class="type">Number</span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>
                                

                                <div class="param-description">
                                    <p>Number of times packet transmission will retry if failed. Defaults to 6.</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name optional">[queueSize]</code>
                                    <span class="type">Number</span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>
                                

                                <div class="param-description">
                                    <p>Number of packets allowed to be queued at one time. Defaults to 1024.</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name optional">[fragmentSize]</code>
                                    <span class="type">Number</span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>
                                

                                <div class="param-description">
                                    <p>Size in bytes of which any TransportPacket exceeds will be sent in FragmentPackets.</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name optional">[fragmentTime]</code>
                                    <span class="type">Number</span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>
                                

                                <div class="param-description">
                                    <p>Time in milliseconds after a fragment is received and additional expected
fragments are not received that the message is dropped.</p>

                                </div>

                                
                            </li>
                            
                        </ul>
                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

    </div>


<div id="classdocs" class="tabview">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

        
            <li class="api-class-tab methods"><a href="#methods">Methods</a></li>
        
        
            <li class="api-class-tab properties"><a href="#properties">Properties</a></li>
        
        
        
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index">
            <h2 class="off-left">Item Index</h2>

            
                <div class="index-section methods">
                    <h3>Methods</h3>

                    <ul class="index-list methods">
                        
                            <li class="index-item method">
                                <a href="#method_attemptSend">attemptSend</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_defragmentPacket">defragmentPacket</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_handleFragment">handleFragment</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_queueSend">queueSend</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_send">send</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_sendImpl">sendImpl</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_storeFragment">storeFragment</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            

            
                <div class="index-section properties">
                    <h3>Properties</h3>

                    <ul class="index-list properties">
                        
                            <li class="index-item property">
                                <a href="#property_fragmentSize">fragmentSize</a>

                                
                                
                            </li>
                        
                            <li class="index-item property">
                                <a href="#property_fragmentTimeout">fragmentTimeout</a>

                                
                                
                            </li>
                        
                            <li class="index-item property">
                                <a href="#property_maxRetries">maxRetries</a>

                                
                                
                            </li>
                        
                            <li class="index-item property">
                                <a href="#property_myKeysTimeout">myKeysTimeout</a>

                                
                                
                            </li>
                        
                            <li class="index-item property">
                                <a href="#property_otherKeysTimeout">otherKeysTimeout</a>

                                
                                
                            </li>
                        
                            <li class="index-item property">
                                <a href="#property_peer">peer</a>

                                
                                
                            </li>
                        
                            <li class="index-item property">
                                <a href="#property_prefix">prefix</a>

                                
                                
                            </li>
                        
                            <li class="index-item property">
                                <a href="#property_queueSize">queueSize</a>

                                
                                
                            </li>
                        
                            <li class="index-item property">
                                <a href="#property_selfId">selfId</a>

                                
                                
                            </li>
                        
                            <li class="index-item property">
                                <a href="#property_sendQueue">sendQueue</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            

            

            
        </div>

        
            <div id="methods" class="api-class-tabpanel">
                <h2 class="off-left">Methods</h2>

                
                    <div id="method_attemptSend" class="method item">
    <h3 class="name"><code>attemptSend</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>packet</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code class="optional">[attemptCount]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/app_js_bus_network_keyBroadcastLocalStorageLink.js.html#l382"><code>app&#x2F;js&#x2F;bus&#x2F;network&#x2F;keyBroadcastLocalStorageLink.js:382</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Recursively tries sending the packet
<a href="../classes/ozpIwc.KeyBroadcastLocalStorageLink.html#property_maxRetries" class="crosslink">maxRetries</a> times.
The packet is dropped and the send fails after reaching max attempts.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">packet</code>
                        <span class="type"><a href="../classes/ozpIwc.NetworkPacket.html" class="crosslink">ozpIwc.NetworkPacket</a></span>
                    

                    

                    <div class="param-description">
                         
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name optional">[attemptCount]</code>
                        <span class="type">Number</span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    

                    <div class="param-description">
                        <p>number of times attempted to send packet.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_defragmentPacket" class="method item">
    <h3 class="name"><code>defragmentPacket</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>fragments</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="../classes/ozpIwc.NetworkPacket.html" class="crosslink">ozpIwc.NetworkPacket</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/app_js_bus_network_keyBroadcastLocalStorageLink.js.html#l287"><code>app&#x2F;js&#x2F;bus&#x2F;network&#x2F;keyBroadcastLocalStorageLink.js:287</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Rebuilds the original packet sent across the keyBroadcastLocalStorageLink from the fragments it was broken up into.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">fragments</code>
                        <span class="type"><a href="../classes/ozpIwc.FragmentStore.html" class="crosslink">ozpIwc.FragmentStore</a></span>
                    

                    

                    <div class="param-description">
                        <p>the grouping of fragments to reconstruct</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="../classes/ozpIwc.NetworkPacket.html" class="crosslink">ozpIwc.NetworkPacket</a></span>:
                    
                    <p>result the reconstructed NetworkPacket with TransportPacket as its data property.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_handleFragment" class="method item">
    <h3 class="name"><code>handleFragment</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>packet</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/app_js_bus_network_keyBroadcastLocalStorageLink.js.html#l188"><code>app&#x2F;js&#x2F;bus&#x2F;network&#x2F;keyBroadcastLocalStorageLink.js:188</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Handles fragmented packets received from the router. When all fragments of a message have been received,
the resulting packet will be passed on to the
<a href="../classes/ozpIwc.KeyBroadcastLocalStorageLink.html#property_peer" class="crosslink">registered peer</a>.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">packet</code>
                        <span class="type"><a href="../classes/ozpIwc.NetworkPacket.html" class="crosslink">ozpIwc.NetworkPacket</a></span>
                    

                    

                    <div class="param-description">
                        <p>NetworkPacket containing an ozpIwc.FragmentPacket as its data property</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_queueSend" class="method item">
    <h3 class="name"><code>queueSend</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>packet</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/app_js_bus_network_keyBroadcastLocalStorageLink.js.html#l362"><code>app&#x2F;js&#x2F;bus&#x2F;network&#x2F;keyBroadcastLocalStorageLink.js:362</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Places a packet in the <a href="../classes/ozpIwc.KeyBroadcastLocalStorageLink.html#property_sendQueue" class="crosslink">sendQueue</a>
if it does not already hold <a href="../classes/ozpIwc.KeyBroadcastLocalStorageLink.html#property_queueSize" class="crosslink">queueSize</a>
amount of packets.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">packet</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                         
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_send" class="method item">
    <h3 class="name"><code>send</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>packet</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/app_js_bus_network_keyBroadcastLocalStorageLink.js.html#l312"><code>app&#x2F;js&#x2F;bus&#x2F;network&#x2F;keyBroadcastLocalStorageLink.js:312</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Publishes a packet to other peers. If the sendQueue is full the send will not occur. If the TransportPacket is larger
than the <a href="../classes/ozpIwc.KeyBroadcastLocalStorageLink.html#property_fragmentSize" class="crosslink">fragmentSize</a>, an
<a href="../classes/ozpIwc.FragmentPacket.html" class="crosslink">ozpIwc.FragmentPacket</a> will be sent instead.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">packet</code>
                        <span class="type"><a href="../classes/ozpIwc.NetworkPacket.html" class="crosslink">ozpIwc.NetworkPacket</a></span>
                    

                    

                    <div class="param-description">
                         
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_sendImpl" class="method item">
    <h3 class="name"><code>sendImpl</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>packet</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/app_js_bus_network_keyBroadcastLocalStorageLink.js.html#l413"><code>app&#x2F;js&#x2F;bus&#x2F;network&#x2F;keyBroadcastLocalStorageLink.js:413</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Implementation of publishing packets to peers through localStorage. If the localStorage is full or a write collision
occurs, the send will not occur. Returns status of localStorage write, null if success.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">packet</code>
                        <span class="type"><a href="../classes/ozpIwc.NetworkPacket.html" class="crosslink">ozpIwc.NetworkPacket</a></span>
                    

                    

                    <div class="param-description">
                         
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_storeFragment" class="method item">
    <h3 class="name"><code>storeFragment</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>packet</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type">Boolean</span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/app_js_bus_network_keyBroadcastLocalStorageLink.js.html#l223"><code>app&#x2F;js&#x2F;bus&#x2F;network&#x2F;keyBroadcastLocalStorageLink.js:223</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Stores a received fragment. When the first fragment of a message is received, a timer is set to destroy the storage
of the message fragments should not all messages be received.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">packet</code>
                        <span class="type"><a href="../classes/ozpIwc.NetworkPacket.html" class="crosslink">ozpIwc.NetworkPacket</a></span>
                    

                    

                    <div class="param-description">
                        <p>NetworkPacket containing an <a href="../classes/ozpIwc.FragmentPacket.html" class="crosslink">ozpIwc.FragmentPacket</a> as its data property</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type">Boolean</span>:
                    
                    <p>result true if successful.</p>

                
            </div>
        </div>
    

    
</div>

                
            </div>
        

        
            <div id="properties" class="api-class-tabpanel">
                <h2 class="off-left">Properties</h2>

                
                    <div id="property_fragmentSize" class="property item">
    <h3 class="name"><code>fragmentSize</code></h3>
    <span class="type">Number</span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/app_js_bus_network_keyBroadcastLocalStorageLink.js.html#l123"><code>app&#x2F;js&#x2F;bus&#x2F;network&#x2F;keyBroadcastLocalStorageLink.js:123</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Minimum size in bytes that a packet will broken into fragments.</p>

    </div>

    
        <p><strong>Default:</strong> 1310720</p>
    

    

    
</div>

                
                    <div id="property_fragmentTimeout" class="property item">
    <h3 class="name"><code>fragmentTimeout</code></h3>
    <span class="type">Number</span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/app_js_bus_network_keyBroadcastLocalStorageLink.js.html#l131"><code>app&#x2F;js&#x2F;bus&#x2F;network&#x2F;keyBroadcastLocalStorageLink.js:131</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>The amount of time allotted to the Link to wait between expected fragment packets. If an expected fragment
is not received within this timeout the packet is dropped.</p>

    </div>

    
        <p><strong>Default:</strong> 1000</p>
    

    

    
</div>

                
                    <div id="property_maxRetries" class="property item">
    <h3 class="name"><code>maxRetries</code></h3>
    <span class="type">Number</span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/app_js_bus_network_keyBroadcastLocalStorageLink.js.html#l91"><code>app&#x2F;js&#x2F;bus&#x2F;network&#x2F;keyBroadcastLocalStorageLink.js:91</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>The maximum number of retries the link will take to send a package. A timeout of
max(1, 2^( <retry count> -1) - 1) milliseconds occurs between send attempts.</p>

    </div>

    
        <p><strong>Default:</strong> 6</p>
    

    

    
</div>

                
                    <div id="property_myKeysTimeout" class="property item">
    <h3 class="name"><code>myKeysTimeout</code></h3>
    <span class="type">Number</span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/app_js_bus_network_keyBroadcastLocalStorageLink.js.html#l72"><code>app&#x2F;js&#x2F;bus&#x2F;network&#x2F;keyBroadcastLocalStorageLink.js:72</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Milliseconds to wait before deleting this link&#39;s keys</p>

    </div>

    
        <p><strong>Default:</strong> 5000</p>
    

    

    
</div>

                
                    <div id="property_otherKeysTimeout" class="property item">
    <h3 class="name"><code>otherKeysTimeout</code></h3>
    <span class="type">Number</span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/app_js_bus_network_keyBroadcastLocalStorageLink.js.html#l81"><code>app&#x2F;js&#x2F;bus&#x2F;network&#x2F;keyBroadcastLocalStorageLink.js:81</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Milliseconds to wait before deleting other link&#39;s keys</p>

    </div>

    
        <p><strong>Default:</strong> 120000</p>
    

    

    
</div>

                
                    <div id="property_peer" class="property item">
    <h3 class="name"><code>peer</code></h3>
    <span class="type"><a href="../classes/ozpIwc.Peer.html" class="crosslink">ozpIwc.Peer</a></span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/app_js_bus_network_keyBroadcastLocalStorageLink.js.html#l45"><code>app&#x2F;js&#x2F;bus&#x2F;network&#x2F;keyBroadcastLocalStorageLink.js:45</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>The peer this link will connect to.</p>

    </div>

    
        <p><strong>Default:</strong> ozpIwc.defaultPeer</p>
    

    

    
</div>

                
                    <div id="property_prefix" class="property item">
    <h3 class="name"><code>prefix</code></h3>
    <span class="type">String</span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/app_js_bus_network_keyBroadcastLocalStorageLink.js.html#l37"><code>app&#x2F;js&#x2F;bus&#x2F;network&#x2F;keyBroadcastLocalStorageLink.js:37</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Namespace for communicating, must be the same for all peers on the same network.</p>

    </div>

    
        <p><strong>Default:</strong> &quot;ozpIwc&quot;</p>
    

    

    
</div>

                
                    <div id="property_queueSize" class="property item">
    <h3 class="name"><code>queueSize</code></h3>
    <span class="type">Number</span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/app_js_bus_network_keyBroadcastLocalStorageLink.js.html#l100"><code>app&#x2F;js&#x2F;bus&#x2F;network&#x2F;keyBroadcastLocalStorageLink.js:100</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Maximum number of packets that can be in the send queue at any given time.</p>

    </div>

    
        <p><strong>Default:</strong> 1024</p>
    

    

    
</div>

                
                    <div id="property_selfId" class="property item">
    <h3 class="name"><code>selfId</code></h3>
    <span class="type">String</span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/app_js_bus_network_keyBroadcastLocalStorageLink.js.html#l53"><code>app&#x2F;js&#x2F;bus&#x2F;network&#x2F;keyBroadcastLocalStorageLink.js:53</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Unique name within the peer network.  Defaults to the peer id.</p>

    </div>

    
        <p><strong>Default:</strong> ozpIwc.defaultPeer.selfId</p>
    

    

    
</div>

                
                    <div id="property_sendQueue" class="property item">
    <h3 class="name"><code>sendQueue</code></h3>
    <span class="type">Array</span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/app_js_bus_network_keyBroadcastLocalStorageLink.js.html#l108"><code>app&#x2F;js&#x2F;bus&#x2F;network&#x2F;keyBroadcastLocalStorageLink.js:108</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>A queue for outgoing packets. If this queue is full further packets will not be added.</p>

    </div>

    
        <p><strong>Default:</strong> []</p>
    

    

    
</div>

                
            </div>
        

        

        
    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
